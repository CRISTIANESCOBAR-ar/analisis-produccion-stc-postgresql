import{_ as me,a as c,c as p,b as e,A as pe,d as P,t as o,n as b,e as y,F as V,r as U,m as R,p as L,o as ve,f as Q,g as ne,B as de,i as se,u as fe,D as ce,z as we,j as ye,q as ge}from"./index-DOrYTJc_.js";import{S as O}from"./sweetalert2.esm.all-AlKuj1Cq.js";import{toPng as _e}from"./index-6sdqbm2o.js";const ke={class:"mb-8 pb-6 border-b border-slate-100 flex flex-col gap-6"},Ce={class:"flex items-center justify-between gap-4"},$e={class:"flex items-center gap-4"},Ae=["disabled"],Ie={key:0,class:"text-xl"},Se={key:1,class:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},Fe={class:"text-right px-6 py-3 bg-slate-50 rounded-xl border border-slate-100 shadow-sm hidden md:block"},Re={class:"text-3xl font-black text-slate-800 font-mono"},Me={class:"text-sm text-slate-400 font-medium"},Ee={key:0,class:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-y-6 gap-x-8 p-6 bg-slate-50/50 rounded-2xl border border-slate-100 text-xs shadow-inner relative overflow-hidden"},Te={class:"space-y-1"},Ne={class:"text-blue-700 font-mono text-sm font-black"},je={class:"space-y-1"},Le=["title"],Pe={class:"space-y-1"},Be={class:"text-slate-700 font-bold"},De={class:"space-y-1 text-right"},Oe={class:"text-slate-700 font-bold"},Ve={class:"space-y-1"},Ue={class:"flex items-center gap-2"},ze={key:0,class:"px-2 py-0.5 bg-blue-100 text-blue-700 border border-blue-200 rounded text-[10px] font-black uppercase tracking-widest"},He={class:"space-y-1 md:col-span-3"},Ge=["title"],qe={key:1,class:"mt-6 p-5 bg-red-50 border border-red-200 rounded-2xl shadow-sm relative overflow-hidden"},Je={class:"flex items-start gap-4"},We={class:"text-sm text-red-600 mt-1 font-medium leading-relaxed"},Ze={class:"mb-10"},Ke={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},Qe={class:"text-[10px] text-slate-400 uppercase font-black tracking-tighter"},Xe={class:"text-3xl font-black mt-1 leading-none tracking-tighter text-slate-800"},Ye={class:"mt-3 flex items-center gap-1.5"},et={class:"flex items-baseline gap-1 mt-1"},tt={class:"text-3xl font-black leading-none tracking-tighter text-slate-800"},st={class:"mt-3 flex items-center gap-1.5"},at={class:"flex items-center gap-4 mt-2"},ot={key:0,class:"flex flex-col"},lt={class:"text-xs font-black text-slate-800 tracking-tighter"},rt={key:1,class:"flex flex-col"},nt={class:"text-xs font-black text-slate-800 tracking-tighter"},it={key:2,class:"flex flex-col"},dt={class:"mt-4 pt-3 border-t border-slate-200/50"},ct={key:0,class:"text-[8px] leading-tight text-slate-600 uppercase font-bold"},pt={key:1,class:"text-[8px] leading-tight text-slate-500 uppercase font-bold"},ut={class:"mb-10"},xt={class:"grid grid-cols-1 md:grid-cols-3 gap-5"},bt={class:"flex items-center justify-between mb-4"},ft={class:"text-xs font-black uppercase tracking-widest text-slate-400"},gt={class:"text-2xl"},mt={class:"text-sm font-bold text-slate-800 leading-tight mb-2"},vt={key:0,class:"bg-blue-50/50 p-3 rounded-xl border border-blue-100 mt-3 relative overflow-hidden"},ht={class:"text-[11px] text-blue-800 font-medium italic leading-snug"},wt={key:1,class:"mt-4 pt-4 border-t border-slate-100 flex flex-col gap-3"},yt={class:"flex justify-between items-center bg-slate-50 p-2 rounded-lg border border-slate-100"},_t={class:"flex flex-col"},kt={class:"text-xs font-bold text-slate-700"},Ct={class:"flex flex-col text-right"},$t={class:"text-xs font-bold text-slate-700"},At={class:"mb-10"},It={class:"flex items-center justify-between mb-6"},St={class:"flex items-center gap-3"},Ft={class:"text-sm leading-none"},Rt={key:0,class:"overflow-hidden bg-white border border-slate-200 rounded-3xl shadow-2xl transition-all duration-500"},Mt={class:"overflow-x-auto"},Et={class:"w-full text-left text-xs border-collapse"},Tt={class:"divide-y divide-slate-50"},Nt={class:"px-6 py-4 font-mono text-slate-900 border-r border-slate-50 relative"},jt={key:0,class:"absolute left-0 top-0 w-1 h-full bg-red-500 rounded-r-full shadow-[2px_0_10px_rgba(239,68,68,0.3)]"},Lt={class:"font-black text-sm text-slate-700"},Pt={key:1,class:"text-[9px] text-red-500 font-black uppercase tracking-tighter mt-0.5"},Bt={class:"px-6 py-4"},Dt={class:"mb-2 font-black text-slate-800 uppercase tracking-tight text-[11px] leading-tight"},Ot={class:"flex flex-wrap gap-1.5 font-bold"},Vt={key:0,class:"text-green-600 italic text-[10px] font-black uppercase tracking-widest bg-green-50 px-3 py-1 rounded-lg border border-green-100"},Ut={key:0},zt={colspan:"8",class:"px-6 py-16 text-center text-slate-400 font-bold italic"},Ht={key:0,class:"mb-10"},Gt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qt={class:"bg-cyan-50/50 border-2 border-cyan-100 rounded-2xl p-8 shadow-sm"},Jt={class:"space-y-3"},Wt={class:"bg-indigo-50/50 border-2 border-indigo-100 rounded-2xl p-8 shadow-sm"},Zt={class:"space-y-3"},Kt={class:"mb-6"},Qt={class:"bg-white border border-slate-100 rounded-2xl p-10 shadow-2xl shadow-slate-200 relative overflow-hidden group"},Xt={class:"grid grid-cols-1 md:grid-cols-2 gap-12 relative z-10"},Yt={class:"text-sm text-slate-600 leading-loose font-medium whitespace-pre-line tracking-tight border-l-2 border-slate-100 pl-6"},es={class:"text-sm text-slate-600 leading-loose font-medium whitespace-pre-line tracking-tight border-l-2 border-slate-100 pl-6"},ts={class:"mt-12 pt-8 border-t border-slate-50 flex flex-col items-center"},ss={class:"px-10 py-4 bg-slate-900 rounded-2xl shadow-xl shadow-slate-200 transform group-hover:scale-105 transition-transform duration-500"},as={class:"text-sm font-black text-white uppercase tracking-widest text-center"},os={class:"pt-6 border-t border-slate-100 flex items-center justify-between text-[10px] text-slate-400 font-black uppercase tracking-widest"},ls={class:"flex items-center gap-2 bg-slate-50 px-4 py-1 rounded-full border border-slate-100 shadow-inner"},rs={class:"text-slate-500 font-bold"},ns={__name:"AnalizadorHVI",props:{pacas:{type:Array,required:!0,default:()=>[]},metadata:{type:Object,default:()=>({})}},setup(T){const $=T,A=R(!1),j=R(!0),q=R(!1),J=R(null),v=async()=>{var n;if(J.value){q.value=!0;try{await new Promise(r=>setTimeout(r,500));const s=await _e(J.value,{quality:.95,backgroundColor:"#ffffff",cacheBust:!0,style:{borderRadius:"0"}}),d=document.createElement("a");d.download=`HVI_An√°lisis_${((n=$.metadata)==null?void 0:n.loteEntrada)||"SinLote"}_${new Date().toISOString().split("T")[0]}.png`,d.href=s,d.click(),O.fire({icon:"success",title:"Reporte Exportado",text:"La imagen del an√°lisis se ha descargado correctamente.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}catch(s){console.error("Error al exportar imagen:",s),O.fire({icon:"error",title:"Error de Exportaci√≥n",text:"No se pudo generar la imagen del reporte. Intente nuevamente."})}finally{q.value=!1}}},w={"12.5":{rpm:9e4,alfa:5.3,vel_mts:122,criticidad:"ALTA"},10:{rpm:8e4,alfa:5.3,vel_mts:121.24,criticidad:"MEDIA"},"9.5Flame":{rpm:8e4,alfa:5.4,vel_mts:122.09,criticidad:"ALTA"},"10Flame":{rpm:72e3,alfa:5.3,vel_mts:109.12,criticidad:"ALTA"},9:{rpm:8e4,alfa:5.3,vel_mts:127.8,criticidad:"MEDIA"},7:{rpm:8e4,alfa:5.3,vel_mts:144.91,criticidad:"BAJA"}},m={TITULOS:{FINOS_URDIMBRE:{key:"12.5",limite_sci:112,limite_str:28.5,rango:"12.5 Urdimbre",apto:"Apto para alta velocidad.",marginal:"Marginal para Urdimbre."},FLAME:{key:"10Flame",limite_sci:102,limite_str:26,rango:"10 Flame",apto:"Apto para efecto Slub.",marginal:"Marginal para Flame."},GRUESOS:{key:"7",limite_sci:85,limite_str:22,rango:"7 Gruesos",apto:"Ideal para Trama.",marginal:"M√≠nimo para OE."}},MITIGACION:{MAQUINA:["No exceder las RPM indicas en el plan si el SCI es < 100.","Ajustar el Alfa de torsi√≥n a 5.3-5.4 para compensar fibras con STR < 25.","Revisar tensiones de bobinado para evitar roturas prematuras."],PLANTA:["Mantener Humedad Relativa estable entre 55-65%.","Limpieza exhaustiva de √≥rganos de estiraje y rotores cada 8 horas.","Ajustar presi√≥n de rodillos en cardas para mejorar la apertura de fibras cortas.","Revisar filtros de aspiraci√≥n."]},CONCLUSIONES:{URDIMBRE:"Lote Premium: Destinar preferencialmente a Urdimbre 12.5.",STANDARD:"Lote Est√°ndar: Apto para Flame y Tramas.",RIESGO:"Lote de Riesgo: Solo para Gruesos con vigilancia estrecha."}},X={sci:{min:20,max:200,nombre:"SCI"},str:{min:15,max:50,nombre:"STR"},sf:{min:3,max:20,nombre:"SF"},mic:{min:2.5,max:7,nombre:"MIC"},ui:{min:70,max:95,nombre:"UI"},uhml:{min:20,max:40,nombre:"UHML"},rd:{min:50,max:90,nombre:"RD"},plusB:{min:3,max:20,nombre:"+b"},mst:{min:3,max:12,nombre:"MST"},mat:{min:.7,max:.98,nombre:"MAT"},elg:{min:3,max:10,nombre:"ELG"},trAr:{min:0,max:5,nombre:"TrAR"}};function oe(n){const s=[];for(const[d,r]of Object.entries(X)){const h=parseFloat(n[d]);isNaN(h)||h===0?s.push(`${r.nombre} nulo/cero`):(h<r.min||h>r.max)&&s.push(`${r.nombre} fuera de rango`)}return s}const E=L(()=>$.pacas.filter(n=>oe(n).length===0)),z=L(()=>{if(E.value.length===0)return{sci:0,str:0,sf:0,mic:0,ui:0,uhml:0,rd:0};const n=["sci","str","sf","mic","ui","uhml","rd"],s={};n.forEach(r=>s[r]=0),E.value.forEach(r=>{n.forEach(h=>{s[h]+=parseFloat(r[h])})});const d={};return n.forEach(r=>d[r]=s[r]/E.value.length),d}),H=L(()=>{const n=z.value;return{sci:{label:"SCI",value:n.sci,display:n.sci.toFixed(1),estado:n.sci>=112?"Excelente":n.sci>=102?"Apto Flame":n.sci>=85?"Apto Gruesos":"Riesgo"},str:{label:"STR",value:n.str,display:n.str.toFixed(1),estado:n.str>=28.5?"Urdimbre":n.str>=26?"Flame":n.str>=22?"Gruesos":"Cr√≠tico"},mic:{label:"MIC",value:n.mic,display:n.mic.toFixed(2),estado:n.mic>=3.8&&n.mic<=4.2?"Ideal":n.mic>=3.5&&n.mic<=4.9?"Aceptable":"Riesgo"},sf:{label:"SF (%)",value:n.sf,display:n.sf.toFixed(1),estado:n.sf<=9?"Ideal":n.sf<=11?"Aceptable":"Alto"},rd:{label:"Rd",value:n.rd,display:n.rd.toFixed(1),estado:n.rd>=74?"Premium":n.rd>=70?"Normal":"Opaca"}}}),D=L(()=>{const n=z.value;let s=0;return E.value.length>0&&(s=E.value.reduce((d,r)=>d+(parseFloat(r.plusB)||0),0)/E.value.length),{rd:n.rd,plusB:s,esOpaca:n.rd<70,riesgoShading:s>11}}),F=L(()=>{if(E.value.length<2)return{delta:0,stdDev:0,estado:"Insuficiente",alerta:""};const n=E.value.map(S=>parseFloat(S.sci)),s=Math.max(...n),d=Math.min(...n),r=s-d,h=n.reduce((S,I)=>S+I,0)/n.length,G=n.reduce((S,I)=>S+Math.pow(I-h,2),0)/n.length,B=Math.sqrt(G),W=B>12?"Inestable":"Estable";let N="";return r>50?N="ALERTA CR√çTICA DE MEZCLA: La brecha de calidad entre fardos es extrema. Obligatorio mezclar con un lote de alta uniformidad para evitar franjas de distinto tono o textura en el Denim (barrados).":r>=30&&(N="Dispersi√≥n Moderada: Se recomienda alimentaci√≥n alternada en la l√≠nea de apertura (fardos buenos vs fardos malos)."),{delta:r,stdDev:B,estado:W,alerta:N}}),_=L(()=>E.value.map(n=>{const s=parseFloat(n.sci),d=parseFloat(n.mic),r=parseFloat(n.mat),h=parseFloat(n.sf),G=parseFloat(n.str),B=parseFloat(n.rd),W=parseFloat(n.plusB)||0,N=[];let S=!1;const I={sci:112,str:28.5,sf:9,mic_min:3.8,mic_max:4.5,rd:72};s<I.sci&&(N.push({texto:`SCI Insuficiente (${s.toFixed(0)}) < ${I.sci}`,critica:!0}),S=!0),G<I.str&&(N.push({texto:`STR D√©bil (${G.toFixed(1)}) < ${I.str}`,critica:!0}),S=!0),h>I.sf&&(N.push({texto:`Fibra Corta ALTA (${h.toFixed(1)}) > ${I.sf}`,critica:!0}),S=!0),(d<I.mic_min||d>I.mic_max)&&(N.push({texto:`MIC Fuera de Rango (${d.toFixed(2)})`,critica:!0}),S=!0),B<I.rd&&(N.push({texto:`Rd Baja (Opacidad) (${B.toFixed(1)}) < ${I.rd}`,critica:!1}),S=!0),W>11&&(N.push({texto:`Riesgo Shading (+b ${W.toFixed(1)})`,critica:!1}),S=!0);let ae="";return S?s>=102&&G>=26?ae=`Apto para Flame. Vel. moderada (${(w["10Flame"].rpm/1e3).toFixed(0)}k RPM).`:ae="Apto solo para Gruesos (5/1-10/1).":ae="Apto para Urdimbre (12.5 Ne).",{fardo:n.fardo,sci:s.toFixed(1),mic:d.toFixed(2),mat:r.toFixed(2),sf:h.toFixed(1),str:G.toFixed(1),rd:B.toFixed(1),tieneBanderaRoja:S,aptitudTexto:ae,desviaciones:N,analisis:{sci:{claseBgLight:s<100?"bg-red-50 text-red-600":s<112?"bg-yellow-50 text-yellow-600":"text-green-600"},mic:{claseBgLight:d<3.8||d>4.5?"bg-orange-50 text-orange-600":"text-slate-600 font-bold"},mat:{claseBgLight:r<.85?"bg-yellow-50 text-yellow-600":"text-slate-600 font-bold"},sf:{claseBgLight:h>9?"bg-yellow-50 text-yellow-600 font-black":"text-slate-600 font-bold"},str:{claseBgLight:G<28.5?"bg-red-50 text-red-600":"text-slate-600 font-bold"},rd:{claseBgLight:B<72?"bg-red-50 text-red-600 font-black shadow-inner":"text-slate-600 font-bold"}}}})),C=L(()=>A.value?_.value:_.value.filter(n=>n.tieneBanderaRoja));function Y(n,s){const d={sci:r=>r>=112?"border-green-200 bg-green-50/20":r>=102?"border-slate-100":r>=85?"border-yellow-200 bg-yellow-50/20":"border-red-200 bg-red-50/20",str:r=>r>=28.5?"border-green-200 bg-green-50/20":r>=26?"border-slate-100":r>=22?"border-yellow-200 bg-yellow-50/20":"border-red-200 bg-red-50/20",mic:r=>r>=3.8&&r<=4.2?"border-green-200 bg-green-50/20":r<3.4||r>5?"border-orange-200 bg-orange-50/20":"border-slate-100",sf:r=>r<=9?"border-green-200 bg-green-50/20":r<=11?"border-slate-100":"border-yellow-200 bg-yellow-50/20"};return d[n]?d[n](s):"border-slate-100"}function ee(n,s){const d={sci:r=>r>=112?"bg-green-500 shadow-green-200":r>=102?"bg-slate-400":r>=85?"bg-yellow-500":"bg-red-500",str:r=>r>=28.5?"bg-green-500 shadow-green-200":r>=26?"bg-slate-400":r>=22?"bg-yellow-500":"bg-red-500",mic:r=>r>=3.8&&r<=4.2?"bg-green-500 shadow-green-200":r<3.4||r>5?"bg-orange-500":"bg-slate-400",sf:r=>r<=9?"bg-green-500 shadow-green-200":r<=11?"bg-slate-400":"bg-yellow-500"};return d[n]?d[n](s):"bg-slate-400"}function te(n,s){const d={sci:r=>r>=112?"text-green-600":r>=102?"text-slate-500":r>=85?"text-yellow-600":"text-red-600",str:r=>r>=28.5?"text-green-600":r>=26?"text-slate-500":r>=22?"text-yellow-600":"text-red-600",mic:r=>r>=3.8&&r<=4.2?"text-green-600":r<3.4||r>5?"text-orange-600":"text-slate-500",sf:r=>r<=9?"text-green-600":r<=11?"text-slate-500":"text-yellow-600"};return d[n]?d[n](s):"text-slate-500"}const le=L(()=>{const n=z.value,s=m.TITULOS,d=[];return Object.keys(s).forEach(r=>{const h=s[r],G=w[h.key];let B="border-red-200 shadow-red-50/50 hover:border-red-300",W="‚ùå",N="Riesgo de Paro Cr√≠tico",S="bg-red-50 text-red-700 border-red-200",I="";n.sci>=h.limite_sci&&n.str>=(h.limite_str||0)?(B="border-green-200 shadow-green-50/50 hover:border-green-300",W="‚úÖ",N="Eficiencia Proyectada > 94%",S="bg-green-50 text-green-700 border-green-200"):n.sci>=h.limite_sci-5&&(B="border-yellow-200 shadow-yellow-50/50 hover:border-yellow-300",W="‚ö†Ô∏è",N="Vigilancia en Salida de Rotor",S="bg-yellow-50 text-yellow-700 border-yellow-200"),h.key==="7"||h.key==="10Flame"||h.key==="9"?I="Apto por Cohesi√≥n de Masa: En estos t√≠tulos gruesos, el alto n√∫mero de fibras en el n√∫cleo del hilo compensa la baja resistencia individual (STR) detectada.":h.key==="12.5"&&(n.sf>13?I="Peligro de Puntos Delgados: Con un SF > 13%, el hilo de urdimbre presentar√° irregularidades de masa que causar√°n cortes por tensi√≥n en el telar.":I="Estabilidad en Urdimbre: La longitud y resistencia de la fibra aseguran un proceso fluido en el engomado y tejido."),d.push({titulo:`${h.rango}`,texto:n.sci>=h.limite_sci?h.apto:h.marginal,clase:B,icono:W,planInfo:G,impactoTexto:N,impactoClase:S,explicacionTecnica:I})}),d}),ie=L(()=>z.value.str<24||z.value.sf>11||z.value.mic<3.5),re=L(()=>({maquina:m.MITIGACION.MAQUINA,planta:m.MITIGACION.PLANTA})),k=L(()=>{if(E.value.length===0)return{hilanderia:"Sin datos.",calidad:"Sin datos.",conclusion:"DESCONOCIDA"};const n=z.value,s=m.CONCLUSIONES,d=F.value.alerta?`

ALERTA DE MEZCLA:
${F.value.alerta}`:"",r=(n.sci<100?"SCI promedio insuficiente para r√©gimen de 90k RPM. Se prev√© saturaci√≥n de rotores y baja eficiencia operativa. Recomendaci√≥n: Reducci√≥n de carga mec√°nica a 72k RPM.":"Fibra con SCI y STR equilibrados para el plan mensual. Capacidad de respuesta √≥ptima ante reg√≠menes de 80k-90k RPM sin comprometer la continuidad operativa.")+d,h=n.mic<3.4||n.rd<65?`RIESGO DE CALIDAD EN DENIM: Micronaire bajo (${n.mic.toFixed(2)}) indica inmadurez celular avanzada; alto riesgo de 'puntos blancos' y neps durante la absorci√≥n del colorante √≠ndigo. El RD de ${n.rd.toFixed(1)} confirma degradaci√≥n por factores clim√°ticos que afectar√° la solidez.`:"Par√°metros de madurez y reflectancia √≥ptimos. Capacidad de absorci√≥n de √≠ndigo superior, garantizando tonalidades profundas y tacto premium en el acabado final del tejido.",G=n.sci>=112&&n.mic>=3.8?s.URDIMBRE:n.sci>=102?s.STANDARD:s.RIESGO;return{hilanderia:r,calidad:h,conclusion:G}}),K=L(()=>new Date().toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}));return(n,s)=>(c(),p("div",{ref_key:"analizadorRef",ref:J,class:"analizador-hvi bg-white text-slate-800 rounded-2xl p-8 shadow-2xl border border-slate-200 max-w-6xl mx-auto overflow-hidden"},[e("header",ke,[e("div",Ce,[s[3]||(s[3]=pe('<div class="flex items-center gap-4" data-v-4b763b26><div class="p-3 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200" data-v-4b763b26><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-4b763b26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-4b763b26></path></svg></div><div data-v-4b763b26><h2 class="text-2xl font-black text-slate-900 tracking-tight" data-v-4b763b26> An√°lisis T√©cnico HVI <span class="text-blue-600 block text-sm font-bold uppercase tracking-widest mt-1" data-v-4b763b26>Matriz de Aptitud Denim Real</span></h2></div></div>',1)),e("div",$e,[e("button",{onClick:v,disabled:q.value,class:"group flex items-center gap-2 px-6 py-3 bg-white border-2 border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-600 hover:border-blue-600 hover:text-blue-600 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[q.value?(c(),p("span",Se)):(c(),p("span",Ie,"üì∏")),P(" "+o(q.value?"Generando...":"Exportar Informe"),1)],8,Ae),e("div",Fe,[s[2]||(s[2]=e("span",{class:"text-[10px] text-slate-400 uppercase font-black tracking-widest"},"Muestreo del Lote",-1)),e("p",Re,[P(o(E.value.length)+" ",1),e("span",Me,"/ "+o(T.pacas.length)+" fardos",1)])])])]),T.metadata&&T.metadata.loteEntrada?(c(),p("div",Ee,[s[10]||(s[10]=e("div",{class:"absolute top-0 right-0 p-2 opacity-5 pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-24 w-24",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.618.309a2 2 0 01-1.84.09l-1.921-.64a2 2 0 00-1.611 0l-1.921.64a2 2 0 01-1.84-.09l-.618-.309a6 6 0 00-3.86-.517l-2.387.477a2 2 0 00-1.022.547V21l3.586-3.586a2 2 0 012.828 0L24 21v-5.572z"})])],-1)),e("div",Te,[s[4]||(s[4]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Lote Entrada:",-1)),e("p",Ne,o(T.metadata.loteEntrada),1)]),e("div",je,[s[5]||(s[5]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Proveedor:",-1)),e("p",{class:"text-slate-700 font-bold truncate",title:T.metadata.proveedor},o(T.metadata.proveedor||"N/A"),9,Le)]),e("div",Pe,[s[6]||(s[6]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Grado/Tipificaci√≥n:",-1)),e("p",Be,o(T.metadata.grado||"Standard"),1)]),e("div",De,[s[7]||(s[7]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Fecha An√°lisis:",-1)),e("p",Oe,o(T.metadata.fecha||"---"),1)]),e("div",Ve,[s[8]||(s[8]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Colorimetr√≠a:",-1)),e("div",Ue,[e("span",{class:b(["px-2 py-0.5 rounded text-[10px] font-black tracking-widest uppercase border",T.metadata.color?"bg-amber-100 text-amber-700 border-amber-200":"bg-slate-200 text-slate-500 border-slate-300"])},o(T.metadata.color||"Sin color"),3),T.metadata.cort?(c(),p("span",ze,"CORT "+o(T.metadata.cort),1)):y("",!0)])]),e("div",He,[s[9]||(s[9]=e("span",{class:"text-slate-400 uppercase font-black tracking-tighter text-[9px]"},"Observaciones del Consultor:",-1)),e("p",{class:"text-slate-600 italic font-medium border-l-2 border-slate-200 pl-3 leading-relaxed",title:T.metadata.obs},o(T.metadata.obs||"No hay observaciones t√©cnicas registradas para este lote."),9,Ge)])])):y("",!0),z.value.sci<85&&E.value.length>0?(c(),p("div",qe,[s[14]||(s[14]=e("div",{class:"absolute top-0 left-0 w-1.5 h-full bg-red-500"},null,-1)),e("div",Je,[s[13]||(s[13]=e("span",{class:"text-3xl"},"üö´",-1)),e("div",null,[s[12]||(s[12]=e("h3",{class:"font-black text-red-700 uppercase tracking-tight"},"ALERTA CR√çTICA: Fibra Fuera de Est√°ndar",-1)),e("p",We,[P(" El √≠ndice SCI promedio ("+o(z.value.sci.toFixed(1))+") es insuficiente para procesos de hilatura industriales. ",1),s[11]||(s[11]=e("strong",null,"Riesgo inminente de ineficiencia operativa y rechazo de calidad.",-1))])])])])):y("",!0)]),e("section",Ze,[s[21]||(s[21]=e("div",{class:"flex items-center gap-3 mb-5"},[e("div",{class:"w-2 h-6 bg-blue-600 rounded-full"}),e("h3",{class:"text-sm font-black text-slate-900 uppercase tracking-widest"},"Resumen Ejecutivo de Fibra")],-1)),e("div",Ke,[(c(!0),p(V,null,U(H.value,(d,r)=>(c(),p("div",{key:r,class:b(["p-5 rounded-2xl border bg-white shadow-sm transition-all duration-300 hover:shadow-md hover:-translate-y-1",Y(r,d.value)])},[e("span",Qe,o(d.label),1),e("p",Xe,o(d.display),1),e("div",Ye,[e("div",{class:b(["w-2 h-2 rounded-full",ee(r,d.value)])},null,2),e("span",{class:b(["text-[11px] font-bold uppercase tracking-tight",te(r,d.value)])},o(d.estado),3)])],2))),128)),e("div",{class:b(["p-5 rounded-2xl border bg-white shadow-sm transition-all duration-300 hover:shadow-md hover:-translate-y-1",F.value.stdDev>12?"border-red-200 bg-red-50/50":"border-slate-100 bg-slate-50/10"])},[s[16]||(s[16]=e("span",{class:"text-[10px] text-slate-400 uppercase font-black tracking-tighter"},"Estabilidad (SCI)",-1)),e("div",et,[s[15]||(s[15]=e("span",{class:"text-xs font-black text-slate-400"},"Œî",-1)),e("p",tt,o(F.value.delta.toFixed(0)),1)]),e("div",st,[e("div",{class:b(["w-2 h-2 rounded-full shadow-sm",F.value.stdDev>12?"bg-red-500 shadow-red-200":"bg-green-500 shadow-green-200"])},null,2),e("span",{class:b(["text-[11px] font-bold uppercase tracking-tight",F.value.stdDev>12?"text-red-600":"text-green-600"])},o(F.value.estado)+" (SD: "+o(F.value.stdDev.toFixed(1))+") ",3)])],2),e("div",{class:b(["p-5 rounded-2xl border transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-1",D.value.esOpaca||D.value.riesgoShading?"border-amber-200 bg-amber-50/30 font-black":"border-slate-100 bg-slate-50/10"])},[s[20]||(s[20]=e("span",{class:"text-[10px] text-slate-400 uppercase font-black tracking-tighter"},"An√°lisis de Color (Rd/+b)",-1)),e("div",at,[D.value.esOpaca?(c(),p("div",ot,[s[17]||(s[17]=e("span",{class:"text-[8px] text-red-600 font-black uppercase"},"Fibra Opaca",-1)),e("span",lt,"Rd "+o(D.value.rd.toFixed(1)),1)])):y("",!0),D.value.riesgoShading?(c(),p("div",rt,[s[18]||(s[18]=e("span",{class:"text-[8px] text-amber-700 font-black uppercase"},"Riesgo Shading",-1)),e("span",nt,"+b "+o(D.value.plusB.toFixed(1)),1)])):y("",!0),!D.value.esOpaca&&!D.value.riesgoShading?(c(),p("div",it,[...s[19]||(s[19]=[e("span",{class:"text-[8px] text-green-600 font-black uppercase"},"Color Estable",-1),e("span",{class:"text-xs font-bold text-slate-600 tracking-tighter"},"Apto Indigo",-1)])])):y("",!0)]),e("div",dt,[D.value.esOpaca||D.value.riesgoShading?(c(),p("p",ct," Inestabilidad en la absorci√≥n del colorante √≠ndigo. Riesgo de barramiento. ")):(c(),p("p",pt," Uniformidad crom√°tica garantizada para procesos continuos. "))])],2)])]),e("section",ut,[s[26]||(s[26]=e("div",{class:"flex items-center gap-3 mb-5"},[e("div",{class:"w-2 h-6 bg-purple-600 rounded-full"}),e("h3",{class:"text-sm font-black text-slate-900 uppercase tracking-widest"},"Matriz de Aptitud y R√©gimen de Hilatura")],-1)),e("div",xt,[(c(!0),p(V,null,U(le.value,(d,r)=>(c(),p("div",{key:r,class:b(["relative p-6 rounded-2xl bg-white border-2 shadow-sm transition-all hover:shadow-xl",d.clase])},[e("div",bt,[e("span",ft,o(d.titulo),1),e("span",gt,o(d.icono),1)]),e("p",mt,o(d.texto),1),d.explicacionTecnica?(c(),p("div",vt,[s[23]||(s[23]=e("div",{class:"absolute top-0 left-0 w-1 h-full bg-blue-400/50"},null,-1)),e("p",ht,[s[22]||(s[22]=e("span",{class:"font-black not-italic text-[9px] uppercase block mb-1"},"Fundamento T√©cnico:",-1)),P(" "+o(d.explicacionTecnica),1)])])):y("",!0),d.planInfo?(c(),p("div",wt,[e("div",yt,[e("div",_t,[s[24]||(s[24]=e("span",{class:"text-[8px] text-slate-400 font-black uppercase"},"R√©gimen",-1)),e("span",kt,o(d.planInfo.rpm.toLocaleString())+" RPM",1)]),e("div",Ct,[s[25]||(s[25]=e("span",{class:"text-[8px] text-slate-400 font-black uppercase"},"Alfa",-1)),e("span",$t,o(d.planInfo.alfa),1)])]),e("div",{class:b(["text-[10px] font-black uppercase tracking-widest px-3 py-2 rounded-xl text-center border shadow-sm",d.impactoClase])},o(d.impactoTexto),3)])):y("",!0)],2))),128))])]),e("section",At,[e("div",It,[s[27]||(s[27]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-2 h-6 bg-red-600 rounded-full"}),e("h3",{class:"text-sm font-black text-slate-900 uppercase tracking-widest"},"Control Individual de Pacas")],-1)),e("div",St,[j.value?(c(),p("button",{key:0,onClick:s[0]||(s[0]=d=>A.value=!A.value),class:"px-4 py-2 bg-white hover:bg-slate-50 text-slate-600 text-[10px] font-black uppercase tracking-widest rounded-xl border border-slate-200 transition-all shadow-sm active:scale-95"},o(A.value?"Solo Banderas Rojas":"Ver Todas"),1)):y("",!0),e("button",{onClick:s[1]||(s[1]=d=>j.value=!j.value),class:"px-5 py-2 bg-slate-900 hover:bg-slate-800 text-white text-[10px] font-black uppercase tracking-widest rounded-xl border border-slate-700 transition-all shadow-lg active:scale-95 flex items-center gap-2"},[e("span",null,o(j.value?"Colapsar Detalle":`Ver Detalle (${C.value.length})`),1),e("span",Ft,o(j.value?"‚ûñ":"‚ûï"),1)])])]),j.value?(c(),p("div",Rt,[e("div",Mt,[e("table",Et,[s[28]||(s[28]=e("thead",null,[e("tr",{class:"bg-slate-50 text-slate-500 font-black uppercase tracking-tighter text-[10px]"},[e("th",{class:"px-6 py-5 w-24 border-b border-slate-100"},"Fardo"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"SCI"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"MIC"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"MAT"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"SF"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"STR"),e("th",{class:"px-4 py-5 w-16 text-center border-b border-slate-100"},"RD"),e("th",{class:"px-6 py-5 border-b border-slate-100"},"Evaluaci√≥n Diagn√≥stica")]),e("tr",{class:"bg-blue-50/50 text-blue-600 font-black uppercase tracking-widest text-[9px] border-y border-blue-100 shadow-inner"},[e("td",{class:"px-6 py-3 italic"},"OBJETIVO URDIMBRE"),e("td",{class:"px-4 py-3 text-center"},"> 112"),e("td",{class:"px-4 py-3 text-center"},"3.8-4.5"),e("td",{class:"px-4 py-3 text-center"},"> 0.85"),e("td",{class:"px-4 py-3 text-center"},"< 9.0"),e("td",{class:"px-4 py-3 text-center"},"> 28.5"),e("td",{class:"px-4 py-3 text-center"},"> 72.0"),e("td",{class:"px-6 py-3 font-bold"},"Referencia para Lotes Premium 12/1 a 16/1")])],-1)),e("tbody",Tt,[(c(!0),p(V,null,U(C.value,d=>(c(),p("tr",{key:d.fardo,class:"hover:bg-slate-50/80 transition-colors group"},[e("td",Nt,[d.tieneBanderaRoja?(c(),p("span",jt)):y("",!0),e("div",Lt,"#"+o(d.fardo),1),d.tieneBanderaRoja&&d.desviaciones.length>0?(c(),p("div",Pt,"Cr√≠tico")):y("",!0)]),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.sci.claseBgLight])},o(d.sci),3),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.mic.claseBgLight])},o(d.mic),3),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.mat.claseBgLight])},o(d.mat),3),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.sf.claseBgLight])},o(d.sf),3),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.str.claseBgLight])},o(d.str),3),e("td",{class:b(["px-4 py-4 font-black font-mono text-center text-sm border-x border-slate-50",d.analisis.rd.claseBgLight])},o(d.rd),3),e("td",Bt,[e("div",Dt,o(d.aptitudTexto),1),e("div",Ot,[(c(!0),p(V,null,U(d.desviaciones,(r,h)=>(c(),p("span",{key:h,class:b(["px-2 py-1 rounded-lg text-[9px] uppercase tracking-wide border shadow-sm",r.critica?"bg-red-50 text-red-700 border-red-100":"bg-amber-50 text-amber-700 border-amber-100"])},o(r.texto),3))),128)),d.desviaciones.length===0?(c(),p("span",Vt,"‚úì Norma T√©cnica OK")):y("",!0)])])]))),128)),C.value.length===0?(c(),p("tr",Ut,[e("td",zt,o(A.value?"No hay datos v√°lidos para procesar.":"No se detectan desviaciones cr√≠ticas en este lote."),1)])):y("",!0)])])])])):y("",!0)]),ie.value?(c(),p("section",Ht,[s[33]||(s[33]=e("div",{class:"flex items-center gap-3 mb-5"},[e("div",{class:"w-2 h-6 bg-cyan-600 rounded-full"}),e("h3",{class:"text-sm font-black text-slate-900 uppercase tracking-widest"},"Protocolo de Mitigaci√≥n Operativa")],-1)),e("div",Gt,[e("div",qt,[s[30]||(s[30]=e("div",{class:"flex items-center gap-2 mb-4"},[e("span",{class:"p-2 bg-cyan-600 rounded-lg text-white"},"‚öôÔ∏è"),e("p",{class:"text-xs font-black text-cyan-800 uppercase tracking-widest leading-none"},[P("Ajustes de Maquina "),e("br"),e("span",{class:"text-[9px] text-cyan-600"},"(Hilatura)")])],-1)),e("ul",Jt,[(c(!0),p(V,null,U(re.value.maquina,(d,r)=>(c(),p("li",{key:r,class:"flex items-start gap-4 text-xs text-slate-700 font-bold leading-relaxed group"},[s[29]||(s[29]=e("span",{class:"text-cyan-600 group-hover:scale-125 transition-transform"},"‚ú¶",-1)),P(" "+o(d),1)]))),128))])]),e("div",Wt,[s[32]||(s[32]=e("div",{class:"flex items-center gap-2 mb-4"},[e("span",{class:"p-2 bg-indigo-600 rounded-lg text-white"},"üè¢"),e("p",{class:"text-xs font-black text-indigo-800 uppercase tracking-widest leading-none"},[P("Planta y Ambiente "),e("br"),e("span",{class:"text-[9px] text-indigo-600"},"(Preparaci√≥n)")])],-1)),e("ul",Zt,[(c(!0),p(V,null,U(re.value.planta,(d,r)=>(c(),p("li",{key:r,class:"flex items-start gap-4 text-xs text-slate-700 font-bold leading-relaxed group"},[s[31]||(s[31]=e("span",{class:"text-indigo-600 group-hover:scale-125 transition-transform"},"‚ú¶",-1)),P(" "+o(d),1)]))),128))])])])])):y("",!0),e("section",Kt,[s[38]||(s[38]=e("div",{class:"flex items-center gap-3 mb-5"},[e("div",{class:"w-2 h-6 bg-green-600 rounded-full"}),e("h3",{class:"text-sm font-black text-slate-900 uppercase tracking-widest"},"Diagn√≥stico Final del Consultor")],-1)),e("div",Qt,[s[37]||(s[37]=e("div",{class:"absolute -right-20 -bottom-20 w-80 h-80 bg-blue-50/30 rounded-full blur-3xl pointer-events-none group-hover:bg-blue-100/40 transition-all duration-1000"},null,-1)),e("div",Xt,[e("div",null,[s[34]||(s[34]=e("h4",{class:"text-blue-600 font-black text-[10px] uppercase tracking-[0.25em] mb-4 flex items-center gap-2"},[e("span",{class:"w-2 h-2 bg-blue-600 rounded-full shadow-[0_0_8px_rgba(37,99,235,0.4)]"}),P(" Performance en Hilander√≠a ")],-1)),e("p",Yt,o(k.value.hilanderia),1)]),e("div",null,[s[35]||(s[35]=e("h4",{class:"text-purple-600 font-black text-[10px] uppercase tracking-[0.25em] mb-4 flex items-center gap-2"},[e("span",{class:"w-2 h-2 bg-purple-600 rounded-full shadow-[0_0_8px_rgba(147,51,234,0.4)]"}),P(" Aptitud en Tintorer√≠a ")],-1)),e("p",es,o(k.value.calidad),1)])]),e("div",ts,[s[36]||(s[36]=e("span",{class:"text-[9px] text-slate-400 font-black uppercase tracking-[0.3em] mb-3"},"Conclusi√≥n Ejecutiva",-1)),e("div",ss,[e("p",as,o(k.value.conclusion),1)])])])]),e("footer",os,[s[40]||(s[40]=e("div",{class:"flex items-center gap-4"},[e("span",null,"STC-PRODUCCI√ìN V2.0"),e("span",{class:"text-slate-200"},"|"),e("span",null,"M√≥dulo HVI Consultor")],-1)),e("div",ls,[s[39]||(s[39]=e("span",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},null,-1)),e("span",rs,o(K.value),1)])])],512))}},is=me(ns,[["__scopeId","data-v-4b763b26"]]),ds={class:"bg-white rounded-2xl p-8 shadow-2xl border border-slate-200 max-w-6xl mx-auto my-8"},cs={class:"flex items-center justify-between mb-8 pb-6 border-b border-slate-100"},ps=["disabled"],us={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"},xs={key:0,class:"mb-8 space-y-3"},bs={class:"text-red-800 font-black text-sm uppercase"},fs={class:"text-red-600 text-xs font-medium"},gs={class:"overflow-hidden border border-slate-200 rounded-2xl shadow-sm"},ms={class:"w-full text-left text-xs border-collapse"},vs={class:"divide-y divide-slate-50"},hs={class:"px-6 py-5"},ws={class:"flex flex-col"},ys={class:"text-slate-900 font-black text-sm"},_s={class:"text-slate-400 font-bold text-[10px] uppercase"},ks={class:"px-4 py-5 text-center"},Cs={class:"flex flex-col items-center"},$s={class:"text-slate-700 font-bold border-b border-slate-100 pb-1 mb-1 w-full"},As={class:"px-4 py-5 text-center"},Is={class:"flex flex-col items-center"},Ss={class:"text-slate-700 font-bold border-b border-slate-100 pb-1 mb-1 w-full"},Fs={class:"px-4 py-5 text-center"},Rs={class:"flex flex-col items-center"},Ms={class:"text-slate-700 font-bold border-b border-slate-100 pb-1 mb-1 w-full"},Es={class:"px-4 py-5 text-center max-w-50"},Ts={key:0,class:"text-[10px] text-red-600 font-black uppercase leading-tight"},Ns={key:1,class:"text-[10px] text-slate-400 font-bold italic"},js={class:"px-6 py-5 text-center"},Ls={key:0},Ps={__name:"EnsayoHVICompare",setup(T){const $=R([]),A=R(!1),j=async()=>{A.value=!0;try{const w=await(await fetch("/api/hvi/comparacion-muestra")).json();w.success&&($.value=w.data)}catch(v){console.error("Error cargando comparativa HVI:",v)}finally{A.value=!1}},q=L(()=>$.value.filter(v=>v.critico).map(v=>{const w=[];return parseFloat(v.var_sci)<-5&&w.push(`SCI (${v.var_sci})`),parseFloat(v.var_str)<-5&&w.push(`STR (${v.var_str})`),parseFloat(v.var_sf)>5&&w.push(`SF (${v.var_sf})`),{lote:v.lote,detalle_var:w.join(", ")}})),J=(v,w=!1)=>{const m=parseFloat(v);return w?m>5?"text-red-600":m>2?"text-orange-500":"text-green-600":m<-5?"text-red-600":m<-2?"text-orange-500":"text-green-600"};return ve(()=>{j()}),(v,w)=>(c(),p("div",ds,[e("div",cs,[w[0]||(w[0]=pe('<div class="flex items-center gap-4"><div class="p-3 bg-indigo-600 rounded-2xl shadow-lg shadow-indigo-200"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div><div><h2 class="text-2xl font-black text-slate-900 tracking-tight"> Comparativa de Calidad HVI <span class="text-indigo-600 block text-sm font-bold uppercase tracking-widest mt-1">Muestra Aprobada vs. Entrega de Lote</span></h2></div></div>',1)),e("button",{onClick:j,disabled:A.value,class:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50"},[A.value?(c(),p("span",us)):y("",!0),P(" "+o(A.value?"Consultando...":"Actualizar Comparativa"),1)],8,ps)]),q.value.length>0?(c(),p("div",xs,[(c(!0),p(V,null,U(q.value,(m,X)=>(c(),p("div",{key:X,class:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-4 animate-pulse"},[w[1]||(w[1]=e("span",{class:"text-2xl"},"‚ö†Ô∏è",-1)),e("div",null,[e("p",bs,"Reclamo Pendiente: Lote "+o(m.lote),1),e("p",fs,"La entrega es inferior a la muestra en "+o(m.detalle_var),1)])]))),128))])):y("",!0),e("div",gs,[e("table",ms,[w[3]||(w[3]=e("thead",null,[e("tr",{class:"bg-slate-50 text-slate-500 font-black uppercase tracking-tighter text-[10px] border-b border-slate-100"},[e("th",{class:"px-6 py-4"},"Lote / Muestra"),e("th",{class:"px-4 py-4 text-center"},"SCI (Mue | Ent)"),e("th",{class:"px-4 py-4 text-center"},"STR (Mue | Ent)"),e("th",{class:"px-4 py-4 text-center"},"SF % (Mue | Ent)"),e("th",{class:"px-4 py-4 text-center"},"Var. Cr√≠tica"),e("th",{class:"px-6 py-4 text-center"},"Estado de Aceptaci√≥n")])],-1)),e("tbody",vs,[(c(!0),p(V,null,U($.value,m=>(c(),p("tr",{key:m.lote,class:"hover:bg-slate-50/50 transition-colors"},[e("td",hs,[e("div",ws,[e("span",ys,"Lote: "+o(m.lote),1),e("span",_s,"Ref. Muestra: "+o(m.muestra),1)])]),e("td",ks,[e("div",Cs,[e("span",$s,o(m.sci_mue)+" | "+o(m.sci_ent),1),e("span",{class:b(["text-[10px] font-black uppercase",J(m.var_sci)])},o(m.var_sci),3)])]),e("td",As,[e("div",Is,[e("span",Ss,o(m.str_mue)+" | "+o(m.str_ent),1),e("span",{class:b(["text-[10px] font-black uppercase",J(m.var_str)])},o(m.var_str),3)])]),e("td",Fs,[e("div",Rs,[e("span",Ms,o(m.sf_mue)+" | "+o(m.sf_ent),1),e("span",{class:b(["text-[10px] font-black uppercase",J(m.var_sf,!0)])},o(m.var_sf),3)])]),e("td",Es,[m.critico?(c(),p("span",Ts,o(m.alerta),1)):(c(),p("span",Ns,"Dentro de norma"))]),e("td",js,[e("div",{class:b(["px-4 py-2 rounded-xl text-[10px] font-black border tracking-widest transition-all",m.critico?"bg-red-50 text-red-700 border-red-200":"bg-green-50 text-green-700 border-green-200 shadow-sm"])},o(m.estado),3)])]))),128)),$.value.length===0&&!A.value?(c(),p("tr",Ls,[...w[2]||(w[2]=[e("td",{colspan:"6",class:"px-6 py-20 text-center text-slate-400 font-bold italic"}," No se encontraron vinculaciones tipo 'Muestra' vs 'Entrega' registradas. ",-1)])])):y("",!0)])])])]))}},Bs={class:"flex flex-col w-full h-screen p-4 bg-slate-50 overflow-hidden"},Ds={class:"mb-4 shrink-0 flex items-center justify-between gap-2"},Os={class:"flex items-center gap-2 flex-1 max-w-2xl justify-end"},Vs={class:"relative flex-1 group max-w-md"},Us=["disabled","title"],zs={class:"flex flex-col flex-1 gap-4 overflow-hidden min-h-0"},Hs={class:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden flex flex-col h-[35%] shrink-0"},Gs={class:"px-4 py-2 bg-slate-50 border-b border-slate-200 flex items-center gap-4 shrink-0"},qs={class:"flex items-center gap-3"},Js=["value"],Ws={class:"text-[11px] font-medium text-slate-600 group-hover:text-blue-600 transition-colors"},Zs={class:"overflow-auto flex-1 h-full"},Ks={class:"w-full text-left border-collapse table-fixed"},Qs={class:"divide-y divide-slate-100"},Xs=["onClick"],Ys={class:"px-1 py-2 text-xs"},ea={class:"px-1 py-2 text-xs font-mono text-slate-700"},ta=["title"],sa={class:"px-1 py-2 text-xs text-slate-600 truncate"},aa=["onUpdate:modelValue"],oa=["onUpdate:modelValue","readonly"],la=["onUpdate:modelValue"],ra=["value"],na=["onUpdate:modelValue","disabled"],ia=["value"],da=["onUpdate:modelValue"],ca={class:"flex items-center justify-center gap-1.5"},pa=["onClick","disabled"],ua=["onClick","disabled"],xa={class:"px-1 py-2 text-xs text-center"},ba={key:0,title:"Guardado",class:"flex justify-center"},fa={key:1,title:"Pendiente de guardar",class:"flex justify-center"},ga={key:0},ma={class:"bg-slate-50 border-t border-slate-200 px-3 py-2 shrink-0 flex justify-between items-center text-[10px]"},va={class:"text-slate-500"},ha={class:"bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden flex flex-col flex-1 min-w-0"},wa={key:0,class:"bg-slate-50 px-4 py-2 border-b border-slate-200 flex justify-between items-center shrink-0"},ya={class:"flex items-center gap-3 flex-1"},_a={class:"text-xs font-bold text-slate-700 truncate"},ka={class:"text-blue-600"},Ca={class:"flex items-center gap-2"},$a=["disabled"],Aa={key:0,class:"animate-spin text-[10px]"},Ia={key:1},Sa={class:"overflow-auto flex-1 h-full"},Fa={class:"w-full text-left border-collapse table-fixed min-w-300"},Ra={class:"divide-y divide-slate-100"},Ma={class:"px-4 py-2 text-xs font-mono text-slate-700 relative"},Ea={key:0,class:"absolute -right-1 top-0 flex flex-col gap-0.5"},Ta=["title"],Na={class:"px-4 py-2 text-xs text-slate-600"},ja={class:"px-4 py-2 text-xs text-slate-600"},La={class:"px-4 py-2 text-xs text-slate-600"},Pa={class:"px-4 py-2 text-xs text-slate-600"},Ba={class:"px-4 py-2 text-xs text-slate-600"},Da={class:"px-4 py-2 text-xs text-slate-600"},Oa={key:0},Va={key:0,class:"sticky bottom-0 z-10 bg-blue-50 border-t-2 border-blue-200"},Ua={class:"font-bold text-blue-900 shadow-[0_-2px_4px_rgba(0,0,0,0.05)]"},za={class:"px-4 py-3 text-xs bg-blue-100/50"},Ha={class:"px-4 py-3 text-xs"},Ga={class:"px-4 py-3 text-xs"},qa={class:"px-4 py-3 text-xs"},Ja={class:"px-4 py-3 text-xs"},Wa={class:"px-4 py-3 text-xs"},Za={class:"px-4 py-3 text-xs"},Ka={key:1,class:"mt-3 px-3 py-2 bg-slate-50 rounded-lg border border-slate-200"},Qa={key:0,class:"mt-2 pt-2 border-t border-slate-200 flex flex-wrap gap-3 text-xs"},Xa={key:0,class:"px-2 py-1 bg-red-100 text-red-700 rounded font-medium"},Ya={key:1,class:"px-2 py-1 bg-purple-100 text-purple-700 rounded font-medium"},eo={key:2,class:"px-2 py-1 bg-amber-100 text-amber-700 rounded font-medium"},to={class:"relative w-full max-w-5xl max-h-[90vh] overflow-auto rounded-2xl shadow-2xl"},so={key:0,class:"fixed inset-0 z-60 flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4 animate-in fade-in duration-300"},ao={class:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-7xl max-h-[90vh] overflow-auto relative"},oo={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm"},lo={class:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[85vh]"},ro={class:"px-6 py-4 bg-gradient-to-br from-purple-700 via-indigo-800 to-blue-900 text-white flex justify-between items-center"},no={class:"p-8 overflow-auto bg-slate-50 min-h-[300px]"},io={key:0,class:"flex flex-col items-center justify-center py-20"},co={key:1,class:"text-sm text-slate-700 leading-relaxed whitespace-pre-line font-medium italic"},po={__name:"HVI",setup(T){const $={SCI:{min_excelente:120,min_aceptable:100,critico:85},STR:{min_excelente:30,min_aceptable:27,critico:24},SF:{max_excelente:7.5,max_aceptable:11,critico:13.5},UI:{min_excelente:83,min_aceptable:81,critico:79},UHML:{min_excelente:28.5,min_aceptable:27,critico:25.5},MIC:{rango_premium:[3.8,4.2],rango_aceptable:[3.5,4.9],descuento_por_madurez:3.4,descuento_por_finura:5},RD:{min_excelente:75,min_aceptable:70,critico:65},PLUS_B:{max_excelente:8.5,max_aceptable:10.5,critico:12},TRAR:{max_excelente:.35,max_aceptable:.55,critico:.8}};function A(l,t){const x=parseFloat(l);return isNaN(x)?"sin-dato":x>=t.min_excelente?"excelente":x>=t.min_aceptable?"aceptable":x>=t.critico?"critico":"fuera"}function j(l,t){const x=parseFloat(l);return isNaN(x)?"sin-dato":x<=t.max_excelente?"excelente":x<=t.max_aceptable?"aceptable":x<=t.critico?"critico":"fuera"}function q(l){const t=parseFloat(l);if(isNaN(t))return"sin-dato";const x=$.MIC;return t>=x.rango_premium[0]&&t<=x.rango_premium[1]?"premium":t>=x.rango_aceptable[0]&&t<=x.rango_aceptable[1]?"aceptable":t<x.descuento_por_madurez?"riesgo-tenido":t>x.descuento_por_finura?"fibra-gruesa":"fuera"}function J(l){const t=[],x=parseFloat(l.str),a=parseFloat(l.sf),u=parseFloat(l.mic),i=parseFloat(l.rd);if(parseFloat(l.sci),!isNaN(x)&&x<$.STR.critico&&t.push({tipo:"bandera-roja",mensaje:`STR cr√≠tico (${x} < ${$.STR.critico})`}),!isNaN(a)&&a>$.SF.critico&&t.push({tipo:"bandera-roja",mensaje:`SF cr√≠tico (${a} > ${$.SF.critico})`}),!isNaN(u)){const f=$.MIC;(u<f.rango_aceptable[0]||u>f.rango_aceptable[1])&&t.push({tipo:"riesgo-tenido",mensaje:`MIC fuera de rango (${u})`})}return!isNaN(i)&&i<$.RD.min_aceptable&&t.push({tipo:"fibra-opaca",mensaje:`RD bajo (${i} < 70) - Posible da√±o por humedad`}),t}function v(l){return{excelente:"bg-green-100 text-green-800",premium:"bg-green-100 text-green-800",aceptable:"bg-yellow-50 text-yellow-800",critico:"bg-orange-100 text-orange-800",fuera:"bg-red-100 text-red-800","riesgo-tenido":"bg-purple-100 text-purple-800","fibra-gruesa":"bg-orange-100 text-orange-800","sin-dato":"text-slate-400"}[l]||""}function w(l){const t=$;return{sci:A(l.sci,t.SCI),str:A(l.str,t.STR),sf:j(l.sf,t.SF),ui:A(l.ui,t.UI),uhml:A(l.uhml,t.UHML),mic:q(l.mic),rd:A(l.rd,t.RD),plusB:j(l.plusB,t.PLUS_B),trAr:j(l.trAr,t.TRAR),alertas:J(l)}}const m=R(localStorage.getItem("hvi_last_folder_path")||""),X=R(!1),oe=R(!1),E=R([]),z=R(null),H=R([]),D=R(!1),F=R(""),_=R(null),C=R([]),Y=R("No guardados"),ee=R(""),te=R(!1),le=R(!1),ie=async()=>{if(!_.value||!C.value.length){O.fire({icon:"warning",title:"Seleccione un archivo",text:"Debe seleccionar un archivo con datos para realizar el an√°lisis de IA."});return}te.value=!0,le.value=!0,ee.value="";try{const l=_.value.loteEntrada,t=H.value.filter(u=>u.loteEntrada===l).map(u=>u.tipo),a=await(await fetch("http://localhost:3001/api/hvi/predecir-hilatura",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lote:l,proveedor:_.value.proveedor,pacas:C.value,metadata:{grado:_.value.grado,tipo:_.value.tipo},contexto:t})})).json();a.success?ee.value=a.insight:ee.value="Error en el an√°lisis: "+(a.error||"Respuesta inv√°lida")}catch(l){console.error("Error al conectar con IA:",l),ee.value="Error cr√≠tico al conectar con el servidor de an√°lisis Gemini 3."}finally{te.value=!1}},re=L(()=>Y.value==="Todos"?H.value:Y.value==="Guardados"?H.value.filter(l=>l.estado==="Procesado"):Y.value==="No guardados"?H.value.filter(l=>l.estado==="Pendiente"):H.value),k=L(()=>{if(!C.value.length)return{};const l=["sci","mst","mic","mat","uhml","ui","sf","str","elg","rd","plusB","tipo","trCnt","trAr","trid"],t={};l.forEach(u=>t[u]=0);let x={};l.forEach(u=>x[u]=0),C.value.forEach(u=>{l.forEach(i=>{const f=parseFloat(u[i]);isNaN(f)||(t[i]+=f,x[i]++)})});const a={};return l.forEach(u=>{if(x[u]>0){const i=t[u]/x[u];let f=2;["sci","mst","tipo"].includes(u)&&(f=1),["trCnt","trid"].includes(u)&&(f=0),u==="tipo"?a[u]=i.toFixed(f):a[u]=i.toFixed(f).replace(".",",")}else a[u]="-"}),a}),K=L(()=>{if(!C.value.length)return{total:0,banderaRoja:0,riesgoTenido:0,fibraOpaca:0};let l=0,t=0,x=0;return C.value.forEach(a=>{const u=J(a);u.some(i=>i.tipo==="bandera-roja")&&l++,u.some(i=>i.tipo==="riesgo-tenido")&&t++,u.some(i=>i.tipo==="fibra-opaca")&&x++}),{total:l+t+x,banderaRoja:l,riesgoTenido:t,fibraOpaca:x}});function n(){return new Promise((l,t)=>{const x=window.indexedDB.open("carga-hvi",1);x.onupgradeneeded=()=>{const a=x.result;a.objectStoreNames.contains("handles")||a.createObjectStore("handles")},x.onsuccess=()=>l(x.result),x.onerror=()=>t(x.error)})}async function s(l){const t=await n();return new Promise((x,a)=>{const f=t.transaction("handles","readwrite").objectStore("handles").put(l,"dir");f.onsuccess=()=>x(!0),f.onerror=()=>a(f.error)})}async function d(){const l=await n();return new Promise((t,x)=>{const i=l.transaction("handles","readonly").objectStore("handles").get("dir");i.onsuccess=()=>t(i.result),i.onerror=()=>x(i.error)})}async function r(l){if(!l)return!1;try{if(await l.queryPermission({mode:"read"})==="granted"||await l.requestPermission({mode:"read"})==="granted")return!0}catch(t){console.warn("verifyPermission error",t)}return!1}const h=()=>{localStorage.setItem("hvi_last_folder_path",m.value)},G=async()=>{if("showDirectoryPicker"in window)try{const l=await window.showDirectoryPicker();await s(l),D.value=!0,m.value=l.name,h(),await B(l);return}catch(l){console.warn("showDirectoryPicker error or cancelled",l)}z.value&&z.value.click()};async function B(l){const t=[];try{for await(const[x,a]of l.entries())a.kind==="file"&&x.toLowerCase().endsWith(".txt")&&t.push(S(x,a));if(t.length>0)try{const a=await(await fetch("/api/hvi/check-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileNames:t.map(u=>u.fileName)})})).json();if(a.success&&(t.forEach(u=>{a.existingNames.includes(u.fileName)&&(u.estado="Procesado")}),a.existingNames.length>0))try{const i=await(await fetch("/api/hvi/get-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileNames:a.existingNames})})).json();i.success&&i.metadata&&t.forEach(f=>{const g=i.metadata[f.fileName];g&&(g.muestra!==void 0&&g.muestra!==null&&(f.muestra=g.muestra),g.cantidad!==void 0&&g.cantidad!==null&&(f.cantidad=g.cantidad),g.color!==void 0&&g.color!==null&&(f.color=g.color),g.cort!==void 0&&g.cort!==null&&(f.cort=g.cort),g.obs!==void 0&&g.obs!==null&&(f.obs=g.obs),g.tipo!==void 0&&g.tipo!==null&&(f.tipo=g.tipo),g.loteEntrada!==void 0&&g.loteEntrada!==null?f.loteEntrada=g.loteEntrada:g.lote!==void 0&&g.lote!==null&&(f.loteEntrada=g.lote),g.proveedor!==void 0&&g.proveedor!==null&&(f.proveedor=g.proveedor),g.grado!==void 0&&g.grado!==null&&(f.grado=g.grado),g.fecha!==void 0&&g.fecha!==null&&(f.fecha=g.fecha))})}catch(u){console.warn("Error fetching HVI metadata:",u)}}catch(x){console.warn("Error checking files status:",x)}H.value=t,E.value=t}catch(x){console.error("Error scanning directory",x)}}async function W(){try{const l=await d();if(!l)return;await r(l)&&await B(l)}catch(l){console.warn("refreshFolder error",l)}}const N=async l=>{const x=Array.from(l.target.files).filter(u=>u.name.toLowerCase().endsWith(".txt")),a=x.map(u=>S(u.name,null,u));if(a.length>0)try{const i=await(await fetch("/api/hvi/check-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileNames:a.map(f=>f.fileName)})})).json();if(i.success&&(a.forEach(f=>{i.existingNames.includes(f.fileName)&&(f.estado="Procesado")}),i.existingNames.length>0))try{const g=await(await fetch("/api/hvi/get-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fileNames:i.existingNames})})).json();g.success&&g.metadata&&a.forEach(Z=>{const M=g.metadata[Z.fileName];M&&(M.muestra!==void 0&&M.muestra!==null&&(Z.muestra=M.muestra),M.cantidad!==void 0&&M.cantidad!==null&&(Z.cantidad=M.cantidad),M.color!==void 0&&M.color!==null&&(Z.color=M.color),M.cort!==void 0&&M.cort!==null&&(Z.cort=M.cort),M.obs!==void 0&&M.obs!==null&&(Z.obs=M.obs))})}catch(f){console.warn("Error fetching HVI metadata:",f)}}catch(u){console.warn("Error checking files status:",u)}if(H.value=a,E.value=a,x.length>0&&x[0].webkitRelativePath){const u=x[0].webkitRelativePath.split("/");u.length>1&&(m.value=u[0],h())}},S=(l,t=null,x=null)=>{const u=l.replace(/\.txt$/i,"").split("_");let i=u[0]?u[0].substring(0,3).toLowerCase():"???";const f=i==="ent"?"Ent":i==="mue"?"Mue":u[0],g=u[1]||"",Z=u[2]||"";let M="",be="";return u.length>3&&(be=u[u.length-1],M=u.slice(3,-1).join("-").replace(/^([A-Z])-(\d)-(\d)$/,"$1 $2/$3")),{fileName:l,handle:t,file:x,tipo:f,loteEntrada:g,proveedor:Z,grado:M,fecha:be,muestra:"",cantidad:"",color:"",cort:"",obs:"",estado:"Pendiente"}},I=async l=>{F.value=l.fileName,_.value=l,C.value=[];try{let t="";l.handle?t=await(await l.handle.getFile()).text():l.file&&(t=await l.file.text()),t&&(he(t),l.tipo==="Ent"&&C.value.length>0&&(l.cantidad=C.value.length))}catch(t){console.error("Error reading HVI file",t)}},ae=async l=>{F.value!==l.fileName&&await I(l),xe()},ue=l=>{F.value!==l.fileName&&I(l)},he=l=>{const t=l.split(`
`),x=[];for(let a=13;a<t.length;a++){const u=t[a].trim();if(!u)continue;const i=u.split(/\s+/),f=i[0]?i[0].toLowerCase():"";if(f==="n")break;if(f.includes("average")||f.includes("q99%")||f==="+/-"||f==="bale")continue;const g=i[1];if(!g||isNaN(parseFloat(g))||i.length<16)continue;const Z=i[12]?i[12].replace("-","."):"";x.push({fardo:i[0],sci:i[1],mst:i[2],mic:i[3],mat:i[4],uhml:i[5],ui:i[6],sf:i[7],str:i[8],elg:i[9],rd:i[10],plusB:i[11],tipo:Z,trCnt:i[13],trAr:i[14],trid:i[15]})}C.value=x},xe=async()=>{if(!_.value||C.value.length===0){O.fire({toast:!0,position:"top-end",icon:"warning",title:"Seleccione un archivo con datos",showConfirmButton:!1,timer:3e3});return}if(!_.value.color){O.fire({toast:!0,position:"top-end",icon:"warning",title:"Debe seleccionar un Color",showConfirmButton:!1,timer:3e3});return}if(_.value.tipo!=="Mue"&&!_.value.cort){O.fire({toast:!0,position:"top-end",icon:"warning",title:"Debe seleccionar un valor para Cort",showConfirmButton:!1,timer:3e3});return}if(_.value.tipo==="Mue"&&(!_.value.cantidad||_.value.cantidad<=0)){O.fire({toast:!0,position:"top-end",icon:"warning",title:"Debe ingresar la cantidad para muestras",showConfirmButton:!1,timer:3e3});return}O.fire({title:"Guardando datos...",html:"Por favor, espere",allowOutsideClick:!1,didOpen:()=>{O.showLoading()}});try{const l={files:[{metadata:{fileName:_.value.fileName,tipo:_.value.tipo,loteEntrada:_.value.loteEntrada,proveedor:_.value.proveedor,grado:_.value.grado,fecha:_.value.fecha,muestra:_.value.muestra,cantidad:_.value.cantidad,color:_.value.color,cort:_.value.tipo==="Mue"?null:_.value.cort,obs:_.value.obs},details:C.value}]},x=await(await fetch("/api/hvi/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();O.close(),x.success?(O.fire({toast:!0,position:"top-end",icon:"success",title:"Datos guardados correctamente",showConfirmButton:!1,timer:3e3}),_.value.estado="Procesado",(H.value.length===0||H.value.every(u=>u.estado==="Procesado"))&&(F.value="",_.value=null,C.value=[])):O.fire({icon:"error",title:"Error al guardar",text:x.error})}catch(l){O.close(),console.error("Error en processFiles:",l),O.fire({icon:"error",title:"Error de conexi√≥n",text:"No se pudo contactar con el servidor"})}};return ve(async()=>{try{const l=await d();l&&(D.value=!0,console.log("Carpeta persistida encontrada:",l.name),m.value=l.name,await r(l)&&await B(l))}catch(l){console.warn("onMounted getDirHandle error",l)}}),(l,t)=>{const x=we("tippy");return c(),p("div",Bs,[e("div",Ds,[t[19]||(t[19]=e("div",{class:"flex flex-col ml-8"},[e("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2"},[e("span",{class:"p-1.5 bg-blue-100 text-blue-600 rounded-lg"},"üß¨"),P(" Carga de Archivos HVI (Mistura) ")])],-1)),e("div",Os,[e("button",{onClick:t[0]||(t[0]=a=>oe.value=!0),title:"Ver Comparativa Muestra vs Entrega",class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white text-xs font-black uppercase tracking-widest rounded-lg transition-all shadow-lg shadow-indigo-200 active:scale-95"},[...t[14]||(t[14]=[e("span",null,"‚öñÔ∏è Comparar Muestras",-1)])]),e("div",Vs,[Q(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>m.value=a),type:"text",placeholder:"Ruta de la carpeta...",class:"w-full pl-9 pr-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-slate-50 group-hover:bg-white",onChange:h},null,544),[[ne,m.value]]),t[15]||(t[15]=e("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7a2 2 0 012-2h3l2 3h6a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2V7z"})])],-1))]),e("button",{onClick:G,title:"Seleccionar Carpeta",class:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all shadow-lg shadow-blue-200 shrink-0 active:scale-95"},[...t[16]||(t[16]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1)])]),D.value?(c(),p("button",{key:0,onClick:W,title:"Actualizar lista",class:"p-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg border border-slate-300 transition-all shrink-0 active:scale-95"},[...t[17]||(t[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):y("",!0),e("button",{onClick:xe,disabled:!E.value.length,title:E.value.length?`Procesar (${E.value.length} archivos)`:"Sin archivos",class:"p-2 bg-green-600 hover:bg-green-700 disabled:bg-slate-300 text-white rounded-lg transition-all shadow-lg shadow-green-200 shrink-0 active:scale-95"},[...t[18]||(t[18]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],8,Us)])]),e("div",zs,[e("div",Hs,[e("div",Gs,[t[20]||(t[20]=e("span",{class:"text-[10px] font-bold text-slate-500 uppercase"},"Mostrar:",-1)),e("div",qs,[(c(),p(V,null,U(["Todos","No guardados","Guardados"],a=>e("label",{key:a,class:"flex items-center gap-1.5 cursor-pointer group"},[Q(e("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=u=>Y.value=u),value:a,class:"w-3 h-3 text-blue-600 focus:ring-blue-500 border-slate-300"},null,8,Js),[[ye,Y.value]]),e("span",Ws,o(a),1)])),64))])]),e("div",Zs,[e("table",Ks,[t[26]||(t[26]=e("thead",{class:"sticky top-0 z-10 bg-slate-100 border-b border-slate-200 shadow-sm"},[e("tr",null,[e("th",{class:"w-8 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Tipo"),e("th",{class:"w-10 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Lote"),e("th",{class:"w-30 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Prov."),e("th",{class:"w-10 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Grado"),e("th",{class:"w-10 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Muestra"),e("th",{class:"w-8 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider text-center"},"Cant."),e("th",{class:"w-11 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Color"),e("th",{class:"w-8 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider text-center"},"Cort"),e("th",{class:"w-120 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Obs"),e("th",{class:"w-14 px-1 py-3 text-xs font-bold text-slate-700 tracking-wider text-center"},"Acci√≥n"),e("th",{class:"w-10 px-1 py-2 text-xs font-bold text-slate-700 tracking-wider text-center"},"Estado")])],-1)),e("tbody",Qs,[(c(!0),p(V,null,U(re.value,(a,u)=>(c(),p("tr",{key:a.fileName,onClick:i=>I(a),class:b(["hover:bg-blue-50/50 transition-colors group cursor-pointer",{"bg-blue-50 border-l-4 border-blue-500":F.value===a.fileName}])},[e("td",Ys,[e("span",{class:b(["px-1.5 py-0.5 rounded-full font-mono",a.tipo==="Ent"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"])},o(a.tipo),3)]),e("td",ea,o(a.loteEntrada),1),e("td",{class:"px-1 py-2 text-xs text-slate-600 truncate",title:a.proveedor},o(a.proveedor),9,ta),e("td",sa,o(a.grado),1),e("td",{class:"px-1 py-1 text-xs",onClick:t[3]||(t[3]=se(()=>{},["stop"]))},[Q(e("input",{"onUpdate:modelValue":i=>a.muestra=i,type:"text",class:b(["w-full px-2 py-1 border border-slate-200 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none disabled:bg-slate-50 disabled:opacity-50",F.value===a.fileName?"bg-white":""])},null,10,aa),[[ne,a.muestra]])]),e("td",{class:"px-1 py-1 text-xs text-center",onClick:t[4]||(t[4]=se(()=>{},["stop"]))},[Q(e("input",{"onUpdate:modelValue":i=>a.cantidad=i,type:"number",readonly:a.tipo==="Ent",class:b([[a.tipo==="Ent"?"bg-slate-50 text-blue-700":"",F.value===a.fileName?"bg-white":""],"w-full px-1 py-1 border border-slate-200 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none no-spinner text-center"])},null,10,oa),[[ne,a.cantidad]])]),e("td",{class:"px-1 py-1 text-xs",onClick:t[5]||(t[5]=se(()=>{},["stop"]))},[Q(e("select",{"onUpdate:modelValue":i=>a.color=i,class:"w-full px-1 py-1 border border-slate-200 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none bg-white disabled:bg-slate-50 disabled:opacity-50 cursor-pointer"},[(c(),p(V,null,U(["LG","BCO","LA","GRI","AMA"],i=>e("option",{key:i,value:i},o(i),9,ra)),64))],8,la),[[ge,a.color]])]),e("td",{class:"px-1 py-1 text-xs",onClick:t[6]||(t[6]=se(()=>{},["stop"]))},[Q(e("select",{"onUpdate:modelValue":i=>a.cort=i,disabled:a.tipo==="Mue",class:b(["w-full px-1 py-1 border border-slate-200 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none disabled:bg-slate-50 disabled:opacity-50 cursor-pointer",F.value===a.fileName?"bg-white":""])},[(c(),p(V,null,U([1,2,3],i=>e("option",{key:i,value:i},o(i),9,ia)),64))],10,na),[[ge,a.cort]])]),e("td",{class:"px-1 py-1 text-xs",onClick:t[7]||(t[7]=se(()=>{},["stop"]))},[Q(e("input",{"onUpdate:modelValue":i=>a.obs=i,type:"text",class:b(["w-full px-1 py-1 border border-slate-200 rounded text-xs focus:ring-1 focus:ring-blue-500 outline-none",F.value===a.fileName?"bg-white":""])},null,10,da),[[ne,a.obs]])]),e("td",{class:"px-1 py-1 text-xs text-center",onClick:t[8]||(t[8]=se(()=>{},["stop"]))},[e("div",ca,[Q((c(),p("button",{onClick:i=>ae(a),disabled:a.estado==="Procesado",class:b(["p-1.5 rounded-md transition-all sm:p-1",a.estado==="Procesado"?"text-slate-300 cursor-not-allowed":"text-green-600 hover:bg-green-50 active:scale-95 border border-transparent hover:border-green-200"])},[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})],-1)])],10,pa)),[[x,{content:"Guardar ensayo"}]]),Q((c(),p("button",{onClick:i=>ue(a),disabled:a.estado!=="Procesado",class:b(["p-1.5 rounded-md transition-all sm:p-1",a.estado!=="Procesado"?"text-slate-200 cursor-not-allowed":"text-blue-600 hover:bg-blue-50 active:scale-95 border border-transparent hover:border-blue-200"])},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],10,ua)),[[x,{content:"Editar metadatos"}]])])]),e("td",xa,[a.estado==="Procesado"?(c(),p("div",ba,[...t[23]||(t[23]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1)])])):(c(),p("div",fa,[...t[24]||(t[24]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])]))])],10,Xs))),128)),H.value.length===0?(c(),p("tr",ga,[...t[25]||(t[25]=[e("td",{colspan:"10",class:"px-4 py-16 text-center"},[e("p",{class:"text-xs text-slate-400"},"No hay archivos")],-1)])])):y("",!0)])])]),e("div",ma,[e("span",va,o(H.value.length)+" archivos",1)])]),e("div",ha,[F.value?(c(),p("div",wa,[e("div",ya,[e("span",_a,[t[27]||(t[27]=P("Detalles: ",-1)),e("span",ka,o(F.value),1)]),t[28]||(t[28]=e("span",{class:"text-[10px] text-slate-500 flex items-center gap-1 ml-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),P(" Formato: "),e("b",null,"Tipo_Lote_Proveedor_Grado_Fecha.txt")],-1))]),e("div",Ca,[C.value.length>0?(c(),p("button",{key:0,onClick:ie,disabled:te.value,class:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white text-xs font-bold rounded-lg transition-all shadow-md active:scale-95 disabled:opacity-50"},[te.value?(c(),p("span",Aa,"üåÄ")):(c(),p("span",Ia,"‚ú® An√°lisis IA"))],8,$a)):y("",!0),C.value.length>0?(c(),p("button",{key:1,onClick:t[9]||(t[9]=a=>X.value=!0),class:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-white text-xs font-medium rounded-lg transition-all shadow-md active:scale-95"},[...t[29]||(t[29]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),P(" An√°lisis T√©cnico ",-1)])])):y("",!0)])])):y("",!0),e("div",Sa,[e("table",Fa,[t[31]||(t[31]=e("thead",{class:"sticky top-0 z-10 bg-slate-100 border-b border-slate-200"},[e("tr",null,[e("th",{class:"w-20 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"Fardo"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"SCI"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"MST"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"MIC"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"MAT"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"UHML"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"UI"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"SF"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"STR"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"ELG"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"RD"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"+b"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"TIPO"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"TrCNT"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"TrAR"),e("th",{class:"w-16 px-4 py-3 text-xs font-bold text-slate-700 tracking-wider"},"TRID")])],-1)),e("tbody",Ra,[(c(!0),p(V,null,U(C.value,(a,u)=>(c(),p("tr",{key:u,class:b(["hover:bg-slate-50 transition-colors",w(a).alertas.some(i=>i.tipo==="bandera-roja")?"ring-2 ring-red-400 ring-inset":""])},[e("td",Ma,[P(o(a.fardo)+" ",1),w(a).alertas.length?(c(),p("div",Ea,[(c(!0),p(V,null,U(w(a).alertas,(i,f)=>(c(),p("span",{key:f,title:i.mensaje,class:b(["w-2.5 h-2.5 rounded-full cursor-help",i.tipo==="bandera-roja"?"bg-red-500":"",i.tipo==="riesgo-tenido"?"bg-purple-500":"",i.tipo==="fibra-opaca"?"bg-amber-500":""])},null,10,Ta))),128))])):y("",!0)]),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).sci)])},o(a.sci),3),e("td",Na,o(a.mst),1),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).mic)])},o(a.mic),3),e("td",ja,o(a.mat),1),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).uhml)])},o(a.uhml),3),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).ui)])},o(a.ui),3),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).sf)])},o(a.sf),3),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).str)])},o(a.str),3),e("td",La,o(a.elg),1),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).rd)])},o(a.rd),3),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).plusB)])},o(a.plusB),3),e("td",Pa,o(a.tipo),1),e("td",Ba,o(a.trCnt),1),e("td",{class:b(["px-4 py-2 text-xs font-medium",v(w(a).trAr)])},o(a.trAr),3),e("td",Da,o(a.trid),1)],2))),128)),C.value.length?y("",!0):(c(),p("tr",Oa,[...t[30]||(t[30]=[e("td",{colspan:"16",class:"px-4 py-16 text-center"},[e("div",{class:"flex flex-col items-center justify-center text-slate-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mb-2 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})]),e("p",{class:"text-sm"},"Seleccione un archivo de la izquierda para ver el detalle")])],-1)])]))]),C.value.length?(c(),p("tfoot",Va,[e("tr",Ua,[e("td",za,"n = "+o(C.value.length)+" (Prom)",1),e("td",{class:b(["px-4 py-3 text-xs",v(A(k.value.sci,$.SCI))])},o(k.value.sci),3),e("td",Ha,o(k.value.mst),1),e("td",{class:b(["px-4 py-3 text-xs",v(q(k.value.mic))])},o(k.value.mic),3),e("td",Ga,o(k.value.mat),1),e("td",{class:b(["px-4 py-3 text-xs",v(A(k.value.uhml,$.UHML))])},o(k.value.uhml),3),e("td",{class:b(["px-4 py-3 text-xs",v(A(k.value.ui,$.UI))])},o(k.value.ui),3),e("td",{class:b(["px-4 py-3 text-xs",v(j(k.value.sf,$.SF))])},o(k.value.sf),3),e("td",{class:b(["px-4 py-3 text-xs",v(A(k.value.str,$.STR))])},o(k.value.str),3),e("td",qa,o(k.value.elg),1),e("td",{class:b(["px-4 py-3 text-xs",v(A(k.value.rd,$.RD))])},o(k.value.rd),3),e("td",{class:b(["px-4 py-3 text-xs",v(j(k.value.plusB,$.PLUS_B))])},o(k.value.plusB),3),e("td",Ja,o(k.value.tipo),1),e("td",Wa,o(k.value.trCnt),1),e("td",{class:b(["px-4 py-3 text-xs",v(j(k.value.trAr,$.TRAR))])},o(k.value.trAr),3),e("td",Za,o(k.value.trid),1)])])):y("",!0)])]),C.value.length?(c(),p("div",Ka,[t[32]||(t[32]=pe('<div class="flex flex-wrap items-center gap-4 text-xs" data-v-8d56132b><span class="font-semibold text-slate-600" data-v-8d56132b>Clasificaci√≥n:</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded bg-green-100 border border-green-300" data-v-8d56132b></span> Excelente</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded bg-yellow-50 border border-yellow-300" data-v-8d56132b></span> Aceptable</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded bg-orange-100 border border-orange-300" data-v-8d56132b></span> Cr√≠tico</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded bg-red-100 border border-red-300" data-v-8d56132b></span> Fuera de rango</span><span class="border-l border-slate-300 pl-4 font-semibold text-slate-600" data-v-8d56132b>Alertas:</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded-full bg-red-500" data-v-8d56132b></span> Bandera Roja (STR/SF)</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded-full bg-purple-500" data-v-8d56132b></span> Riesgo Te√±ido (MIC)</span><span class="flex items-center gap-1" data-v-8d56132b><span class="w-3 h-3 rounded-full bg-amber-500" data-v-8d56132b></span> Fibra Opaca (RD)</span></div>',1)),K.value.total>0?(c(),p("div",Qa,[K.value.banderaRoja?(c(),p("span",Xa,o(K.value.banderaRoja)+" pacas con Bandera Roja ",1)):y("",!0),K.value.riesgoTenido?(c(),p("span",Ya,o(K.value.riesgoTenido)+" pacas con Riesgo de Te√±ido ",1)):y("",!0),K.value.fibraOpaca?(c(),p("span",eo,o(K.value.fibraOpaca)+" pacas con Fibra Opaca ",1)):y("",!0)])):y("",!0)])):y("",!0)])]),e("input",{ref_key:"folderInput",ref:z,type:"file",webkitdirectory:"",directory:"",multiple:"",class:"hidden",onChange:N},null,544),(c(),de(ce,{to:"body"},[X.value?(c(),p("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t[11]||(t[11]=se(a=>X.value=!1,["self"]))},[e("div",to,[e("button",{onClick:t[10]||(t[10]=a=>X.value=!1),class:"absolute top-4 right-4 z-10 p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-full transition-colors shadow-lg"},[...t[33]||(t[33]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),fe(is,{pacas:C.value,metadata:_.value},null,8,["pacas","metadata"])])])):y("",!0)])),(c(),de(ce,{to:"body"},[oe.value?(c(),p("div",so,[e("div",ao,[e("button",{onClick:t[12]||(t[12]=a=>oe.value=!1),class:"absolute top-6 right-6 p-2 bg-slate-100 hover:bg-slate-200 text-slate-500 rounded-full transition-all active:scale-95"},[...t[34]||(t[34]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),fe(Ps)])])):y("",!0)])),(c(),de(ce,{to:"body"},[le.value?(c(),p("div",oo,[e("div",lo,[e("div",ro,[t[36]||(t[36]=e("div",null,[e("h3",{class:"font-bold text-base"},"Gemini 3: Predicci√≥n T√©cnica"),e("p",{class:"text-[10px] opacity-80 uppercase tracking-widest font-bold"},"Inteligencia Artificial aplicada a Fibras")],-1)),e("button",{onClick:t[13]||(t[13]=a=>le.value=!1),class:"p-1.5 hover:bg-white/10 rounded-full transition-colors"},[...t[35]||(t[35]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",no,[te.value?(c(),p("div",io,[...t[37]||(t[37]=[e("div",{class:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mb-4"},null,-1),e("p",{class:"text-sm text-slate-500 font-medium text-center"},"Analizando fardo por fardo para predecir neps y resistencia...",-1)])])):(c(),p("div",co,o(ee.value),1))]),t[38]||(t[38]=e("div",{class:"px-6 py-3 bg-white border-t flex justify-between items-center text-[10px] text-slate-400 font-mono"},[e("span",null,"MODEL: GEMINI-3-FLASH (PREVIEW)"),e("span",null,"DATA: FULL BALE FEEDBACK")],-1))])])):y("",!0)]))])}}},go=me(po,[["__scopeId","data-v-8d56132b"]]);export{go as default};
