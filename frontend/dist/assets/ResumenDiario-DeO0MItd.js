import{m as M,w as Pe,o as ns,a as c,c as u,b as t,t as o,e as C,d as R,n as A,f as N,g as as,A as rs,F as L,r as ut,u as is,p as D,z as ds,B as cs,i as xt}from"./index-Bb3aArA6.js";import{f as us,t as xs}from"./dataService-D4JwboLa.js";import{S as q}from"./sweetalert2.esm.all-AlKuj1Cq.js";import{_ as ps}from"./_plugin-vue_export-helper-DlAUqK2U.js";const vs={class:"w-full h-screen flex flex-col p-4 overflow-hidden bg-gradient-to-br from-slate-50 to-slate-100"},_s={class:"flex items-center justify-between mb-4 pb-3 border-b border-slate-300"},ms={class:"flex items-center gap-4"},bs={key:0,class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm font-semibold"},fs={key:1,class:"px-3 py-1 bg-orange-100 text-orange-800 rounded-lg text-sm font-semibold flex items-center gap-2"},hs={class:"flex items-center gap-2"},gs={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ys={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Es={key:0,class:"flex items-center gap-2"},ws={key:0,class:"flex-1 flex items-center justify-center"},Ns={key:1,class:"flex-1 flex items-center justify-center"},Ss={class:"text-center bg-red-50 border border-red-200 rounded-lg p-6"},Ms={class:"text-red-600 text-sm"},Ts={key:2,class:"flex-1 flex items-center justify-center"},ks={key:3,class:"flex-1 min-h-0 overflow-hidden flex flex-col"},Cs={class:"grid grid-cols-5 gap-2 mb-4"},Rs=["disabled"],Ds={class:"flex items-center justify-between"},Os={class:"flex items-center gap-1"},Is={key:0,class:"w-3 h-3 text-blue-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},As={class:"text-xl font-bold text-slate-900"},Us=["disabled"],Ps={class:"flex items-center justify-between"},Ls={class:"flex items-center gap-1"},Gs={key:0,class:"w-3 h-3 text-green-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},Ks={class:"text-xl font-bold text-green-700"},Bs=["disabled"],Vs={class:"flex items-center justify-between"},js={class:"flex items-center gap-1"},Fs={key:0,class:"w-3 h-3 text-red-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},$s={class:"text-xl font-bold text-red-600"},qs={class:"flex items-center justify-between"},zs={class:"flex items-center gap-1"},Hs={key:0,class:"w-3 h-3 text-orange-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},Js={class:"text-xl font-bold text-orange-600"},Zs={class:"bg-white rounded-lg border border-slate-200 p-2 shadow-sm"},Ys={class:"flex items-center justify-between"},Ws={class:"flex-1 min-h-0 flex flex-col overflow-hidden"},Qs={class:"flex-1 min-h-0 overflow-auto bg-white rounded-lg border border-slate-200 shadow-sm"},Xs={key:0,class:"flex items-center justify-center h-full p-8"},to={class:"text-center"},eo={class:"text-slate-500 text-sm"},so={key:0,class:"font-medium"},oo={key:1,class:"font-medium"},lo={key:2,class:"font-medium"},no={key:1,class:"w-full text-sm"},ao={class:"bg-slate-100 sticky top-0 z-10 border-b border-slate-200"},ro={key:0,class:"px-4 py-3 text-left font-semibold text-slate-700 w-24"},io=["onClick"],co=["checked","onChange"],uo={key:0,class:"px-4 py-3 text-slate-600 text-xs"},xo={class:"px-4 py-3 text-slate-600"},po={class:"px-4 py-3 font-semibold text-slate-800"},vo={class:"px-4 py-3 text-center text-orange-600 font-medium"},_o={class:"px-4 py-3 text-center text-orange-600 font-medium"},mo={class:"px-4 py-3 text-center"},bo={class:"px-4 py-3 text-center"},fo={class:"px-4 py-3 text-center text-slate-700 font-medium"},ho={class:"px-4 py-3 text-center"},go={class:"px-4 py-3 text-slate-700 font-mono text-xs"},yo={class:"px-4 py-3 text-center"},Eo={class:"inline-flex items-center gap-2"},wo=["onClick"],No=["onClick"],So={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true","aria-labelledby":"dataModalTitle"},Mo={class:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] flex flex-col p-3 z-50 relative",role:"document"},To=["disabled"],ko=["disabled"],Co={class:"flex items-start sm:items-center justify-between mb-2 pb-1 gap-3"},Ro={id:"dataModalTitle",class:"flex flex-col sm:flex-row sm:items-center gap-2 mx-8"},Do={class:"text-slate-600 text-sm"},Oo={class:"text-slate-900 text-lg font-semibold ml-1"},Io={class:"text-slate-600 text-sm"},Ao={class:"text-slate-900 text-lg font-semibold ml-1"},Uo={class:"text-slate-600 text-sm"},Po={class:"text-slate-900 text-lg font-semibold ml-1"},Lo={class:"text-slate-600 text-sm"},Go={class:"text-slate-900 text-lg font-semibold ml-1"},Ko={class:"flex items-center gap-2"},Bo={key:0,class:"mx-8 flex items-center gap-4 text-slate-600 text-sm mb-2"},Vo={key:0},jo={class:"text-slate-900 text-sm font-normal ml-1"},Fo={key:1},$o={class:"text-slate-900 text-sm font-normal ml-1"},qo={key:2},zo={class:"text-slate-900 text-sm font-normal ml-1"},Ho={class:"flex-1 relative"},Jo={key:0,class:"text-sm text-slate-600 py-8 text-center"},Zo={key:1,class:"rounded-xl border border-slate-200 overflow-auto max-h-[calc(95vh-7rem)]"},Yo={class:"min-w-full text-xs"},Wo={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Qo={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Xo={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},tl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},el={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},sl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},ol={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},ll={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},nl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},al={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},rl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},il={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},dl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},cl={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},ul={class:"bg-gradient-to-r from-blue-50 to-indigo-50 font-semibold border-t-2 border-blue-200"},xl={class:"px-3 py-1 text-slate-700"},pl={class:"flex items-center justify-center gap-1"},vl={"aria-label":"Info Promedio",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},_l={class:"px-3 py-1 text-center text-slate-700"},ml={class:"px-3 py-1 text-center text-slate-700"},bl={class:"px-3 py-1 text-center text-slate-700"},fl={class:"px-3 py-1 text-center text-slate-700"},hl={class:"px-3 py-1 text-center text-slate-700"},gl={class:"px-3 py-1 text-center text-slate-700"},yl={class:"px-3 py-1 text-center text-slate-700"},El={class:"px-3 py-1 text-center text-slate-700"},wl={class:"px-3 py-1 text-center text-slate-700"},Nl={class:"px-3 py-1 text-center text-slate-700"},Sl={class:"px-3 py-1 text-center text-slate-700"},Ml={class:"px-3 py-1 text-center text-slate-700"},Tl={class:"px-3 py-1 text-center text-slate-700"},kl={class:"bg-blue-50/50 font-medium"},Cl={class:"px-3 py-1 text-slate-700"},Rl={class:"flex items-center justify-center gap-1"},Dl={"aria-label":"Info CV",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},Ol={class:"px-3 py-1 text-center text-slate-700"},Il={class:"px-3 py-1 text-center text-slate-700"},Al={class:"px-3 py-1 text-center text-slate-700"},Ul={class:"px-3 py-1 text-center text-slate-700"},Pl={class:"px-3 py-1 text-center text-slate-700"},Ll={class:"px-3 py-1 text-center text-slate-700"},Gl={class:"px-3 py-1 text-center text-slate-700"},Kl={class:"px-3 py-1 text-center text-slate-700"},Bl={class:"px-3 py-1 text-center text-slate-700"},Vl={class:"px-3 py-1 text-center text-slate-700"},jl={class:"px-3 py-1 text-center text-slate-700"},Fl={class:"px-3 py-1 text-center text-slate-700"},$l={class:"px-3 py-1 text-center text-slate-700"},ql={class:"bg-indigo-50/50 font-medium"},zl={class:"px-3 py-1 text-slate-700"},Hl={class:"flex items-center justify-center gap-1"},Jl={"aria-label":"Info desviaci√≥n est√°ndar",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},Zl={class:"px-3 py-1 text-center text-slate-700"},Yl={class:"px-3 py-1 text-center text-slate-700"},Wl={class:"px-3 py-1 text-center text-slate-700"},Ql={class:"px-3 py-1 text-center text-slate-700"},Xl={class:"px-3 py-1 text-center text-slate-700"},tn={class:"px-3 py-1 text-center text-slate-700"},en={class:"px-3 py-1 text-center text-slate-700"},sn={class:"px-3 py-1 text-center text-slate-700"},on={class:"px-3 py-1 text-center text-slate-700"},ln={class:"px-3 py-1 text-center text-slate-700"},nn={class:"px-3 py-1 text-center text-slate-700"},an={class:"px-3 py-1 text-center text-slate-700"},rn={class:"px-3 py-1 text-center text-slate-700"},dn={class:"bg-blue-50/50 font-medium"},cn={class:"px-3 py-1 text-slate-700"},un={class:"flex items-center justify-center gap-1"},xn={"aria-label":"Info Q95",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},pn={class:"px-3 py-1 text-center text-slate-700"},vn={class:"px-3 py-1 text-center text-slate-700"},_n={class:"px-3 py-1 text-center text-slate-700"},mn={class:"px-3 py-1 text-center text-slate-700"},bn={class:"px-3 py-1 text-center text-slate-700"},fn={class:"px-3 py-1 text-center text-slate-700"},hn={class:"px-3 py-1 text-center text-slate-700"},gn={class:"px-3 py-1 text-center text-slate-700"},yn={class:"px-3 py-1 text-center text-slate-700"},En={class:"px-3 py-1 text-center text-slate-700"},wn={class:"px-3 py-1 text-center text-slate-700"},Nn={class:"px-3 py-1 text-center text-slate-700"},Sn={class:"px-3 py-1 text-center text-slate-700"},Mn={class:"bg-indigo-50/50 font-medium"},Tn={class:"px-3 py-1 text-slate-700"},kn={class:"flex items-center justify-center gap-1"},Cn={"aria-label":"Info Max",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},Rn={class:"px-3 py-1 text-center text-slate-700"},Dn={class:"px-3 py-1 text-center text-slate-700"},On={class:"px-3 py-1 text-center text-slate-700"},In={class:"px-3 py-1 text-center text-slate-700"},An={class:"px-3 py-1 text-center text-slate-700"},Un={class:"px-3 py-1 text-center text-slate-700"},Pn={class:"px-3 py-1 text-center text-slate-700"},Ln={class:"px-3 py-1 text-center text-slate-700"},Gn={class:"px-3 py-1 text-center text-slate-700"},Kn={class:"px-3 py-1 text-center text-slate-700"},Bn={class:"px-3 py-1 text-center text-slate-700"},Vn={class:"px-3 py-1 text-center text-slate-700"},jn={class:"px-3 py-1 text-center text-slate-700"},Fn={class:"bg-blue-50/50 font-medium"},$n={class:"px-3 py-1 text-slate-700"},qn={class:"flex items-center justify-center gap-1"},zn={"aria-label":"Info Min",class:"inline-flex items-center text-slate-400 hover:text-slate-600"},Hn={class:"px-3 py-1 text-center text-slate-700"},Jn={class:"px-3 py-1 text-center text-slate-700"},Zn={class:"px-3 py-1 text-center text-slate-700"},Yn={class:"px-3 py-1 text-center text-slate-700"},Wn={class:"px-3 py-1 text-center text-slate-700"},Qn={class:"px-3 py-1 text-center text-slate-700"},Xn={class:"px-3 py-1 text-center text-slate-700"},ta={class:"px-3 py-1 text-center text-slate-700"},ea={class:"px-3 py-1 text-center text-slate-700"},sa={class:"px-3 py-1 text-center text-slate-700"},oa={class:"px-3 py-1 text-center text-slate-700"},la={class:"px-3 py-1 text-center text-slate-700"},na={class:"px-3 py-1 text-center text-slate-700"},aa={__name:"ResumenDiario",emits:["navigate"],setup(ra,{emit:ia}){const st=M(!1),z=M(null),O=M(Le()),H=M([]),j=M([]),pt=M([]),ot=M([]),b=M("all"),P=M(new Set),g=M(!1),J=M(!1),$=M(!1),G=M(null),Z=M(!1),vt=M([]),_t=M([]),K=M({values:[],husoNumbers:[],testnr:null,timestamp:null,oe:null,standardNe:null});function Le(){const s=new Date,e=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0");return`${e}-${l}-${d}`}function Ge(s){if(!s)return"";const[e,l,d]=s.split("-");return`${d}/${l}/${e}`}function Y(s){if(!s)return null;if(s instanceof Date)return s;if(typeof s=="string"){const e=s.match(/^(\d{1,2})\/(\d{1,2})\/(\d{2,4})/);if(e){const d=Number(e[1]),v=Number(e[2])-1;let p=Number(e[3]);return p<100&&(p+=2e3),new Date(p,v,d)}const l=new Date(s);if(!isNaN(l.getTime()))return l}return typeof s=="number"?s>1e12?new Date(s):new Date(s*1e3):null}function Ke(s,e){const l=Y(s);if(!l||isNaN(l.getTime()))return!1;const[d,v,p]=e.split("-").map(Number);return l.getFullYear()===d&&l.getMonth()+1===v&&l.getDate()===p}function lt(s){if(!s)return"";const e=String(s).trim(),l=e.match(/^(\d+)\s*([A-Za-z]+)?/);if(!l)return e;const d=parseInt(l[1],10),v=l[2]?l[2].substring(0,2).toUpperCase():"";return v?`${d} ${v}`:String(d)}function mt(s,e){if(s==null||s==="")return"";let l=String(s).trim();return e&&String(e).toLowerCase()==="hilo de fantasia"?l+"F":l}async function Be(){st.value=!0,z.value=null;try{const s=await us();H.value=s.usterTbl||[],j.value=s.usterPar||[],pt.value=s.tensorapidTbl||[],ot.value=s.tensorapidPar||[]}catch(s){z.value=s.message,console.error("Error fetching data:",s)}finally{st.value=!1}}const B=D(()=>{if(!j.value.length)return[];if(!g.value&&!O.value)return[];const s=g.value?j.value:j.value.filter(l=>Ke(l.TIME_STAMP,O.value));return s.length===0?[]:s.map(l=>{const d=l.TESTNR,p=H.value.filter(E=>E.TESTNR===d).map(E=>parseFloat(E.TITULO)).filter(E=>!isNaN(E)),n=p.length>0?p.reduce((E,w)=>E+w,0)/p.length:null,_=l.NOMCOUNT?parseFloat(l.NOMCOUNT):null,x=_?_*.985:null,S=_?_*1.015:null;let i="unknown",y=0;n!==null&&_!==null&&(y=(_-n)/_*100,n<x?i="above":n>S?i="below":i="ok");const f=Y(l.TIME_STAMP||l.DATE),k=f?`${String(f.getDate()).padStart(2,"0")}/${String(f.getMonth()+1).padStart(2,"0")}/${f.getFullYear()}`:"-";return{testnr:d,dateStr:k,oe:lt(l.MASCHNR||l.OE),ne:mt(l.NOMCOUNT,l.MATCLASS),avgTitulo:n,neStandard:_,neMin:x,neMax:S,status:i,deviation:y,estiraje:l.ESTIRAJE||null}}).filter(l=>l.avgTitulo!==null&&l.neStandard!==null)});Pe(B,s=>{const e=new Set(P.value);s.forEach(l=>{l.status==="ok"&&e.add(l.testnr)}),P.value=e},{immediate:!0});function Ve(s){const e=new Set(P.value);e.has(s)?e.delete(s):e.add(s),P.value=e}const bt=D(()=>{const s=B.value;if(s.length===0)return[];let e=s;b.value==="ok"?e=s.filter(v=>v.status==="ok"):b.value==="out-of-range"?e=s.filter(v=>v.status==="below"||v.status==="above"):b.value==="not-reviewed"&&(e=s.filter(v=>!P.value.has(v.testnr)));const l={};for(const v of e){const p=`${v.oe}|${v.ne}`;l[p]||(l[p]={oe:v.oe,ne:v.ne,ensayos:[]}),l[p].ensayos.push(v)}const d=Object.values(l);return d.sort((v,p)=>{const n=parseInt(v.oe)||0,_=parseInt(p.oe)||0;if(n!==_)return n-_;const x=parseFloat(v.ne)||0,S=parseFloat(p.ne)||0;return x-S}),d}),W=D(()=>B.value.length),ft=D(()=>B.value.filter(s=>s.status==="ok").length),je=D(()=>B.value.filter(s=>s.status==="below"||s.status==="above").length),Fe=D(()=>B.value.filter(s=>!P.value.has(s.testnr)).length),ht=D(()=>W.value===0?0:ft.value/W.value*100);function nt(s){return s==null||isNaN(s)?"‚Äî":s.toFixed(2)}function $e(s){switch(s){case"ok":return"bg-green-100 text-green-800 border border-green-300";case"below":return"bg-blue-100 text-blue-800 border border-blue-300";case"above":return"bg-red-100 text-red-800 border border-red-300";default:return"bg-slate-100 text-slate-600 border border-slate-300"}}function qe(s){switch(s){case"ok":return"bg-green-100 text-green-800";case"below":return"bg-blue-100 text-blue-800";case"above":return"bg-red-100 text-red-800";default:return"bg-slate-100 text-slate-600"}}function ze(s){switch(s){case"ok":return"‚úì OK";case"below":return"‚Üì Bajo";case"above":return"‚Üë Alto";default:return"?"}}async function Q(s){G.value=s,J.value=!0,Z.value=!0;try{let e=H.value.filter(n=>String(n.TESTNR||n.testnr||"")===String(s));const l=(n,_)=>{const x=new Set,S=[];for(const i of n){let y;try{y=_(i)}catch{y=void 0}if(!y){S.push(i);continue}x.has(y)||(x.add(y),S.push(i))}return S};e=l(e,n=>{const _=String(n.TESTNR||n.testnr||""),x=String(n.NO??n.NO_??n.HUSO??n.huso??"");return _&&x?`${_}#${x}`:void 0}),vt.value=e;const v=(ot.value||[]).filter(n=>String(n.USTER_TESTNR||n.uster_testnr||n.usterTestnr||n.USTERTESTNR||"")===String(s)).map(n=>String(n.TESTNR||n.testnr||"")).filter(Boolean);let p=(pt.value||[]).filter(n=>{const _=String(n.TESTNR||n.testnr||"");return v.includes(_)});p=l(p,n=>{const _=String(n.TESTNR||n.testnr||""),x=String(n.HUSO_NUMBER??n.NO??n.no??"");return _&&x?`${_}#${x}`:void 0}),_t.value=p}catch(e){console.error("Error loading modal data:",e)}finally{Z.value=!1}}function at(s){if(!s)return;let e=H.value.filter(i=>String(i.TESTNR||i.testnr||"")===String(s));e=((i,y)=>{const f=new Set,k=[];for(const E of i){let w;try{w=y(E)}catch{w=void 0}if(!w){k.push(E);continue}f.has(w)||(f.add(w),k.push(E))}return k})(e,i=>{const y=String(i.TESTNR||i.testnr||""),f=String(i.NO??i.NO_??i.HUSO??i.huso??"");return y&&f?`${y}#${f}`:void 0});const d=e.map(i=>({no:i.NO??i.NO_??i.HUSO??i.huso??"",titulo:i.TITULO??i.titulo??i.NE??i.ne??null,row:i})).filter(i=>i.titulo!==null&&i.titulo!==void 0).map(i=>({...i,nNum:parseInt(i.no)||0})).sort((i,y)=>i.nNum-y.nNum),v=d.map(i=>Number(i.titulo)).filter(i=>Number.isFinite(i)),p=d.map(i=>String(i.no)),n=j.value.find(i=>String(i.TESTNR||i.testnr)===String(s));let _=null;if(n!=null&&n.TIME_STAMP||n!=null&&n.time_stamp||n!=null&&n.DATUM||n!=null&&n.datum){const i=Y(n.TIME_STAMP||n.time_stamp||n.DATUM||n.datum);i&&(_=`${String(i.getDate()).padStart(2,"0")}/${String(i.getMonth()+1).padStart(2,"0")}/${i.getFullYear()}`)}const x=lt((n==null?void 0:n.MASCHNR)||(n==null?void 0:n.maschnr)||(n==null?void 0:n.OE)||(n==null?void 0:n.oe)),S=(n==null?void 0:n.NOMCOUNT)||(n==null?void 0:n.nomcount)||null;K.value={values:v,husoNumbers:p,testnr:s,timestamp:_,oe:x,standardNe:S},G.value=s,$.value=!0}function He(s){Q(s)}function rt(){J.value=!1,G.value=null}const F=D(()=>{const s=B.value;if(s.length===0)return[];let e=s;return b.value==="ok"?e=s.filter(l=>l.status==="ok"):b.value==="out-of-range"?e=s.filter(l=>l.status==="below"||l.status==="above"):b.value==="not-reviewed"&&(e=s.filter(l=>!P.value.has(l.testnr))),e.map(l=>({TESTNR:l.testnr,...l}))}),V=D(()=>{const s=G.value;return s?(F.value||[]).findIndex(l=>String(l.TESTNR||l.testnr)===String(s)):-1}),X=D(()=>V.value<=0),tt=D(()=>{const s=F.value||[];return V.value===-1||V.value>=s.length-1});function Je(){if(X.value)return;const e=(F.value||[])[V.value-1],l=(e==null?void 0:e.TESTNR)||(e==null?void 0:e.testnr);l&&Q(l)}function Ze(){if(tt.value)return;const e=(F.value||[])[V.value+1],l=(e==null?void 0:e.TESTNR)||(e==null?void 0:e.testnr);l&&Q(l)}function Ye(){if(X.value)return;const e=(F.value||[])[V.value-1],l=(e==null?void 0:e.TESTNR)||(e==null?void 0:e.testnr);l&&at(l)}function We(){if(tt.value)return;const e=(F.value||[])[V.value+1],l=(e==null?void 0:e.TESTNR)||(e==null?void 0:e.testnr);l&&at(l)}const it=D(()=>{var n;const s=vt.value||[],e=_t.value||[],l=(n=T.value)!=null&&n.ne?parseFloat(String(T.value.ne).replace("Flame","").trim()):0,d={};e.forEach(_=>{const x=String(_.HUSO_NUMBER||_.NO||_.no||"");x&&(d[x]=_)});const v=[],p=Math.max(s.length,e.length);for(let _=0;_<p;_++){const x=s[_]||{},S=e[_]||{},i=String(x.NO??x.NO_??""),f=(i?d[i]:null)||S,k=x.TITULO??x.titulo??"";let E="";if(l>0&&k!==""&&!isNaN(parseFloat(k))){const w=parseFloat(k),U=(l-w)/l*100,et=parseFloat(U.toFixed(2));E=(U>0?"+":"")+et}v.push({NO:x.NO??x.NO_??f.HUSO_NUMBER??_+1,TITULO:k,DESVIO_PERCENT:E,CVM_PERCENT:x.CVM_PERCENT??x["CVM_%"]??"",DELG_MINUS30_KM:x.DELG_MINUS30_KM??x["DELG_-30%"]??"",DELG_MINUS40_KM:x.DELG_MINUS40_KM??x["DELG_-40%"]??"",DELG_MINUS50_KM:x.DELG_MINUS50_KM??x["DELG_-50%"]??"",GRUE_35_KM:x.GRUE_35_KM??x["GRUE_+35%"]??"",GRUE_50_KM:x.GRUE_50_KM??x["GRUE_+50%"]??"",NEPS_140_KM:x.NEPS_140_KM??x["NEPS_+140%"]??"",NEPS_280_KM:x.NEPS_280_KM??x["NEPS_+280%"]??"",FUERZA_B:f.FUERZA_B??f.fuerza_b??"",ELONGACION:f.ELONGACION??f.elongacion??"",TENACIDAD:f.TENACIDAD??f.tenacidad??"",TRABAJO:f.TRABAJO??f.trabajo??""})}return v}),a=D(()=>{const s=it.value;if(s.length===0)return{};const e={};return["TITULO","DESVIO_PERCENT","CVM_PERCENT","DELG_MINUS30_KM","DELG_MINUS40_KM","DELG_MINUS50_KM","GRUE_35_KM","GRUE_50_KM","NEPS_140_KM","NEPS_280_KM","FUERZA_B","ELONGACION","TENACIDAD","TRABAJO"].forEach(d=>{const v=s.map(p=>p[d]).filter(p=>p!=null&&p!=="").map(p=>Number(p)).filter(p=>!isNaN(p));if(v.length>0){const n=v.reduce((w,U)=>w+U,0)/v.length,_=v.reduce((w,U)=>w+Math.pow(U-n,2),0)/v.length,x=Math.sqrt(_),S=n!==0?x/n*100:null,i=Math.max(...v),y=Math.min(...v),f=[...v].sort((w,U)=>w-U),k=Math.ceil(f.length*.95)-1,E=f[Math.max(0,k)];e[d]={avg:n,sd:x,cv:S,q95:E,max:i,min:y,count:v.length}}else e[d]={avg:null,sd:null,cv:null,q95:null,max:null,min:null,count:0}}),e}),T=D(()=>{if(!G.value)return{};const s=j.value.find(p=>String(p.TESTNR||p.testnr)===String(G.value));if(!s)return{};const e=Y(s.TIME_STAMP||s.time_stamp||s.DATUM||s.datum),l=e?`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}/${e.getFullYear()}`:"‚Äî",d=(ot.value||[]).find(p=>String(p.USTER_TESTNR||p.uster_testnr||p.usterTestnr||p.USTERTESTNR||"")===String(G.value)),v=d&&(d.LABORANT||d.laborant)||"";return{fechaStr:l,ne:mt(s.NOMCOUNT||s.nomcount,s.MATCLASS||s.matclass),oe:lt(s.MASCHNR||s.maschnr||s.OE||s.oe),u:s.TESTNR||s.testnr,t:"‚Äî",obs:s.OBS||s.obs||"",laborant:s.LABORANT||s.laborant||"",laborantTensor:v}});function I(s){if(s==null||s==="")return"‚Äî";const e=String(s).trim();if(e==="")return"‚Äî";const l=Number(e);return isNaN(l)?e:Number(l.toFixed(2)).toString()}function r(s){if(s==null)return"‚Äî";const e=Number(s);return isNaN(e)?"‚Äî":Number(e.toFixed(2)).toString()}async function Qe(){try{const s=document.querySelector('[role="document"]');if(!s){q.fire({icon:"error",title:"Error",text:"No se pudo encontrar el modal."});return}const e=document.querySelector('[aria-label="Cerrar detalle"]'),l=e==null?void 0:e.style.display;e&&(e.style.display="none"),q.fire({title:"Capturando...",allowOutsideClick:!1,showConfirmButton:!1,timer:100,didOpen:()=>{q.showLoading()}});const d=console.error;console.error=(...n)=>{var x;const _=((x=n[0])==null?void 0:x.toString())||"";_.includes("CSS rules")||_.includes("cssRules")||_.includes("SecurityError")||d.apply(console,n)},await new Promise(n=>setTimeout(n,120));const v=await xs(s,{quality:.95,pixelRatio:2,backgroundColor:"#ffffff",skipFonts:!0,cacheBust:!0});console.error=d,e&&(e.style.display=l);const p=await(await fetch(v)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":p})]),q.fire({icon:"success",title:"‚úì Copiado",text:"La imagen se copi√≥ al portapapeles. Ahora puedes pegarla en WhatsApp.",timer:2500,showConfirmButton:!1})}catch(s){console.error("Error copying modal as image:",s),q.fire({icon:"error",title:"Error",text:"No se pudo copiar la imagen. "+(s.message||"")})}}function gt(){b.value="all"}function Xe(){b.value=b.value==="ok"?"all":"ok"}function ts(){b.value=b.value==="out-of-range"?"all":"out-of-range"}function es(){b.value=b.value==="not-reviewed"?"all":"not-reviewed"}function ss(){g.value=!g.value,g.value?b.value="not-reviewed":b.value="all"}function os(){if(!O.value)return;const s=new Date(O.value+"T00:00:00");s.setDate(s.getDate()-1);const e=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0");O.value=`${e}-${l}-${d}`}function ls(){if(!O.value)return;const s=new Date(O.value+"T00:00:00");s.setDate(s.getDate()+1);const e=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),d=String(s.getDate()).padStart(2,"0");O.value=`${e}-${l}-${d}`}return Pe(O,()=>{}),ns(()=>{Be();const s=e=>{e.key==="Escape"&&(J.value?rt():$.value&&($.value=!1))};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}}),(s,e)=>{var v,p,n,_,x,S,i,y,f,k,E,w,U,et,yt,Et,wt,Nt,St,Mt,Tt,kt,Ct,Rt,Dt,Ot,It,At,Ut,Pt,Lt,Gt,Kt,Bt,Vt,jt,Ft,$t,qt,zt,Ht,Jt,Zt,Yt,Wt,Qt,Xt,te,ee,se,oe,le,ne,ae,re,ie,de,ce,ue,xe,pe,ve,_e,me,be,fe,he,ge,ye,Ee,we,Ne,Se,Me,Te,ke,Ce,Re,De,Oe,Ie,Ae,Ue;const l=cs("HusoDetailModal"),d=ds("tippy");return c(),u("div",vs,[t("header",_s,[t("div",ms,[e[4]||(e[4]=t("h1",{class:"text-2xl font-bold text-slate-800"},"üìä Resumen Diario - Control de Calidad",-1)),O.value&&!g.value?(c(),u("div",bs,o(Ge(O.value)),1)):C("",!0),g.value?(c(),u("div",fs,[...e[3]||(e[3]=[t("span",{class:"relative flex h-2 w-2"},[t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),t("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})],-1),R(" Modo: Revisi√≥n Global ",-1)])])):C("",!0)]),t("div",hs,[t("button",{onClick:ss,class:A(["flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors border",g.value?"bg-slate-800 text-white border-slate-800 hover:bg-slate-700":"bg-white text-slate-700 border-slate-300 hover:bg-slate-50"])},[g.value?(c(),u("svg",ys,[...e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])):(c(),u("svg",gs,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},null,-1)])])),R(" "+o(g.value?"Salir de Revisi√≥n Global":"Ver Todos los Pendientes"),1)],2),g.value?C("",!0):(c(),u("div",Es,[t("button",{onClick:os,class:"p-2 hover:bg-slate-200 rounded-full text-slate-600 transition-colors",title:"D√≠a anterior"},[...e[7]||(e[7]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),N(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=m=>O.value=m),class:"border-slate-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 bg-white shadow-sm"},null,512),[[as,O.value]]),t("button",{onClick:ls,class:"p-2 hover:bg-slate-200 rounded-full text-slate-600 transition-colors",title:"D√≠a siguiente"},[...e[8]||(e[8]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])]))])]),st.value?(c(),u("div",ws,[...e[9]||(e[9]=[t("div",{class:"text-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{class:"text-slate-600"},"Cargando datos...")],-1)])])):z.value?(c(),u("div",Ns,[t("div",Ss,[e[10]||(e[10]=t("svg",{class:"w-12 h-12 text-red-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[11]||(e[11]=t("p",{class:"text-red-800 font-semibold mb-2"},"Error al cargar datos",-1)),t("p",Ms,o(z.value),1)])])):W.value===0?(c(),u("div",Ts,[...e[12]||(e[12]=[rs('<div class="text-center bg-slate-50 border-2 border-dashed border-slate-300 rounded-lg p-8" data-v-ed04c05d><svg class="w-16 h-16 text-slate-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ed04c05d><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-ed04c05d></path></svg><p class="text-slate-600 font-semibold mb-2" data-v-ed04c05d>No hay datos para esta fecha</p><p class="text-slate-500 text-sm" data-v-ed04c05d>Selecciona otra fecha o verifica que haya ensayos registrados</p></div>',1)])])):(c(),u("div",ks,[t("div",Cs,[N((c(),u("button",{onClick:gt,disabled:g.value,class:A(["bg-white rounded-lg border-2 p-2 shadow-sm text-left transition-all",[b.value==="all"?"border-blue-500 bg-blue-50":"border-slate-200",g.value?"opacity-50 cursor-not-allowed":"hover:shadow-md hover:scale-105 active:scale-95"]])},[t("div",Ds,[t("div",Os,[e[14]||(e[14]=t("span",{class:"text-xs text-slate-600 truncate"},"Total",-1)),b.value==="all"?(c(),u("svg",Is,[...e[13]||(e[13]=[t("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},null,-1)])])):C("",!0)]),t("div",As,o(W.value),1)])],10,Rs)),[[d,{content:g.value?"No disponible en modo Revisi√≥n Global":b.value==="all"?"Mostrando todos los ensayos":"Clic para ver todos los ensayos",placement:"bottom",theme:"custom"}]]),N((c(),u("button",{onClick:Xe,disabled:g.value,class:A(["bg-white rounded-lg border-2 p-2 shadow-sm text-left transition-all",[b.value==="ok"?"border-green-500 bg-green-50":"border-slate-200",g.value?"opacity-50 cursor-not-allowed":"hover:shadow-md hover:scale-105 active:scale-95"]])},[t("div",Ps,[t("div",Ls,[e[16]||(e[16]=t("span",{class:"text-xs text-slate-600 truncate"},"En Rango",-1)),b.value==="ok"?(c(),u("svg",Gs,[...e[15]||(e[15]=[t("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},null,-1)])])):C("",!0)]),t("div",Ks,o(ft.value),1)])],10,Us)),[[d,{content:g.value?"No disponible en modo Revisi√≥n Global":b.value==="ok"?"Clic para quitar filtro":"Clic para filtrar solo ensayos dentro de rango",placement:"bottom",theme:"custom"}]]),N((c(),u("button",{onClick:ts,disabled:g.value,class:A(["bg-white rounded-lg border-2 p-2 shadow-sm text-left transition-all",[b.value==="out-of-range"?"border-red-500 bg-red-50":"border-slate-200",g.value?"opacity-50 cursor-not-allowed":"hover:shadow-md hover:scale-105 active:scale-95"]])},[t("div",Vs,[t("div",js,[e[18]||(e[18]=t("span",{class:"text-xs text-slate-600 truncate"},"Fuera Rango",-1)),b.value==="out-of-range"?(c(),u("svg",Fs,[...e[17]||(e[17]=[t("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},null,-1)])])):C("",!0)]),t("div",$s,o(je.value),1)])],10,Bs)),[[d,{content:g.value?"No disponible en modo Revisi√≥n Global":b.value==="out-of-range"?"Clic para quitar filtro":"Clic para filtrar solo ensayos fuera de rango",placement:"bottom",theme:"custom"}]]),N((c(),u("button",{onClick:es,class:A(["bg-white rounded-lg border-2 p-2 shadow-sm text-left transition-all hover:shadow-md hover:scale-105 active:scale-95",b.value==="not-reviewed"?"border-orange-500 bg-orange-50":"border-slate-200"])},[t("div",qs,[t("div",zs,[e[20]||(e[20]=t("span",{class:"text-xs text-slate-600 truncate"},"No Revisados",-1)),b.value==="not-reviewed"?(c(),u("svg",Hs,[...e[19]||(e[19]=[t("path",{d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},null,-1)])])):C("",!0)]),t("div",Js,o(Fe.value),1)])],2)),[[d,{content:b.value==="not-reviewed"?"Clic para quitar filtro":"Clic para ver ensayos pendientes de revisi√≥n",placement:"bottom",theme:"custom"}]]),N((c(),u("div",Zs,[t("div",Ys,[e[21]||(e[21]=t("span",{class:"text-xs text-slate-600 truncate"},"% Conf.",-1)),t("div",{class:A(["text-xl font-bold",ht.value>=95?"text-green-600":"text-orange-600"])},o(ht.value.toFixed(1))+"% ",3)])])),[[d,{content:"Porcentaje de ensayos dentro del rango ¬±1.5%",placement:"bottom",theme:"custom"}]])]),t("div",Ws,[t("div",Qs,[bt.value.length===0?(c(),u("div",Xs,[t("div",to,[e[23]||(e[23]=t("svg",{class:"w-12 h-12 text-slate-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),e[24]||(e[24]=t("p",{class:"text-slate-600 font-semibold mb-1"},"No hay ensayos que cumplan este filtro",-1)),t("p",eo,[e[22]||(e[22]=R("En esta fecha todos los ensayos est√°n ",-1)),b.value==="ok"?(c(),u("span",so,"fuera de rango")):b.value==="out-of-range"?(c(),u("span",oo,"dentro del rango")):b.value==="not-reviewed"?(c(),u("span",lo,"revisados")):C("",!0)]),t("button",{onClick:gt,class:"mt-3 px-3 py-1.5 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors"}," Ver todos los ensayos ")])])):(c(),u("table",no,[t("thead",ao,[t("tr",null,[e[25]||(e[25]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-10"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-slate-500 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),g.value?(c(),u("th",ro,"Fecha")):C("",!0),e[26]||(e[26]=t("th",{class:"px-4 py-3 text-left font-semibold text-slate-700 w-24"},"OE",-1)),e[27]||(e[27]=t("th",{class:"px-4 py-3 text-left font-semibold text-slate-700 w-28"},"Ne Est√°ndar",-1)),e[28]||(e[28]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-28"},"Ne Min (+1.5%)",-1)),e[29]||(e[29]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-28"},"Ne Max (-1.5%)",-1)),e[30]||(e[30]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-32"},"Valor Medido",-1)),e[31]||(e[31]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-28"},"Desviaci√≥n %",-1)),e[32]||(e[32]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-24"},"Estiraje",-1)),e[33]||(e[33]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700 w-24"},"Estado",-1)),e[34]||(e[34]=t("th",{class:"px-4 py-3 text-left font-semibold text-slate-700"},"Ensayo",-1)),e[35]||(e[35]=t("th",{class:"px-4 py-3 text-center font-semibold text-slate-700"},"Visualizar",-1))])]),t("tbody",null,[(c(!0),u(L,null,ut(bt.value,(m,dt)=>(c(),u(L,{key:dt},[(c(!0),u(L,null,ut(m.ensayos,h=>(c(),u("tr",{key:h.testnr,class:"border-b border-slate-100 hover:bg-blue-50 transition-colors cursor-pointer",onClick:ct=>He(h.testnr)},[t("td",{class:"px-4 py-3 text-center",onClick:e[1]||(e[1]=xt(()=>{},["stop"]))},[t("input",{type:"checkbox",checked:P.value.has(h.testnr),onChange:ct=>Ve(h.testnr),class:A(["w-4 h-4 text-blue-600 bg-white border-slate-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer transition-colors",{"border-red-400 ring-2 ring-red-100":!P.value.has(h.testnr)&&h.status!=="ok"}])},null,42,co)]),g.value?(c(),u("td",uo,o(h.dateStr),1)):C("",!0),t("td",xo,o(m.oe),1),t("td",po,o(m.ne),1),t("td",vo,o(nt(h.neMin)),1),t("td",_o,o(nt(h.neMax)),1),t("td",mo,[t("span",{class:A(["inline-block px-3 py-1 rounded-lg font-bold text-base",$e(h.status)])},o(nt(h.avgTitulo)),3)]),t("td",bo,[t("span",{class:A(["inline-block font-semibold",{"text-red-600":h.deviation>1.5,"text-green-600":h.deviation>=-1.5&&h.deviation<=1.5,"text-blue-600":h.deviation<-1.5}])},o(h.deviation>0?"+":"")+o(parseFloat(h.deviation.toFixed(2)))+"% ",3)]),t("td",fo,o(h.estiraje||"-"),1),t("td",ho,[t("span",{class:A(["inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold",qe(h.status)])},o(ze(h.status)),3)]),t("td",go,o(h.testnr),1),t("td",yo,[t("div",Eo,[N((c(),u("button",{onClick:xt(ct=>Q(h.testnr),["stop"]),class:"inline-flex items-center gap-2 px-2 py-1 border border-slate-200 bg-white text-slate-700 rounded-md text-xs font-medium hover:bg-slate-50 transition-colors duration-150 shadow-sm"},[...e[36]||(e[36]=[R(" üìä Datos ",-1)])],8,wo)),[[d,{content:"Ver datos del ensayo",placement:"top",theme:"custom"}]]),N((c(),u("button",{onClick:xt(ct=>at(h.testnr),["stop"]),class:"inline-flex items-center gap-2 px-2 py-1 bg-white hover:bg-slate-50 border border-slate-200 text-slate-700 rounded-md text-xs font-medium transition-colors duration-150 shadow-sm whitespace-nowrap"},[...e[37]||(e[37]=[R(" üìà Gr√°ficos ",-1)])],8,No)),[[d,{content:"Ver gr√°fico por huso",placement:"top",theme:"custom"}]])])])],8,io))),128))],64))),128))])]))])])])),J.value?(c(),u("div",So,[t("div",{class:"fixed inset-0 bg-gradient-to-br from-slate-900/50 to-slate-800/50 backdrop-blur-sm z-40",onClick:rt,"aria-hidden":"true"}),t("div",Mo,[N((c(),u("button",{onClick:Je,disabled:X.value,type:"button",class:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed z-50","aria-label":"Anterior ensayo"},[...e[38]||(e[38]=[R("‚Äπ",-1)])],8,To)),[[d,{content:"Anterior ensayo",placement:"left",theme:"custom"}]]),N((c(),u("button",{onClick:Ze,disabled:tt.value,type:"button",class:"absolute right-0 top-1/2 -translate-y-1/2 -mr-5 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 disabled:opacity-40 disabled:cursor-not-allowed z-50","aria-label":"Siguiente ensayo"},[...e[39]||(e[39]=[R("‚Ä∫",-1)])],8,ko)),[[d,{content:"Siguiente ensayo",placement:"right",theme:"custom"}]]),t("header",Co,[t("div",Ro,[t("div",Do,[e[40]||(e[40]=R("Fecha: ",-1)),t("span",Oo,o(T.value.fechaStr),1)]),t("div",Io,[e[41]||(e[41]=R("Ne: ",-1)),t("span",Ao,o(T.value.ne),1)]),t("div",Uo,[e[42]||(e[42]=R("OE: ",-1)),t("span",Po,o(T.value.oe),1)]),t("div",Lo,[e[43]||(e[43]=R("Ensayo ",-1)),t("span",Go,o(T.value.u),1)])]),t("div",Ko,[N((c(),u("button",{onClick:Qe,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-blue-400 hover:bg-blue-50 flex items-center justify-center text-slate-600 hover:text-blue-600 transition-all duration-200 group shadow-sm hover:shadow-md","aria-label":"Copiar como imagen"},[...e[44]||(e[44]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),t("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])),[[d,{content:"Copiar como imagen para WhatsApp",placement:"bottom",theme:"custom"}]]),N((c(),u("button",{onClick:rt,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-red-400 hover:bg-red-50 flex items-center justify-center text-slate-600 hover:text-red-600 transition-all duration-200 shadow-sm hover:shadow-md","aria-label":"Cerrar detalle"},[...e[45]||(e[45]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])),[[d,{content:"Cerrar (Esc)",placement:"bottom",theme:"custom"}]])])]),T.value.obs||T.value.laborant||T.value.laborantTensor?(c(),u("div",Bo,[T.value.obs?(c(),u("div",Vo,[e[46]||(e[46]=t("span",null,"Obs.:",-1)),t("span",jo,o(T.value.obs),1)])):C("",!0),T.value.laborant?(c(),u("div",Fo,[e[47]||(e[47]=t("span",null,"Op. Uster:",-1)),t("span",$o,o(T.value.laborant),1)])):C("",!0),T.value.laborantTensor?(c(),u("div",qo,[e[48]||(e[48]=t("span",null,"Op. TensoRapid:",-1)),t("span",zo,o(T.value.laborantTensor),1)])):C("",!0)])):C("",!0),t("section",Ho,[it.value.length===0?(c(),u("div",Jo,o(Z.value?"Cargando datos...":"No hay datos para este ensayo."),1)):(c(),u("div",Zo,[t("table",Yo,[e[66]||(e[66]=t("thead",{class:"bg-gradient-to-r from-slate-50 to-slate-100 sticky top-0 z-30"},[t("tr",null,[t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Huso"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Titulo"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Desv√≠o %"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"CVm %"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Delg -30%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Delg -40%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Delg -50%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Grue +35%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Grue +50%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Neps +140%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Neps +280%"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Fuerza B"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Elongaci√≥n %"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Tenacidad"),t("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"},"Trabajo")])],-1)),t("tbody",null,[(c(!0),u(L,null,ut(it.value,(m,dt)=>(c(),u("tr",{key:dt,class:A(["transition-colors duration-150",Z.value?"bg-slate-50/50":"hover:bg-slate-50"])},[t("td",Wo,o(m.NO),1),t("td",Qo,o(I(m.TITULO)),1),t("td",{class:A(["px-3 py-1 text-center border-b border-slate-100 font-semibold",{"text-red-600":m.DESVIO_PERCENT&&parseFloat(m.DESVIO_PERCENT)>1.5,"text-blue-600":m.DESVIO_PERCENT&&parseFloat(m.DESVIO_PERCENT)<-1.5,"text-green-600":m.DESVIO_PERCENT&&parseFloat(m.DESVIO_PERCENT)>=-1.5&&parseFloat(m.DESVIO_PERCENT)<=1.5,"text-slate-700":!m.DESVIO_PERCENT}])},[m.DESVIO_PERCENT&&m.DESVIO_PERCENT!=="‚Äî"?(c(),u(L,{key:0},[R(o(m.DESVIO_PERCENT)+"% ",1)],64)):(c(),u(L,{key:1},[R(o(m.DESVIO_PERCENT||"‚Äî"),1)],64))],2),t("td",Xo,o(I(m.CVM_PERCENT)),1),t("td",tl,o(I(m.DELG_MINUS30_KM)),1),t("td",el,o(I(m.DELG_MINUS40_KM)),1),t("td",sl,o(I(m.DELG_MINUS50_KM)),1),t("td",ol,o(I(m.GRUE_35_KM)),1),t("td",ll,o(I(m.GRUE_50_KM)),1),t("td",nl,o(I(m.NEPS_140_KM)),1),t("td",al,o(I(m.NEPS_280_KM)),1),t("td",rl,o(I(m.FUERZA_B)),1),t("td",il,o(I(m.ELONGACION)),1),t("td",dl,o(I(m.TENACIDAD)),1),t("td",cl,o(I(m.TRABAJO)),1)],2))),128)),t("tr",ul,[t("td",xl,[t("div",pl,[e[50]||(e[50]=t("span",null,"Promedio",-1)),N((c(),u("button",vl,[...e[49]||(e[49]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"La suma de todos los valores dividida por la cantidad de datos.",placement:"top",theme:"custom"}]])])]),t("td",_l,o(r((v=a.value.TITULO)==null?void 0:v.avg)),1),t("td",{class:A(["px-3 py-1 text-center font-semibold",{"text-red-600":((p=a.value.DESVIO_PERCENT)==null?void 0:p.avg)!=null&&parseFloat(a.value.DESVIO_PERCENT.avg)>1.5,"text-blue-600":((n=a.value.DESVIO_PERCENT)==null?void 0:n.avg)!=null&&parseFloat(a.value.DESVIO_PERCENT.avg)<-1.5,"text-green-600":((_=a.value.DESVIO_PERCENT)==null?void 0:_.avg)!=null&&parseFloat(a.value.DESVIO_PERCENT.avg)>=-1.5&&parseFloat(a.value.DESVIO_PERCENT.avg)<=1.5,"text-slate-700":((x=a.value.DESVIO_PERCENT)==null?void 0:x.avg)==null}])},[((S=a.value.DESVIO_PERCENT)==null?void 0:S.avg)!=null?(c(),u(L,{key:0},[R(o(r(a.value.DESVIO_PERCENT.avg))+"%",1)],64)):(c(),u(L,{key:1},[R("‚Äî")],64))],2),t("td",ml,o(r((i=a.value.CVM_PERCENT)==null?void 0:i.avg)),1),t("td",bl,o(r((y=a.value.DELG_MINUS30_KM)==null?void 0:y.avg)),1),t("td",fl,o(r((f=a.value.DELG_MINUS40_KM)==null?void 0:f.avg)),1),t("td",hl,o(r((k=a.value.DELG_MINUS50_KM)==null?void 0:k.avg)),1),t("td",gl,o(r((E=a.value.GRUE_35_KM)==null?void 0:E.avg)),1),t("td",yl,o(r((w=a.value.GRUE_50_KM)==null?void 0:w.avg)),1),t("td",El,o(r((U=a.value.NEPS_140_KM)==null?void 0:U.avg)),1),t("td",wl,o(r((et=a.value.NEPS_280_KM)==null?void 0:et.avg)),1),t("td",Nl,o(r((yt=a.value.FUERZA_B)==null?void 0:yt.avg)),1),t("td",Sl,o(r((Et=a.value.ELONGACION)==null?void 0:Et.avg)),1),t("td",Ml,o(r((wt=a.value.TENACIDAD)==null?void 0:wt.avg)),1),t("td",Tl,o(r((Nt=a.value.TRABAJO)==null?void 0:Nt.avg)),1)]),t("tr",kl,[t("td",Cl,[t("div",Rl,[e[52]||(e[52]=t("span",null,"CV",-1)),N((c(),u("button",Dl,[...e[51]||(e[51]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"Coeficiente de variaci√≥n. Un CV del 5% indica baja variabilidad.",placement:"top",theme:"custom"}]])])]),t("td",Ol,o(r((St=a.value.TITULO)==null?void 0:St.cv)),1),e[53]||(e[53]=t("td",{class:"px-3 py-1 text-center text-slate-700"},"‚Äî",-1)),t("td",Il,o(r((Mt=a.value.CVM_PERCENT)==null?void 0:Mt.cv)),1),t("td",Al,o(r((Tt=a.value.DELG_MINUS30_KM)==null?void 0:Tt.cv)),1),t("td",Ul,o(r((kt=a.value.DELG_MINUS40_KM)==null?void 0:kt.cv)),1),t("td",Pl,o(r((Ct=a.value.DELG_MINUS50_KM)==null?void 0:Ct.cv)),1),t("td",Ll,o(r((Rt=a.value.GRUE_35_KM)==null?void 0:Rt.cv)),1),t("td",Gl,o(r((Dt=a.value.GRUE_50_KM)==null?void 0:Dt.cv)),1),t("td",Kl,o(r((Ot=a.value.NEPS_140_KM)==null?void 0:Ot.cv)),1),t("td",Bl,o(r((It=a.value.NEPS_280_KM)==null?void 0:It.cv)),1),t("td",Vl,o(r((At=a.value.FUERZA_B)==null?void 0:At.cv)),1),t("td",jl,o(r((Ut=a.value.ELONGACION)==null?void 0:Ut.cv)),1),t("td",Fl,o(r((Pt=a.value.TENACIDAD)==null?void 0:Pt.cv)),1),t("td",$l,o(r((Lt=a.value.TRABAJO)==null?void 0:Lt.cv)),1)]),t("tr",ql,[t("td",zl,[t("div",Hl,[e[55]||(e[55]=t("span",null,"s",-1)),N((c(),u("button",Jl,[...e[54]||(e[54]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"Desviaci√≥n est√°ndar. Mide cu√°nto se alejan los datos del promedio.",placement:"top",theme:"custom"}]])])]),t("td",Zl,o(r((Gt=a.value.TITULO)==null?void 0:Gt.sd)),1),e[56]||(e[56]=t("td",{class:"px-3 py-1 text-center text-slate-700"},"‚Äî",-1)),t("td",Yl,o(r((Kt=a.value.CVM_PERCENT)==null?void 0:Kt.sd)),1),t("td",Wl,o(r((Bt=a.value.DELG_MINUS30_KM)==null?void 0:Bt.sd)),1),t("td",Ql,o(r((Vt=a.value.DELG_MINUS40_KM)==null?void 0:Vt.sd)),1),t("td",Xl,o(r((jt=a.value.DELG_MINUS50_KM)==null?void 0:jt.sd)),1),t("td",tn,o(r((Ft=a.value.GRUE_35_KM)==null?void 0:Ft.sd)),1),t("td",en,o(r(($t=a.value.GRUE_50_KM)==null?void 0:$t.sd)),1),t("td",sn,o(r((qt=a.value.NEPS_140_KM)==null?void 0:qt.sd)),1),t("td",on,o(r((zt=a.value.NEPS_280_KM)==null?void 0:zt.sd)),1),t("td",ln,o(r((Ht=a.value.FUERZA_B)==null?void 0:Ht.sd)),1),t("td",nn,o(r((Jt=a.value.ELONGACION)==null?void 0:Jt.sd)),1),t("td",an,o(r((Zt=a.value.TENACIDAD)==null?void 0:Zt.sd)),1),t("td",rn,o(r((Yt=a.value.TRABAJO)==null?void 0:Yt.sd)),1)]),t("tr",dn,[t("td",cn,[t("div",un,[e[58]||(e[58]=t("span",null,"Q95",-1)),N((c(),u("button",xn,[...e[57]||(e[57]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"Cuantil 95. El valor por debajo del cual se encuentra el 95% de los datos.",placement:"top",theme:"custom"}]])])]),t("td",pn,o(r((Wt=a.value.TITULO)==null?void 0:Wt.q95)),1),e[59]||(e[59]=t("td",{class:"px-3 py-1 text-center text-slate-700"},"‚Äî",-1)),t("td",vn,o(r((Qt=a.value.CVM_PERCENT)==null?void 0:Qt.q95)),1),t("td",_n,o(r((Xt=a.value.DELG_MINUS30_KM)==null?void 0:Xt.q95)),1),t("td",mn,o(r((te=a.value.DELG_MINUS40_KM)==null?void 0:te.q95)),1),t("td",bn,o(r((ee=a.value.DELG_MINUS50_KM)==null?void 0:ee.q95)),1),t("td",fn,o(r((se=a.value.GRUE_35_KM)==null?void 0:se.q95)),1),t("td",hn,o(r((oe=a.value.GRUE_50_KM)==null?void 0:oe.q95)),1),t("td",gn,o(r((le=a.value.NEPS_140_KM)==null?void 0:le.q95)),1),t("td",yn,o(r((ne=a.value.NEPS_280_KM)==null?void 0:ne.q95)),1),t("td",En,o(r((ae=a.value.FUERZA_B)==null?void 0:ae.q95)),1),t("td",wn,o(r((re=a.value.ELONGACION)==null?void 0:re.q95)),1),t("td",Nn,o(r((ie=a.value.TENACIDAD)==null?void 0:ie.q95)),1),t("td",Sn,o(r((de=a.value.TRABAJO)==null?void 0:de.q95)),1)]),t("tr",Mn,[t("td",Tn,[t("div",kn,[e[61]||(e[61]=t("span",null,"M√°x",-1)),N((c(),u("button",Cn,[...e[60]||(e[60]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"M√°ximo. El valor m√°s alto del conjunto de datos.",placement:"top",theme:"custom"}]])])]),t("td",Rn,o(r((ce=a.value.TITULO)==null?void 0:ce.max)),1),e[62]||(e[62]=t("td",{class:"px-3 py-1 text-center text-slate-700"},"‚Äî",-1)),t("td",Dn,o(r((ue=a.value.CVM_PERCENT)==null?void 0:ue.max)),1),t("td",On,o(r((xe=a.value.DELG_MINUS30_KM)==null?void 0:xe.max)),1),t("td",In,o(r((pe=a.value.DELG_MINUS40_KM)==null?void 0:pe.max)),1),t("td",An,o(r((ve=a.value.DELG_MINUS50_KM)==null?void 0:ve.max)),1),t("td",Un,o(r((_e=a.value.GRUE_35_KM)==null?void 0:_e.max)),1),t("td",Pn,o(r((me=a.value.GRUE_50_KM)==null?void 0:me.max)),1),t("td",Ln,o(r((be=a.value.NEPS_140_KM)==null?void 0:be.max)),1),t("td",Gn,o(r((fe=a.value.NEPS_280_KM)==null?void 0:fe.max)),1),t("td",Kn,o(r((he=a.value.FUERZA_B)==null?void 0:he.max)),1),t("td",Bn,o(r((ge=a.value.ELONGACION)==null?void 0:ge.max)),1),t("td",Vn,o(r((ye=a.value.TENACIDAD)==null?void 0:ye.max)),1),t("td",jn,o(r((Ee=a.value.TRABAJO)==null?void 0:Ee.max)),1)]),t("tr",Fn,[t("td",$n,[t("div",qn,[e[64]||(e[64]=t("span",null,"M√≠n",-1)),N((c(),u("button",zn,[...e[63]||(e[63]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("path",{d:"M12 16v-4","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M12 8h.01","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])),[[d,{content:"M√≠nimo. El valor m√°s bajo del conjunto de datos.",placement:"top",theme:"custom"}]])])]),t("td",Hn,o(r((we=a.value.TITULO)==null?void 0:we.min)),1),e[65]||(e[65]=t("td",{class:"px-3 py-1 text-center text-slate-700"},"‚Äî",-1)),t("td",Jn,o(r((Ne=a.value.CVM_PERCENT)==null?void 0:Ne.min)),1),t("td",Zn,o(r((Se=a.value.DELG_MINUS30_KM)==null?void 0:Se.min)),1),t("td",Yn,o(r((Me=a.value.DELG_MINUS40_KM)==null?void 0:Me.min)),1),t("td",Wn,o(r((Te=a.value.DELG_MINUS50_KM)==null?void 0:Te.min)),1),t("td",Qn,o(r((ke=a.value.GRUE_35_KM)==null?void 0:ke.min)),1),t("td",Xn,o(r((Ce=a.value.GRUE_50_KM)==null?void 0:Ce.min)),1),t("td",ta,o(r((Re=a.value.NEPS_140_KM)==null?void 0:Re.min)),1),t("td",ea,o(r((De=a.value.NEPS_280_KM)==null?void 0:De.min)),1),t("td",sa,o(r((Oe=a.value.FUERZA_B)==null?void 0:Oe.min)),1),t("td",oa,o(r((Ie=a.value.ELONGACION)==null?void 0:Ie.min)),1),t("td",la,o(r((Ae=a.value.TENACIDAD)==null?void 0:Ae.min)),1),t("td",na,o(r((Ue=a.value.TRABAJO)==null?void 0:Ue.min)),1)])])])]))])])])):C("",!0),is(l,{visible:$.value,values:K.value.values,"huso-numbers":K.value.husoNumbers,testnr:String(K.value.testnr||""),timestamp:K.value.timestamp,oe:K.value.oe,"variable-label":"Titulo Ne","standard-ne":K.value.standardNe,"can-navigate-previous":!X.value,"can-navigate-next":!tt.value,onClose:e[2]||(e[2]=m=>$.value=!1),onNavigatePrevious:Ye,onNavigateNext:We},null,8,["visible","values","huso-numbers","testnr","timestamp","oe","standard-ne","can-navigate-previous","can-navigate-next"])])}}},pa=ps(aa,[["__scopeId","data-v-ed04c05d"]]);export{pa as default};
