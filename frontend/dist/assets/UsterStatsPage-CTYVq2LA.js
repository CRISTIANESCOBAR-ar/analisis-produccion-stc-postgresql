import{_ as qe,w as De,o as We,y as Je,a as g,c as y,b as e,m as G,z as os,f as te,d as se,e as ae,t as s,v as ns,n as Oe,p as le,l as Ae,q as Ue,F as Ce,r as Te,u as ze,C as He,H as ms}from"./index-DOrYTJc_.js";import{i as je}from"./index-C3W-oE5n.js";import{toPng as rs}from"./index-6sdqbm2o.js";import{S as he}from"./sweetalert2.esm.all-AlKuj1Cq.js";import{s as vs,f as bs}from"./dataService-CkzvrtSC.js";const hs={class:"w-full h-full"},gs={__name:"StatsChart",props:{stats:{type:Array,default:()=>[]},globalMean:{type:Number,required:!0},globalUcl:{type:Number,required:!0},globalLcl:{type:Number,required:!0},variableLabel:{type:String,default:""},standardValue:{type:Number,default:null},showValues:{type:Boolean,default:!0}},emits:["open-ensayo-detail","open-huso-detail"],setup(ue,{emit:Ee}){const n=ue,be=Ee,j=G(null);let T=null;const f=G(null);let pe=!0;const Y=G(null);function Q(R){try{if(!j.value)return 90;const N=j.value,F=N.clientWidth||N.offsetWidth||600;if(!R||R.length<=1)return 0;const l=document.createElement("canvas").getContext("2d"),w=window.getComputedStyle(N),C=w&&w.font?w.font:"12px sans-serif";l.font=C;let M=0;R.forEach(Z=>{const k=String(Z),ie=l.measureText(k).width;ie>M&&(M=ie)});const V=F/R.length;return M+10<=V?0:90}catch{return 90}}function xe(R,N){try{if(!j.value)return 60;const F=j.value,u=window.getComputedStyle(F),l=u&&u.font?u.font:"12px sans-serif",w=u&&u.fontSize?u.fontSize.match(/(\d+)(px)?/):null,C=w?parseInt(w[1],10):12,V=document.createElement("canvas").getContext("2d");V.font=l;let J=0;R.forEach(I=>{const de=String(I),o=V.measureText(de).width;o>J&&(J=o)});const Z=(N||0)*Math.PI/180,k=Math.abs(Math.sin(Z))*J+Math.abs(Math.cos(Z))*C,ie=["Promedio Día","Media Global","LCL (-3σ)","UCL (+3σ)"],fe=F.clientWidth||F.offsetWidth||800,m=Math.max(200,Math.floor(fe*(1-.03-.03))),v=14,O=8,q=12,$=ie.map(I=>{const de=V.measureText(I).width;return Math.ceil(v+O+de+q)});let K=0;for(let I of $)K+I>m?K=I:K+=I;return N===90?35:25}catch{return 10}}function me(R,N=0,F=25,u=null){const l=R.map(m=>m.timestampFmt?m.timestampFmt:m.testnr),w=R.map(m=>m.mean),C=Array(l.length).fill(n.globalUcl),M=Array(l.length).fill(n.globalLcl),V=Array(l.length).fill(n.globalMean),J=m=>{const v=[];if(w.forEach(K=>{const I=typeof K=="object"&&K!==null&&K.value!==void 0?K.value:K;typeof I=="number"&&!isNaN(I)&&v.push(I)}),(!m||m["Media Global"]!==!1)&&v.push(n.globalMean),m&&m["LCL (-3σ)"]!==!1&&v.push(n.globalLcl),m&&m["UCL (+3σ)"]!==!1&&v.push(n.globalUcl),n.standardValue!=null&&((!m||m["Ne Estándar"]!==!1)&&v.push(n.standardValue),(!m||m["Ne Min (-1.5%)"]!==!1)&&v.push(n.standardValue*.985),(!m||m["Ne Max (+1.5%)"]!==!1)&&v.push(n.standardValue*1.015)),v.length===0)return{yMin:0,yMax:100};const O=Math.min(...v),q=Math.max(...v),$=(q-O)*.1||.1;return{yMin:O-$,yMax:q+$}},Z=u||(pe?{"LCL (-3σ)":!1,"UCL (+3σ)":!1}:null),{yMin:k,yMax:ie}=J(Z),fe=N===90;return{tooltip:{trigger:"axis",backgroundColor:"#fff",borderColor:"#e2e8f0",textStyle:{color:"#1e293b",fontSize:12},extraCssText:"box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); border-radius: 8px;",formatter:m=>{if(!m||m.length===0)return"";const v=m[0].dataIndex,O=R[v],q=(O==null?void 0:O.timestampFmt)||m[0].axisValue,$=O!=null&&O.oe?` | OE: ${O.oe}`:"",K=O!=null&&O.ne?` | NE: ${O.ne}`:"";let I=`<div style="font-weight: 600; margin-bottom: 6px; color: #0f172a; border-bottom: 1px solid #f1f5f9; padding-bottom: 4px;">${q}${$}${K}</div>`;return m.forEach(de=>{if(de.value===void 0||de.value===null)return;const o=typeof de.value=="number"?de.value.toFixed(2):de.value;I+=`<div style="display: flex; align-items: center; justify-content: space-between; margin: 3px 0; gap: 12px;">
                        <div style="display: flex; align-items: center;">
                            ${de.marker} 
                            <span style="margin-left: 4px; color: #475569;">${de.seriesName}</span>
                        </div>
                        <span style="font-weight: 500; color: #1e293b;">${o}</span>
                    </div>`}),I}},legend:{data:["Promedio Día","Media Global","LCL (-3σ)","UCL (+3σ)",...n.standardValue!=null?["Ne Estándar","Ne Min (-1.5%)","Ne Max (+1.5%)"]:[]],bottom:0,left:"center",selectedMode:!0,itemGap:16,textStyle:{color:"#64748b"}},grid:{left:"2%",right:"2%",top:"4%",bottom:F,containLabel:!0},xAxis:{type:"category",data:l,axisLabel:{rotate:N,interval:0,align:fe?"right":"center",margin:10,color:"#64748b",fontSize:11},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",min:k,max:ie,axisLabel:{formatter:m=>m.toFixed(1),color:"#64748b",fontSize:11},splitLine:{lineStyle:{type:"dotted",color:"#e2e8f0"}}},series:[{name:"Promedio Día",type:"line",data:w.map((m,v)=>{if(n.standardValue!=null){const O=n.standardValue*.985,q=n.standardValue*1.015,$=m<O||m>q;return{value:m,itemStyle:$?{color:"#ef4444",borderColor:"#fff",borderWidth:2,shadowBlur:6,shadowColor:"rgba(239, 68, 68, 0.4)"}:{color:"#3b82f6"},symbolSize:$?8:6}}return m}),smooth:!1,symbol:"circle",showSymbol:!0,symbolSize:6,itemStyle:{color:"#3b82f6"},lineStyle:{width:1.25},label:{show:n.showValues,position:"top",formatter:m=>(typeof m.value=="object"?m.value.value:m.value).toFixed(2),fontSize:10,color:"#475569",fontWeight:500}},{name:"Media Global",type:"line",data:V,lineStyle:{type:"solid",color:"#1d4ed8",width:1.25},showSymbol:!1},{name:"LCL (-3σ)",type:"line",data:M,lineStyle:{type:"dashed",color:"#f97316",width:1.25},showSymbol:!1},{name:"UCL (+3σ)",type:"line",data:C,lineStyle:{type:"dashed",color:"#f97316",width:1.25},showSymbol:!1},{name:"Ne Estándar",type:"line",data:n.standardValue!=null?Array(l.length).fill(n.standardValue):[],lineStyle:{type:"solid",color:"#16a34a",width:1.25},showSymbol:!1,z:10,silent:n.standardValue==null},{name:"Ne Min (-1.5%)",type:"line",data:n.standardValue!=null?Array(l.length).fill(n.standardValue*.985):[],lineStyle:{type:"dashed",color:"#ef4444",width:1.25},showSymbol:!1,z:9,silent:n.standardValue==null},{name:"Ne Max (+1.5%)",type:"line",data:n.standardValue!=null?Array(l.length).fill(n.standardValue*1.015):[],lineStyle:{type:"dashed",color:"#ef4444",width:1.25},showSymbol:!1,z:9,silent:n.standardValue==null}]}}function oe(){if(!T||!n.stats||T.isDisposed())return;const R=n.stats.map(l=>l.timestampFmt?l.timestampFmt:l.testnr),N=Q(R),F=xe(R,N);console.log("StatsChart bottomPx calculated:",F);const u=me(n.stats,N,F,Y.value);pe?(u.legend.selected={"LCL (-3σ)":!1,"UCL (+3σ)":!1},Y.value={...u.legend.selected},pe=!1):Y.value&&(u.legend.selected={...Y.value}),T.setOption(u)}De(()=>[n.stats,n.globalMean,n.globalUcl,n.globalLcl,n.standardValue],()=>{oe()},{deep:!0});let ge=null,ye=null,U=!1;return We(()=>{T=je(j.value),oe(),T.on("updateAxisPointer",N=>{var u,l;const F=(l=(u=N.axesInfo)==null?void 0:u[0])==null?void 0:l.value;F!=null&&n.stats[F]&&(f.value=n.stats[F])}),T.on("globalout",()=>{f.value=null}),T.on("legendselectchanged",N=>{Y.value={...N.selected};const F=T.getOption(),u=F.xAxis[0].axisLabel.rotate,l=F.grid[0].bottom,w=me(n.stats,u,l,Y.value);w.legend.selected=Y.value,T.setOption({yAxis:w.yAxis},!1)}),ye=N=>{f.value&&((N.ctrlKey||N.metaKey)&&f.value.testnr&&(N.preventDefault(),be("open-ensayo-detail",f.value.testnr)),N.shiftKey&&f.value.testnr&&(N.preventDefault(),be("open-huso-detail",f.value)))},window.addEventListener("keydown",ye),ge=()=>{T&&!T.isDisposed()&&(T.resize(),oe())},window.addEventListener("resize",ge);const R=()=>{if(!(U||!T||T.isDisposed()))try{const N=j.value;if(!N||!n.stats)return;const F=n.stats.map(O=>O.timestampFmt?O.timestampFmt:O.testnr),u=Q(F);let l=N.querySelector(".echarts-legend")||N.querySelector(".ec-legend")||N.querySelector('[class*="legend"]');if(!l){const O=N.querySelectorAll('[class*="legend"]');O&&O.length&&(l=O[0])}l&&Math.ceil(l.getBoundingClientRect().height||0);const w=window.getComputedStyle(N),C=w&&w.font?w.font:"12px sans-serif",V=document.createElement("canvas").getContext("2d");V.font=C;let J=0;F.forEach(O=>{const q=V.measureText(String(O)).width;q>J&&(J=q)});const Z=w&&w.fontSize?w.fontSize.match(/(\d+)(px)?/):null,k=Z?parseInt(Z[1],10):12,ie=(u||0)*Math.PI/180,fe=Math.abs(Math.sin(ie))*J+Math.abs(Math.cos(ie))*k,m=u===90?35:25,v=T.getOption().grid&&T.getOption().grid[0]&&T.getOption().grid[0].bottom?T.getOption().grid[0].bottom:null;if(!v||Math.abs(m-(Number(v)||0))>6){U=!0;const O=me(n.stats,u,m,Y.value);Y.value&&(O.legend.selected=Y.value),setTimeout(()=>{T&&!T.isDisposed()&&T.setOption(O),U=!1},0)}}catch{U=!1}};T.on("finished",R)}),De(()=>n.showValues,()=>{T&&!T.isDisposed()&&oe()}),Je(()=>{T&&!T.isDisposed()&&(T.off("updateAxisPointer"),T.off("globalout"),T.off("finished"),T.dispose()),T=null,ge&&window.removeEventListener("resize",ge),ye&&window.removeEventListener("keydown",ye)}),(R,N)=>(g(),y("div",hs,[e("div",{ref_key:"chartRef",ref:j,class:"w-full h-full echarts-container",style:{"min-height":"260px"}},null,512)]))}},as=qe(gs,[["__scopeId","data-v-29c04424"]]),ys={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true"},_s={class:"flex items-center justify-between mb-3 pb-2 border-b border-slate-200 flex-shrink-0"},Ns={class:"flex flex-col gap-1"},ws={class:"text-xl font-bold text-slate-800"},Es={class:"flex items-center gap-4 text-sm text-slate-600"},Ss={class:"font-semibold text-slate-900"},Ms={key:0},Cs={class:"font-semibold text-slate-900"},Ts={key:1},Os={class:"font-semibold text-slate-900"},Ls={key:2},As={class:"font-semibold text-slate-900"},Us={class:"flex items-center gap-3"},Ds={class:"flex items-center gap-2 cursor-pointer select-none"},ks={class:"grid grid-cols-7 gap-2 mb-3 flex-shrink-0"},Is={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-blue-300 transition-colors"},Rs={class:"flex items-center justify-between gap-2"},Ps={class:"text-sm font-bold text-slate-900"},Vs={class:"flex items-center justify-between gap-2"},$s={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-green-300 transition-colors"},Gs={class:"flex items-center justify-between gap-2"},Ks={class:"text-sm font-bold text-slate-900"},Fs={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-purple-300 transition-colors"},Bs={class:"flex items-center justify-between gap-2"},zs={class:"text-sm font-bold text-slate-900"},Hs={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-orange-300 transition-colors"},js={class:"flex items-center justify-between gap-2"},qs={class:"text-sm font-bold text-slate-900"},Ws={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-cyan-300 transition-colors"},Js={class:"flex items-center justify-between gap-2"},Zs={class:"text-sm font-bold text-slate-900"},Ys={class:"bg-white rounded-lg px-3 py-2 border border-slate-200 hover:border-amber-300 transition-colors"},Qs={class:"flex items-center justify-between gap-2"},Xs={class:"text-sm font-bold text-slate-900"},el={class:"flex-1 min-h-0 border border-slate-200 rounded-xl p-3 bg-slate-50 overflow-hidden"},tl={__name:"HusoDetailModal",props:{visible:{type:Boolean,default:!1},values:{type:Array,default:()=>[]},husoNumbers:{type:Array,default:()=>[]},testnr:{type:String,default:""},timestamp:{type:String,default:""},oe:{type:String,default:""},variableLabel:{type:String,default:""},standardNe:{type:[String,Number],default:""},canNavigatePrevious:{type:Boolean,default:!1},canNavigateNext:{type:Boolean,default:!1}},emits:["close","navigate-previous","navigate-next"],setup(ue,{emit:Ee}){const n=ue,be=Ee,j=G(null),T=G(null);let f=null,pe=!0;const Y=G(!0),Q=G({mean:0,sd:0,cv:0,lcl:0,ucl:0,min:0,max:0,range:0,neMin:null,neMax:null}),xe=le(()=>{const u=n.standardNe?parseFloat(n.standardNe):null;if(!u||!Q.value.mean)return null;const l=n.variableLabel&&n.variableLabel.toLowerCase().includes("titulo");let w;l?w=u-Q.value.mean:w=Q.value.mean-u;const C=w/u*100,M=C.toFixed(2);return C>=0?`+${M}`:M}),me=le(()=>{if(xe.value===null)return"";const u=parseFloat(xe.value);return Math.abs(u)<=1.5?"text-green-600":"text-red-600"});function oe(){if(!n.values||n.values.length===0){Q.value={mean:0,sd:0,cv:0,lcl:0,ucl:0,min:0,max:0,range:0,neMin:null,neMax:null};return}const u=n.values.length,l=n.values.reduce((m,v)=>m+v,0)/u,w=n.values.reduce((m,v)=>m+Math.pow(v-l,2),0)/u,C=Math.sqrt(w),M=l!==0?C/l*100:0,V=Math.min(...n.values),J=Math.max(...n.values),Z=J-V,k=n.standardNe?parseFloat(n.standardNe):null,ie=k?k*.985:null,fe=k?k*1.015:null;Q.value={mean:l,sd:C,cv:M,lcl:l-3*C,ucl:l+3*C,min:V,max:J,range:Z,neMin:ie,neMax:fe}}function ge(u){return u==null||isNaN(u)?"—":u.toFixed(2)}function ye(u){return u==null||isNaN(u)?"—":u.toFixed(2)}const U=G({});function R(u=null){const l=n.husoNumbers.length>0?n.husoNumbers.map(v=>String(v)):n.values.map((v,O)=>String(O+1)),w=n.values,C=n.variableLabel&&n.variableLabel.toLowerCase().includes("titulo"),M=n.standardNe?parseFloat(n.standardNe):null,V=["Valor","Promedio","LCL (-3σ)","UCL (+3σ)"];C&&M&&V.push("Ne Estándar","Ne Min (+1.5%)","Ne Max (-1.5%)");const J=[{name:"Valor",type:"line",data:w.map((v,O)=>{if(M&&C){const q=M*.985,$=M*1.015,K=v<q||v>$;return{value:v,itemStyle:K?{color:"#ef4444",borderColor:"#fff",borderWidth:2,shadowBlur:6,shadowColor:"rgba(239, 68, 68, 0.4)"}:{color:"#3b82f6"},symbolSize:K?8:6}}return v}),smooth:!1,showSymbol:!0,symbolSize:6,itemStyle:{color:"#3b82f6"},lineStyle:{width:1.5},label:{show:Y.value,position:"top",formatter:v=>(typeof v.value=="object"?v.value.value:v.value).toFixed(2),fontSize:10,color:"#475569",fontWeight:500}},{name:"Promedio",type:"line",data:Array(l.length).fill(Q.value.mean),lineStyle:{type:"solid",color:"#10b981",width:1.5},showSymbol:!1},{name:"LCL (-3σ)",type:"line",data:Array(l.length).fill(Q.value.lcl),lineStyle:{type:"dashed",color:"#ef4444",width:1.5},showSymbol:!1},{name:"UCL (+3σ)",type:"line",data:Array(l.length).fill(Q.value.ucl),lineStyle:{type:"dashed",color:"#ef4444",width:1.5},showSymbol:!1}];C&&M&&J.push({name:"Ne Estándar",type:"line",data:Array(l.length).fill(M),lineStyle:{type:"solid",color:"#8b5cf6",width:1.5},showSymbol:!1,z:3},{name:"Ne Min (+1.5%)",type:"line",data:Array(l.length).fill(M*.985),lineStyle:{type:"dashed",color:"#f59e0b",width:1.5},showSymbol:!1,z:2},{name:"Ne Max (-1.5%)",type:"line",data:Array(l.length).fill(M*1.015),lineStyle:{type:"dashed",color:"#f59e0b",width:1.5},showSymbol:!1,z:2});let Z=1/0,k=-1/0;J.forEach(v=>{if(!(u?u[v.name]!==!1:!0))return;v.data.forEach($=>{const K=typeof $=="object"&&$!==null&&$.value!==void 0?$.value:$;typeof K=="number"&&!isNaN(K)&&(K<Z&&(Z=K),K>k&&(k=K))})});const fe=(k-Z)*.05;return Z=Z-fe,k=k+fe,{tooltip:{trigger:"axis",backgroundColor:"#fff",borderColor:"#e2e8f0",textStyle:{color:"#1e293b",fontSize:12},extraCssText:"box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); border-radius: 8px;",formatter:v=>{if(!v||v.length===0)return"";let q=`<div style="font-weight: 600; margin-bottom: 6px; color: #0f172a; border-bottom: 1px solid #f1f5f9; padding-bottom: 4px;">Huso ${v[0].axisValue} | ${n.variableLabel}</div>`;return v.forEach($=>{if($.value===void 0||$.value===null)return;const K=typeof $.value=="number"?$.value.toFixed(2):$.value;q+=`<div style="display: flex; align-items: center; justify-content: space-between; margin: 3px 0; gap: 12px;">
                        <div style="display: flex; align-items: center;">
                            ${$.marker} 
                            <span style="margin-left: 4px; color: #475569;">${$.seriesName}</span>
                        </div>
                        <span style="font-weight: 500; color: #1e293b;">${K}</span>
                    </div>`}),q}},legend:{data:V,bottom:0,left:"center"},grid:{left:"8%",right:"4%",top:"8%",bottom:60,containLabel:!1},xAxis:{type:"category",data:l,axisLabel:{rotate:0,interval:0}},yAxis:{type:"value",min:Z,max:k,axisLabel:{formatter:v=>v.toFixed(2)}},series:J}}function N(){if(!(!f||f.isDisposed()||!n.values||n.values.length===0))if(pe){const u={"LCL (-3σ)":!1,"UCL (+3σ)":!1};U.value=u;const l=R(u);l.legend.selected=u,pe=!1,f.setOption(l,{notMerge:!0})}else{const u=R(U.value);f.setOption(u,{notMerge:!1})}}async function F(){try{if(!T.value)return;const u=['[aria-label="Copiar como imagen"]','[aria-label="Cerrar"]','[aria-label="Ensayo anterior"]','[aria-label="Ensayo siguiente"]','label:has(input[type="checkbox"])'],l=[];u.forEach(M=>{const V=T.value.querySelector(M);V&&(l.push({el:V,originalDisplay:V.style.display}),V.style.display="none")}),await new Promise(M=>setTimeout(M,80));const w=await rs(T.value,{quality:1,pixelRatio:2,backgroundColor:"#ffffff",skipFonts:!0});l.forEach(({el:M,originalDisplay:V})=>{M.style.display=V||""});const C=await(await fetch(w)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":C})]),he.fire({icon:"success",title:"¡Copiado!",text:"La imagen se copió al portapapeles. Puedes pegarla en WhatsApp.",timer:2e3,showConfirmButton:!1})}catch(u){console.error("Error copying image:",u),he.fire({icon:"error",title:"Error",text:"No se pudo copiar la imagen."})}}return De(()=>n.visible,async u=>{u?(pe=!0,U.value={},oe(),await Ae(),(async(w=10)=>{for(let C=0;C<w;C++){if(await Ae(),j.value&&j.value.clientWidth>0&&j.value.clientHeight>0){f&&f.dispose(),f=je(j.value),f.on("legendselectchanged",M=>{U.value={...M.selected};const V=R(U.value);V.legend.selected=U.value,f.setOption({yAxis:V.yAxis},!1)}),N(),setTimeout(()=>{f&&!f.isDisposed()&&f.resize()},100);return}await new Promise(M=>setTimeout(M,100))}})()):f&&(f.dispose(),f=null)}),De(()=>n.testnr,async(u,l)=>{n.visible&&u!==l&&f&&!f.isDisposed()&&(oe(),pe=!0,U.value={},await Ae(),N(),setTimeout(()=>{f&&!f.isDisposed()&&f.resize()},100))}),De([()=>n.values,()=>n.husoNumbers],async()=>{var u;n.visible&&((u=n.values)==null?void 0:u.length)>0&&(!f||f.isDisposed()?(await Ae(),(async(w=10)=>{for(let C=0;C<w;C++){if(await Ae(),j.value&&j.value.clientWidth>0&&j.value.clientHeight>0){if(f&&!f.isDisposed()){oe(),N();return}f=je(j.value),f.on("legendselectchanged",M=>{U.value={...M.selected};const V=R(U.value);V.legend.selected=U.value,f.setOption({yAxis:V.yAxis},!1)}),oe(),N(),setTimeout(()=>{f&&!f.isDisposed()&&f.resize()},100);return}await new Promise(M=>setTimeout(M,100))}console.warn("[HusoDetailModal] Could not initialize chart after retries")})()):(oe(),await Ae(),N(),setTimeout(()=>{f&&!f.isDisposed()&&f.resize()},100)))},{deep:!0}),We(()=>{const u=l=>{if(!n.visible)return;const w=l.target&&l.target.tagName?String(l.target.tagName).toLowerCase():"";if(!(w==="input"||w==="textarea"||w==="select"||l.isComposing)){if(l.key==="Escape"){be("close");return}if((l.key==="ArrowLeft"||l.key==="Left")&&n.canNavigatePrevious){l.preventDefault(),be("navigate-previous");return}if((l.key==="ArrowRight"||l.key==="Right")&&n.canNavigateNext){l.preventDefault(),be("navigate-next");return}}};window.addEventListener("keydown",u),Je(()=>{window.removeEventListener("keydown",u),f&&!f.isDisposed()&&(f.dispose(),f=null)})}),(u,l)=>{const w=os("tippy");return ue.visible?(g(),y("div",ys,[e("div",{class:"fixed inset-0 bg-gradient-to-br from-slate-900/50 to-slate-800/50 backdrop-blur-sm z-40",onClick:l[0]||(l[0]=C=>u.$emit("close")),"aria-hidden":"true"}),e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full flex flex-col p-4 z-50 relative",style:{height:"600px"},role:"document",ref_key:"modalRef",ref:T},[ue.canNavigatePrevious?te((g(),y("button",{key:0,onClick:l[1]||(l[1]=C=>u.$emit("navigate-previous")),class:"absolute left-0 top-1/2 -translate-y-1/2 -ml-6 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 z-50","aria-label":"Ensayo anterior"},[...l[5]||(l[5]=[se("‹",-1)])])),[[w,{content:"Anterior ensayo",placement:"left",theme:"custom"}]]):ae("",!0),ue.canNavigateNext?te((g(),y("button",{key:1,onClick:l[2]||(l[2]=C=>u.$emit("navigate-next")),class:"absolute right-0 top-1/2 -translate-y-1/2 -mr-6 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 z-50","aria-label":"Ensayo siguiente"},[...l[6]||(l[6]=[se("›",-1)])])),[[w,{content:"Siguiente ensayo",placement:"right",theme:"custom"}]]):ae("",!0),e("header",_s,[e("div",Ns,[e("h3",ws,"Detalle por Huso - "+s(ue.variableLabel),1),e("div",Es,[e("span",null,[l[7]||(l[7]=se("Ensayo: ",-1)),e("span",Ss,s(ue.testnr),1)]),ue.timestamp?(g(),y("span",Ms,[l[8]||(l[8]=se("Fecha: ",-1)),e("span",Cs,s(ue.timestamp),1)])):ae("",!0),ue.oe?(g(),y("span",Ts,[l[9]||(l[9]=se("OE: ",-1)),e("span",Os,s(ue.oe),1)])):ae("",!0),ue.standardNe?(g(),y("span",Ls,[l[10]||(l[10]=se("Ne Estándar: ",-1)),e("span",As,s(ue.standardNe),1)])):ae("",!0)])]),e("div",Us,[e("label",Ds,[te(e("input",{type:"checkbox","onUpdate:modelValue":l[3]||(l[3]=C=>Y.value=C),onChange:N,class:"w-4 h-4 text-blue-600 bg-white border-slate-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"},null,544),[[ns,Y.value]]),l[11]||(l[11]=e("span",{class:"text-sm font-normal text-slate-700"},"Mostrar Valores",-1))]),te((g(),y("button",{onClick:F,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-blue-400 hover:bg-blue-50 flex items-center justify-center text-slate-600 hover:text-blue-600 transition-all duration-200 group shadow-sm hover:shadow-md","aria-label":"Copiar como imagen"},[...l[12]||(l[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])),[[w,{content:"Copiar como imagen para WhatsApp",placement:"bottom",theme:"custom"}]]),e("button",{onClick:l[4]||(l[4]=C=>u.$emit("close")),type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-red-400 hover:bg-red-50 flex items-center justify-center text-slate-600 hover:text-red-600 transition-all duration-200 shadow-sm hover:shadow-md","aria-label":"Cerrar"},[...l[13]||(l[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])]),e("div",ks,[e("div",Is,[e("div",Rs,[l[14]||(l[14]=e("span",{class:"text-xs font-medium text-slate-500"},"Promedio",-1)),e("span",Ps,s(ge(Q.value.mean)),1)])]),xe.value!==null?(g(),y("div",{key:0,class:Oe(["bg-white rounded-lg px-3 py-2 border border-slate-200 transition-colors",xe.value!==null&&Math.abs(parseFloat(xe.value))<=1.5?"hover:border-green-300":"hover:border-red-300"])},[e("div",Vs,[l[15]||(l[15]=e("span",{class:"text-xs font-medium text-slate-500"},"Desvío %",-1)),e("span",{class:Oe(["text-sm font-bold",me.value])},s(xe.value),3)])],2)):ae("",!0),e("div",$s,[e("div",Gs,[l[16]||(l[16]=e("span",{class:"text-xs font-medium text-slate-500"},"Desv. Est. (σ)",-1)),e("span",Ks,s(ge(Q.value.sd)),1)])]),e("div",Fs,[e("div",Bs,[l[17]||(l[17]=e("span",{class:"text-xs font-medium text-slate-500"},"CV %",-1)),e("span",zs,s(ge(Q.value.cv)),1)])]),e("div",Hs,[e("div",js,[l[18]||(l[18]=e("span",{class:"text-xs font-medium text-slate-500"},"Rango",-1)),e("span",qs,s(ge(Q.value.range)),1)])]),e("div",Ws,[e("div",Js,[l[19]||(l[19]=e("span",{class:"text-xs font-medium text-slate-500"},"Ne Min (+1.5%)",-1)),e("span",Zs,s(ye(Q.value.neMin)),1)])]),e("div",Ys,[e("div",Qs,[l[20]||(l[20]=e("span",{class:"text-xs font-medium text-slate-500"},"Ne Max (-1.5%)",-1)),e("span",Xs,s(ye(Q.value.neMax)),1)])])]),e("div",el,[e("div",{ref_key:"chartRef",ref:j,class:"w-full h-full"},null,512)])],512)])):ae("",!0)}}},sl=qe(tl,[["__scopeId","data-v-ae4a0c2a"]]),ll={class:"w-full h-screen flex flex-col p-1 overflow-hidden"},al={key:0,class:"fixed bottom-2 right-2 z-50 bg-black/70 text-white text-xs px-2 py-1 rounded shadow"},ol={class:"w-full flex-1 min-h-0 bg-white rounded-2xl shadow-xl px-4 py-3 border border-slate-200 flex flex-col overflow-hidden"},nl={key:0,class:"text-center py-12 flex-1"},rl={key:1,class:"text-center py-12 flex-1"},il={class:"text-red-600 mb-4"},dl={key:2,class:"flex flex-col h-full"},ul={class:"mb-2 flex items-center gap-3 w-full flex-shrink-0"},cl=["value"],pl=["disabled"],xl=["value"],fl=["value"],ml={key:0,class:"mb-3 flex items-center gap-4 text-slate-700 text-xs flex-wrap flex-shrink-0"},vl={class:"whitespace-nowrap"},bl={class:"text-blue-600 font-semibold"},hl={class:"whitespace-nowrap"},gl={class:"whitespace-nowrap"},yl={class:"text-red-600 font-semibold"},_l={class:"whitespace-nowrap"},Nl={key:1,class:"text-center py-8 text-slate-500 flex-1"},wl={key:2,class:"flex-1 flex flex-col min-h-0 overflow-hidden"},El={class:"flex-1 min-h-0 overflow-hidden"},Sl={key:3,class:"flex flex-col h-full"},Ml={class:"px-1 py-2 mb-2 flex-shrink-0 border-b border-slate-100"},Cl={class:"flex flex-wrap items-center justify-between gap-4"},Tl={class:"flex items-center gap-6"},Ol={class:"hidden md:flex items-center gap-1"},Ll=["disabled"],Al={class:"flex items-center gap-4"},Ul={class:"flex items-center gap-2"},Dl=["value"],kl={class:"flex items-center gap-2"},Il=["disabled"],Rl=["value"],Pl={class:"flex items-center gap-2"},Vl=["value"],$l={key:0,class:"flex items-center gap-6"},Gl={class:"flex items-center gap-3 text-sm"},Kl={class:"flex items-center gap-1.5"},Fl={class:"font-semibold text-orange-500"},Bl={class:"flex items-center gap-1.5"},zl={class:"font-semibold text-slate-700"},Hl={class:"flex items-center gap-1.5"},jl={class:"font-semibold text-orange-500"},ql={class:"flex items-center gap-1.5"},Wl={class:"font-semibold text-slate-700"},Jl={class:"flex items-center gap-2 pl-4 border-l border-slate-100"},Zl={class:"flex items-center gap-2 cursor-pointer select-none"},Yl={class:"hidden lg:flex items-center gap-1.5 pl-3 border-l border-slate-100"},Ql={class:"px-1 py-0.5 rounded border border-slate-200 bg-slate-50 text-[9px] text-slate-500 font-mono cursor-help transition-colors hover:border-slate-300 hover:text-slate-700"},Xl={class:"px-1 py-0.5 rounded border border-slate-200 bg-slate-50 text-[9px] text-slate-500 font-mono cursor-help transition-colors hover:border-slate-300 hover:text-slate-700"},ea={class:"hidden lg:flex items-center pl-3 border-l border-slate-100"},ta={key:0,class:"text-center py-8 text-slate-500 flex-1"},sa={key:1,class:"flex-1 flex flex-col min-h-0 overflow-hidden"},la={key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true"},aa={class:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] flex flex-col p-3 z-50 relative",role:"document"},oa={class:"flex items-start sm:items-center justify-between mb-2 pb-1 gap-3"},na={class:"flex flex-col sm:flex-row sm:items-center gap-2 mx-8"},ra={class:"text-slate-600 text-sm"},ia={class:"text-slate-900 text-lg font-semibold ml-1"},da={class:"text-slate-600 text-sm"},ua={class:"text-slate-900 text-lg font-semibold ml-1"},ca={class:"text-slate-600 text-sm"},pa={class:"text-slate-900 text-lg font-semibold ml-1"},xa={class:"text-slate-600 text-sm"},fa={class:"text-slate-900 text-lg font-semibold ml-1"},ma={class:"text-slate-900 text-lg font-semibold ml-1"},va={class:"flex items-center gap-2"},ba={key:2,class:"mx-8 flex items-center gap-4 text-slate-600 text-sm mb-2"},ha={key:0},ga={class:"text-slate-900 text-sm font-normal ml-1"},ya={key:1},_a={class:"text-slate-900 text-sm font-normal ml-1"},Na={key:2},wa={class:"text-slate-900 text-sm font-normal ml-1"},Ea={class:"flex-1 relative"},Sa={key:0,class:"text-sm text-slate-600 py-8 text-center"},Ma={key:1,class:"rounded-xl border border-slate-200 overflow-auto max-h-[calc(98vh-8rem)]"},Ca={class:"min-w-full text-xs"},Ta={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Oa={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},La={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Aa={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Ua={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Da={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},ka={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Ia={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Ra={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Pa={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Va={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},$a={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Ga={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Ka={class:"px-3 py-1 text-center border-b border-slate-100 text-slate-700"},Fa={class:"bg-gradient-to-r from-blue-50 to-indigo-50 font-semibold border-t-2 border-blue-200"},Ba={class:"px-3 py-1 text-center text-slate-700"},za={class:"px-3 py-1 text-center text-slate-700"},Ha={class:"px-3 py-1 text-center text-slate-700"},ja={class:"px-3 py-1 text-center text-slate-700"},qa={class:"px-3 py-1 text-center text-slate-700"},Wa={class:"px-3 py-1 text-center text-slate-700"},Ja={class:"px-3 py-1 text-center text-slate-700"},Za={class:"px-3 py-1 text-center text-slate-700"},Ya={class:"px-3 py-1 text-center text-slate-700"},Qa={class:"px-3 py-1 text-center text-slate-700"},Xa={class:"px-3 py-1 text-center text-slate-700"},eo={class:"px-3 py-1 text-center text-slate-700"},to={class:"px-3 py-1 text-center text-slate-700"},so={class:"bg-blue-50/50 font-medium"},lo={class:"px-3 py-1 text-center text-slate-700"},ao={class:"px-3 py-1 text-center text-slate-700"},oo={class:"px-3 py-1 text-center text-slate-700"},no={class:"px-3 py-1 text-center text-slate-700"},ro={class:"px-3 py-1 text-center text-slate-700"},io={class:"px-3 py-1 text-center text-slate-700"},uo={class:"px-3 py-1 text-center text-slate-700"},co={class:"px-3 py-1 text-center text-slate-700"},po={class:"px-3 py-1 text-center text-slate-700"},xo={class:"px-3 py-1 text-center text-slate-700"},fo={class:"px-3 py-1 text-center text-slate-700"},mo={class:"px-3 py-1 text-center text-slate-700"},vo={class:"px-3 py-1 text-center text-slate-700"},bo={class:"bg-indigo-50/50 font-medium"},ho={class:"px-3 py-1 text-center text-slate-700"},go={class:"px-3 py-1 text-center text-slate-700"},yo={class:"px-3 py-1 text-center text-slate-700"},_o={class:"px-3 py-1 text-center text-slate-700"},No={class:"px-3 py-1 text-center text-slate-700"},wo={class:"px-3 py-1 text-center text-slate-700"},Eo={class:"px-3 py-1 text-center text-slate-700"},So={class:"px-3 py-1 text-center text-slate-700"},Mo={class:"px-3 py-1 text-center text-slate-700"},Co={class:"px-3 py-1 text-center text-slate-700"},To={class:"px-3 py-1 text-center text-slate-700"},Oo={class:"px-3 py-1 text-center text-slate-700"},Lo={class:"px-3 py-1 text-center text-slate-700"},Ao={class:"bg-blue-50/50 font-medium"},Uo={class:"px-3 py-1 text-center text-slate-700"},Do={class:"px-3 py-1 text-center text-slate-700"},ko={class:"px-3 py-1 text-center text-slate-700"},Io={class:"px-3 py-1 text-center text-slate-700"},Ro={class:"px-3 py-1 text-center text-slate-700"},Po={class:"px-3 py-1 text-center text-slate-700"},Vo={class:"px-3 py-1 text-center text-slate-700"},$o={class:"px-3 py-1 text-center text-slate-700"},Go={class:"px-3 py-1 text-center text-slate-700"},Ko={class:"px-3 py-1 text-center text-slate-700"},Fo={class:"px-3 py-1 text-center text-slate-700"},Bo={class:"px-3 py-1 text-center text-slate-700"},zo={class:"px-3 py-1 text-center text-slate-700"},Ho={class:"bg-indigo-50/50 font-medium"},jo={class:"px-3 py-1 text-center text-slate-700"},qo={class:"px-3 py-1 text-center text-slate-700"},Wo={class:"px-3 py-1 text-center text-slate-700"},Jo={class:"px-3 py-1 text-center text-slate-700"},Zo={class:"px-3 py-1 text-center text-slate-700"},Yo={class:"px-3 py-1 text-center text-slate-700"},Qo={class:"px-3 py-1 text-center text-slate-700"},Xo={class:"px-3 py-1 text-center text-slate-700"},en={class:"px-3 py-1 text-center text-slate-700"},tn={class:"px-3 py-1 text-center text-slate-700"},sn={class:"px-3 py-1 text-center text-slate-700"},ln={class:"px-3 py-1 text-center text-slate-700"},an={class:"px-3 py-1 text-center text-slate-700"},on={class:"bg-blue-50/50 font-medium"},nn={class:"px-3 py-1 text-center text-slate-700"},rn={class:"px-3 py-1 text-center text-slate-700"},dn={class:"px-3 py-1 text-center text-slate-700"},un={class:"px-3 py-1 text-center text-slate-700"},cn={class:"px-3 py-1 text-center text-slate-700"},pn={class:"px-3 py-1 text-center text-slate-700"},xn={class:"px-3 py-1 text-center text-slate-700"},fn={class:"px-3 py-1 text-center text-slate-700"},mn={class:"px-3 py-1 text-center text-slate-700"},vn={class:"px-3 py-1 text-center text-slate-700"},bn={class:"px-3 py-1 text-center text-slate-700"},hn={class:"px-3 py-1 text-center text-slate-700"},gn={class:"px-3 py-1 text-center text-slate-700"},yn={key:2,class:"absolute inset-0 bg-white/95 z-50 flex flex-col items-center justify-center"},_n={__name:"UsterStatsPage",setup(ue){var tt,st;const Ee=G([]),n=G([]),be=G([]),j=G([]),T=G(!1),f=G(null),pe=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),Y=G(pe?"oracle":"firebase"),Q=G(((st=(tt=import.meta)==null?void 0:tt.env)==null?void 0:st.DEV)===!0),xe=G(typeof window<"u"?window.innerWidth:0),me=G(typeof window<"u"?window.innerWidth<768:!1);let oe=null;typeof window<"u"&&(oe=window.matchMedia("(max-width: 767px)"),me.value=oe.matches);function ge(){const a=typeof window<"u"?window.innerWidth:1024,t=oe?oe.matches:a<768;me.value=t}function ye(){ge(),xe.value=typeof window<"u"?window.innerWidth:0}const U=G(null),R=G("TITULO"),N=G(null),F=[{key:"TITULO",label:"Titulo Ne",source:"uster"},{key:"CVM_PERCENT",label:"CVM%",source:"uster"},{key:"DELG_MINUS30_KM",label:"Delg -30% (km)",source:"uster"},{key:"DELG_MINUS40_KM",label:"Delg -40% (km)",source:"uster"},{key:"DELG_MINUS50_KM",label:"Delg -50% (km)",source:"uster"},{key:"GRUE_35_KM",label:"Grue +35% (km)",source:"uster"},{key:"GRUE_50_KM",label:"Grue +50% (km)",source:"uster"},{key:"NEPS_140_KM",label:"Neps +140% (km)",source:"uster"},{key:"NEPS_280_KM",label:"Neps +280% (km)",source:"uster"},{key:"FUERZA_B",label:"Fuerza B (cN/tex)",source:"tensorapid"},{key:"ELONGACION",label:"Elongación (%)",source:"tensorapid"},{key:"TENACIDAD",label:"Tenacidad (cN/tex)",source:"tensorapid"},{key:"TRABAJO",label:"Trabajo (N*mm)",source:"tensorapid"}];async function u(){T.value=!0,f.value=null;try{vs(Y.value);const a=await bs();Ee.value=a.usterTbl||[],n.value=a.usterPar||[],be.value=a.tensorapidTbl||[],j.value=a.tensorapidPar||[],console.log(`✅ Datos cargados desde ${a.source}:`,{usterPar:n.value.length,usterTbl:Ee.value.length,tensorapidPar:j.value.length,tensorapidTbl:be.value.length})}catch(a){console.error("Error fetching data:",a),f.value=a.message}finally{T.value=!1}}function l(a){if(!pe&&a==="oracle"){console.warn("La fuente Oracle solo está disponible en entorno local.");return}Y.value=a,u()}const w=le(()=>{const a=F.find(t=>t.key===R.value);return a?a.label:R.value});function C(a,t){if(a==null||a==="")return"";let r=String(a).trim();return t&&String(t).toLowerCase()==="hilo de fantasia"?r+"Flame":r}function M(a){if(!a)return a;const t=String(a).trim();if(!t)return t;const r=t.match(/^(\d+)\s*([A-Za-z]+)?/);if(!r)return t;const b=parseInt(r[1],10),H=r[2]?r[2].substring(0,2).toUpperCase():"";return H?`${b} ${H}`:String(b)}const V=le(()=>{const a=new Set;for(const t of n.value)if(t.NOMCOUNT!=null&&t.NOMCOUNT!==""){const r=C(t.NOMCOUNT,t.MATCLASS);a.add(r)}return Array.from(a).sort((t,r)=>{const b=parseFloat(t),H=parseFloat(r);return!isNaN(b)&&!isNaN(H)?b-H:String(t).localeCompare(String(r))})}),J=le(()=>{if(!U.value)return[];const a=new Set;for(const t of n.value)if(C(t.NOMCOUNT,t.MATCLASS)===U.value){const b=t.MASCHNR||t.OE||t.OE_NRO||null;b!=null&&b!==""&&a.add(M(b))}return Array.from(a).sort((t,r)=>{const b=parseInt(t)||0,H=parseInt(r)||0;return b!==H?b-H:t.localeCompare(r)})});De(U,()=>{N.value=null});const Z=le(()=>U.value?n.value.filter(a=>{if(C(a.NOMCOUNT,a.MATCLASS)!==U.value)return!1;if(N.value){const r=a.MASCHNR||a.OE||a.OE_NRO||null;return M(r)===N.value}return!0}).map(a=>a.TESTNR).filter(Boolean):[]),k=le(()=>{if(!U.value)return[];const a=F.find(h=>h.key===R.value),t=(a==null?void 0:a.source)==="tensorapid",r=new Set(Z.value),b={};if(t){const h=new Map;for(const d of j.value){const L=d.USTER_TESTNR,z=d.TESTNR;!L||!z||(h.has(L)||h.set(L,[]),h.get(L).push(z))}for(const d of r){const L=h.get(d)||[];for(const z of be.value){if(!L.includes(z.TESTNR))continue;const E=parseFloat(z[R.value]);if(isNaN(E))continue;b[d]||(b[d]={values:[],timestamps:[],oe:null,ne:null}),b[d].values.push(E);const P=n.value.find(A=>A.TESTNR===d);if(P){if(P.TIME_STAMP&&b[d].timestamps.push(P.TIME_STAMP),!b[d].oe){const A=P.MASCHNR||P.OE||P.OE_NRO||null;b[d].oe=M(A)}b[d].ne||(b[d].ne=C(P.NOMCOUNT,P.MATCLASS))}}}}else for(const h of Ee.value){const d=h.TESTNR;if(!d||!r.has(d))continue;const L=parseFloat(h[R.value]);if(isNaN(L))continue;b[d]||(b[d]={values:[],timestamps:[],oe:null,ne:null}),b[d].values.push(L);let z=h.TIME_STAMP;if(!z){const E=n.value.find(P=>P.TESTNR===d);E&&E.TIME_STAMP&&(z=E.TIME_STAMP)}if(z&&b[d].timestamps.push(z),!b[d].oe||!b[d].ne){const E=n.value.find(P=>P.TESTNR===d);if(E){if(!b[d].oe){const P=E.MASCHNR||E.OE||E.OE_NRO||null;b[d].oe=M(P)}b[d].ne||(b[d].ne=C(E.NOMCOUNT,E.MATCLASS))}}}function H(h){if(!h)return null;if(h instanceof Date)return h;if(typeof h=="number")return new Date(h);const d=String(h).trim();if(/^\d+$/.test(d)){const E=Number(d);if(E>1e12)return new Date(E);if(E>1e9)return new Date(E*1e3)}let L=d.match(/^(\d{1,2})[/-](\d{1,2})[/-](\d{2,4})(?:\s+\d{1,2}:\d{2})?$/);if(L){const E=Number(L[1]),P=Number(L[2]);let A=Number(L[3]);A<100&&(A+=2e3);let _,S;return E>12?(_=E,S=P-1):P>12?(_=P,S=E-1):(_=E,S=P-1),new Date(A,S,_)}if(L=d.match(/^(\d{1,2})-([A-Za-z]{3})-(\d{2,4})$/i),L){const E={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11},P=L[2].toUpperCase(),A=E[P];if(A!==void 0){let _=Number(L[3]);return _<100&&(_+=2e3),new Date(_,A,Number(L[1]))}}let z=new Date(d);return isNaN(z.getTime())?null:z}const X=[];for(const[h,d]of Object.entries(b)){const L=d.values||[];if(L.length===0)continue;const z=L.reduce((_,S)=>_+S,0)/L.length;let E=null;if(d.timestamps&&d.timestamps.length>0){const _=d.timestamps.map(S=>H(S)).filter(Boolean);_.length>0&&(_.sort((S,W)=>S-W),E=_[0])}let P=null,A=null;if(E){const _=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),W=String(E.getFullYear()).slice(-2);P=`${_}/${S}/${W}`,A=E.toISOString()}X.push({testnr:h,n:L.length,mean:z,values:L,timestampISO:A,timestampFmt:P,oe:d.oe||null,ne:d.ne||null})}return X.sort((h,d)=>h.timestampISO&&d.timestampISO?String(h.timestampISO).localeCompare(String(d.timestampISO)):String(h.testnr).localeCompare(String(d.testnr))),X}),ie=le(()=>{const a=k.value.flatMap(h=>h.values);if(a.length===0)return{mean:0,sd:0,ucl:0,lcl:0};const t=a.reduce((h,d)=>h+d,0)/a.length,r=a.reduce((h,d)=>h+Math.pow(d-t,2),0)/a.length,b=Math.sqrt(r),H=t+3*b,X=t-3*b;return{mean:t,sd:b,ucl:H,lcl:X}}),fe=le(()=>ie.value.mean),m=le(()=>ie.value.ucl),v=le(()=>ie.value.lcl),O=le(()=>{if(!U.value||R.value!=="TITULO")return null;for(const a of n.value)if(C(a.NOMCOUNT,a.MATCLASS)===U.value){const r=parseFloat(a.NOMCOUNT);if(!isNaN(r))return console.log("[standardNeValue] Showing standard line for Ne:",U.value,"Value:",r),r}return null}),q=G(!1),$=G(!1),K=G(null),I=G({}),de=G([]),o=G({}),Re=G(!1),_e=G({values:[],husoNumbers:[],testnr:null,timestamp:null,oe:null,standardNe:null}),Fe=G(!0);function ve(a){if(a==null||a==="")return"—";const t=Number(a);return isNaN(t)?"—":Number(t.toFixed(2)).toString()}function i(a){if(a==null||a==="")return"—";const t=Number(a);return isNaN(t)?"—":Number(t.toFixed(2)).toString()}async function Pe(a){var t;if(a){K.value=a,q.value=!0,$.value=!0;try{const r=n.value.find(c=>c.TESTNR===a),b=(r==null?void 0:r.MASCHNR)||(r==null?void 0:r.OE)||(r==null?void 0:r.OE_NRO)||"",H=M(b);let X="";if(r!=null&&r.TIME_STAMP){const c=r.TIME_STAMP;let x=null;if(c instanceof Date)x=c;else if(typeof c=="string"){const D=String(c).match(/^(\d{1,2})\/(\d{1,2})\/(\d{2,4})(?:\s+\d{1,2}:\d{2})?$/);if(D){const B=Number(D[1]),re=Number(D[2])-1;let ee=Number(D[3]);ee<100&&(ee+=2e3),x=new Date(ee,re,B)}else{const B=String(c).match(/^(\d{1,2})-([A-Za-z]{3})-(\d{2,4})$/i);if(B){const re={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11},ee=B[2].toUpperCase(),Ne=re[ee];if(Ne!==void 0){let we=Number(B[3]);we<100&&(we+=2e3),x=new Date(we,Ne,Number(B[1]))}}}}else typeof c=="number"&&(x=c>1e12?new Date(c):new Date(c*1e3));if(x&&!isNaN(x.getTime())){const D=String(x.getDate()).padStart(2,"0"),B=String(x.getMonth()+1).padStart(2,"0"),re=String(x.getFullYear()).slice(-2);X=`${D}/${B}/${re}`}}I.value={fechaStr:X,ne:C(r==null?void 0:r.NOMCOUNT,r==null?void 0:r.MATCLASS)||"",oe:H,u:a,t:"",obs:(r==null?void 0:r.OBS)||"",laborant:(r==null?void 0:r.LABORANT)||"",tensorLaborant:""};let h=(Ee.value||[]).filter(c=>String(c.TESTNR||"")===String(a));const d=(c,x)=>{const D=new Set,B=[];for(const re of c){let ee;try{ee=x(re)}catch{ee=void 0}if(!ee){B.push(re);continue}D.has(ee)||(D.add(ee),B.push(re))}return B};h=d(h,c=>{const x=String(c.TESTNR||c.testnr||""),D=String(c.NO??c.NO_??c.HUSO??c.huso??"");return x&&D?`${x}#${D}`:void 0});const L=(j.value||[]).filter(c=>String(c.USTER_TESTNR||"")===String(a)),z=L.map(c=>String(c.TESTNR||"")).filter(Boolean);z.length>0&&(I.value.t=z.join(", "),(t=L[0])!=null&&t.LABORANT&&(I.value.tensorLaborant=L[0].LABORANT));let E=(be.value||[]).filter(c=>{const x=String(c.TESTNR||"");return z.includes(x)});E=d(E,c=>{const x=String(c.TESTNR||c.testnr||""),D=String(c.HUSO_NUMBER??c.NO??c.no??"");return x&&D?`${x}#${D}`:void 0});const P=new Map;h.forEach(c=>{const x=String(c.NO??c.NO_??c.HUSO??c.huso??"");x&&P.set(x,c)});const A=new Map;E.forEach(c=>{const x=String(c.HUSO_NUMBER??c.NO??c.no??c.huso??"");x&&A.set(x,c)});const S=Array.from(P.keys()).sort((c,x)=>{const D=parseInt(c)||0,B=parseInt(x)||0;return D-B}),W=[],ce=parseFloat(String(I.value.ne||"").replace(",","."));S.forEach(c=>{const x=P.get(c)||{},D=A.get(c)||{},B=x.TITULO??"";let re="";if(ce>0&&B!==""&&!isNaN(parseFloat(B))){const ee=parseFloat(B),Ne=(ce-ee)/ce*100,we=parseFloat(Ne.toFixed(2));re=(Ne>0?"+":"")+we}W.push({NO:c,TITULO:B,DESVIO_PERCENT:re,CVM_PERCENT:x["CVM_%"]??x.CVM_PERCENT??"",DELG_MINUS30_KM:x["DELG_-30%"]??x.DELG_MINUS30_KM??"",DELG_MINUS40_KM:x["DELG_-40%"]??x.DELG_MINUS40_KM??"",DELG_MINUS50_KM:x["DELG_-50%"]??x.DELG_MINUS50_KM??"",GRUE_35_KM:x["GRUE_+35%"]??x.GRUE_35_KM??"",GRUE_50_KM:x["GRUE_+50%"]??x.GRUE_50_KM??"",NEPS_140_KM:x["NEPS_+140%"]??x.NEPS_140_KM??"",NEPS_280_KM:x["NEPS_+280%"]??x.NEPS_280_KM??"",FUERZA_B:D.FUERZA_B??"",ELONGACION:D.ELONGACION??"",TENACIDAD:D.TENACIDAD??"",TRABAJO:D.TRABAJO??""})}),de.value=W;const ne={};if(["TITULO","CVM_PERCENT","DELG_MINUS30_KM","DELG_MINUS40_KM","DELG_MINUS50_KM","GRUE_35_KM","GRUE_50_KM","NEPS_140_KM","NEPS_280_KM","FUERZA_B","ELONGACION","TENACIDAD","TRABAJO"].forEach(c=>{const x=W.map(D=>D[c]).filter(D=>D!=null&&D!=="").map(D=>Number(D)).filter(D=>!isNaN(D));if(x.length>0){const B=x.reduce((Se,Me)=>Se+Me,0)/x.length,re=x.reduce((Se,Me)=>Se+Math.pow(Me-B,2),0)/x.length,ee=Math.sqrt(re),Ne=B!==0?ee/B*100:null;x.sort((Se,Me)=>Se-Me);const we=Math.floor(x.length*.95),$e=x[we],Ge=x[x.length-1],Ke=x[0];ne[c]={avg:B,cv:Ne,sd:ee,q95:$e,max:Ge,min:Ke}}else ne[c]={avg:null,cv:null,sd:null,q95:null,max:null,min:null}}),ne.TITULO&&ne.TITULO.avg!=null&&ce>0){const c=ne.TITULO.avg,x=(ce-c)/ce*100;ne.DESVIO_PERCENT={avg:x}}else ne.DESVIO_PERCENT={avg:null};o.value=ne}catch(r){console.error("Error loading modal data:",r)}finally{$.value=!1}}}function Be(){q.value=!1,K.value=null,I.value={},de.value=[],o.value={}}const ke=le(()=>!K.value||k.value.length===0?-1:k.value.findIndex(a=>a.testnr===K.value)),Ze=le(()=>ke.value>0),Ye=le(()=>ke.value>=0&&ke.value<k.value.length-1);function is(){if(!Ze.value)return;const a=k.value[ke.value-1];a&&Pe(a.testnr)}function ds(){if(!Ye.value)return;const a=k.value[ke.value+1];a&&Pe(a.testnr)}async function Ve(a){if(!a||!a.testnr)return;const t=a.testnr,r=R.value;console.log("[handleOpenHusoDetail] Opening huso detail for:",{testnr:t,variableKey:r});const b=F.find(A=>A.key===r),H=(b==null?void 0:b.source)==="tensorapid";let X=[],h=[];if(H){const A=j.value.filter(S=>S.USTER_TESTNR===t).map(S=>S.TESTNR),_=be.value.filter(S=>A.includes(S.TESTNR)).sort((S,W)=>(S.NO_||S.NO||0)-(W.NO_||W.NO||0));X=_.map(S=>parseFloat(S[r])).filter(S=>!isNaN(S)),h=_.map(S=>S.NO_||S.NO||S.HUSO).filter(Boolean)}else{const A=Ee.value.filter(_=>_.TESTNR===t).sort((_,S)=>(_.NO_||_.NO||0)-(S.NO_||S.NO||0));X=A.map(_=>parseFloat(_[r])).filter(_=>!isNaN(_)),h=A.map(_=>_.NO_||_.NO||_.HUSO).filter(Boolean)}const d=n.value.find(A=>A.TESTNR===t);let L=null;if(d!=null&&d.TIME_STAMP){const A=d.TIME_STAMP;let _=null;if(A instanceof Date)_=A;else if(typeof A=="string"){const S=String(A).match(/^(\d{1,2})\/(\d{1,2})\/(\d{2,4})(?:\s+\d{1,2}:\d{2})?$/);if(S){const W=Number(S[1]),ce=Number(S[2])-1;let ne=Number(S[3]);ne<100&&(ne+=2e3),_=new Date(ne,ce,W)}else{const W=String(A).match(/^(\d{1,2})-([A-Za-z]{3})-(\d{2,4})$/i);if(W){const ce={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11},ne=W[2].toUpperCase(),Le=ce[ne];if(Le!==void 0){let c=Number(W[3]);c<100&&(c+=2e3),_=new Date(c,Le,Number(W[1]))}}}}else typeof A=="number"&&(_=A>1e12?new Date(A):new Date(A*1e3));if(_&&!isNaN(_.getTime())){const S=String(_.getDate()).padStart(2,"0"),W=String(_.getMonth()+1).padStart(2,"0"),ce=String(_.getFullYear()).slice(-2);L=`${S}/${W}/${ce}`}}const z=(d==null?void 0:d.MASCHNR)||(d==null?void 0:d.OE)||(d==null?void 0:d.OE_NRO)||null,E=M(z),P=(d==null?void 0:d.NOMCOUNT)||U.value;_e.value={values:X,husoNumbers:h,testnr:t,timestamp:L,oe:E,standardNe:P},Re.value=!0}function Qe(){Re.value=!1,_e.value={values:[],husoNumbers:[],testnr:null,timestamp:null,oe:null,standardNe:null}}const Ie=le(()=>!_e.value.testnr||k.value.length===0?-1:k.value.findIndex(a=>a.testnr===_e.value.testnr)),Xe=le(()=>Ie.value>0),et=le(()=>Ie.value>=0&&Ie.value<k.value.length-1);function us(){if(!Xe.value)return;const a=k.value[Ie.value-1];a&&Ve({testnr:a.testnr})}function cs(){if(!et.value)return;const a=k.value[Ie.value+1];a&&Ve({testnr:a.testnr})}async function ps(){try{const a=document.querySelector("main.bg-white.rounded-2xl");if(!a){await he.fire({icon:"error",title:"Error",text:"No se pudo encontrar el gráfico."});return}const{toPng:t}=await ms(async()=>{const{toPng:H}=await import("./index-6sdqbm2o.js");return{toPng:H}},[]),r=await t(a,{quality:1,pixelRatio:2,backgroundColor:"#ffffff",skipFonts:!0,cacheBust:!0}),b=await(await fetch(r)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":b})]),await he.fire({icon:"success",title:"¡Copiado!",text:"Gráfico copiado al portapapeles",timer:1500,showConfirmButton:!1})}catch(a){console.error("Error al copiar gráfico:",a),await he.fire({icon:"error",title:"Error",text:"No se pudo copiar el gráfico."})}}async function xs(){try{const a=document.querySelector('[role="document"]');if(!a){he.fire({icon:"error",title:"Error",text:"No se pudo encontrar el modal."});return}const t=document.querySelector('[aria-label="Copiar como imagen"]'),r=document.querySelector('[aria-label="Cerrar detalle"]'),b=t?t.style.visibility:"",H=r?r.style.visibility:"";t&&(t.style.visibility="hidden"),r&&(r.style.visibility="hidden"),await new Promise(h=>setTimeout(h,50)),he.fire({title:"Capturando...",allowOutsideClick:!1,showConfirmButton:!1,timer:50,didOpen:()=>{he.showLoading()}});const X=console.error;console.error=(...h)=>{var L;const d=((L=h[0])==null?void 0:L.toString())||"";d.includes("CSS rules")||d.includes("cssRules")||d.includes("SecurityError")||X.apply(console,h)};try{const h=await rs(a,{quality:.95,pixelRatio:2,backgroundColor:"#ffffff",skipFonts:!0,cacheBust:!0});console.error=X,t&&(t.style.visibility=b),r&&(r.style.visibility=H);const L=await(await fetch(h)).blob();try{await navigator.clipboard.write([new ClipboardItem({"image/png":L})]),he.fire({icon:"success",title:"¡Copiado!",text:"Pega en WhatsApp: Ctrl+V",timer:1500,showConfirmButton:!1})}catch(z){console.warn("[copyModalAsImage] Clipboard failed, downloading instead:",z);const E=document.createElement("a");E.download=`ensayo-${K.value||"detalle"}.png`,E.href=h,E.click(),he.fire({icon:"success",title:"Descargado",text:"Imagen lista para WhatsApp",timer:1500,showConfirmButton:!1})}}catch(h){console.error("[copyModalAsImage] Capture error:",h),console.error=X,t&&(t.style.visibility=b),r&&(r.style.visibility=H),he.fire({icon:"error",title:"Error al capturar",text:"No se pudo generar la imagen."})}}catch(a){console.error("[copyModalAsImage] Unexpected error:",a),he.fire({icon:"error",title:"Error",text:"Ocurrió un error al copiar la imagen."})}}return We(()=>{if(u(),window.addEventListener("resize",ye),console.log("[UsterStatsPage] mount width=",xe.value,"isMobile=",me.value),oe)try{oe.addEventListener("change",t=>{me.value=t.matches,xe.value=typeof window<"u"?window.innerWidth:0,console.log("[UsterStatsPage] matchMedia change width=",xe.value,"isMobile=",me.value)})}catch{}const a=t=>{t.key==="Escape"&&(q.value?Be():Re.value&&Qe())};window.addEventListener("keydown",a),Je(()=>{window.removeEventListener("keydown",a);try{window.removeEventListener("resize",ye)}catch{}})}),(a,t)=>{var b,H,X,h,d,L,z,E,P,A,_,S,W,ce,ne,Le,c,x,D,B,re,ee,Ne,we,$e,Ge,Ke,Se,Me,lt,at,ot,nt,rt,it,dt,ut,ct,pt,xt,ft,mt,vt,bt,ht,gt,yt,_t,Nt,wt,Et,St,Mt,Ct,Tt,Ot,Lt,At,Ut,Dt,kt,It,Rt,Pt,Vt,$t,Gt,Kt,Ft,Bt,zt,Ht,jt,qt,Wt,Jt,Zt,Yt,Qt,Xt,es,ts,ss,ls;const r=os("tippy");return g(),y("div",ll,[Q.value?(g(),y("div",al," w: "+s(xe.value)+" | isMobile: "+s(me.value),1)):ae("",!0),e("main",ol,[T.value?(g(),y("div",nl,[...t[9]||(t[9]=[e("div",{class:"text-slate-600 text-lg"},"Cargando datos...",-1)])])):f.value?(g(),y("div",rl,[e("div",il,"Error: "+s(f.value),1),e("button",{onClick:u,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Reintentar ")])):me.value?(g(),y("div",dl,[e("div",ul,[t[12]||(t[12]=e("span",{class:"text-sm text-slate-600 shrink-0"},"Ne:",-1)),te(e("select",{"onUpdate:modelValue":t[0]||(t[0]=p=>U.value=p),class:"px-1 py-1 border rounded-md text-sm shrink-0",style:{width:"10ch","min-width":"10ch","max-width":"10ch"}},[t[10]||(t[10]=e("option",{value:null},"Elija Ne",-1)),(g(!0),y(Ce,null,Te(V.value,p=>(g(),y("option",{key:p,value:p},s(p),9,cl))),128))],512),[[Ue,U.value]]),t[13]||(t[13]=e("span",{class:"text-sm text-slate-600 shrink-0"},"OE:",-1)),te(e("select",{"onUpdate:modelValue":t[1]||(t[1]=p=>N.value=p),disabled:!U.value,class:"px-1 py-1 border rounded-md text-sm shrink-0",style:{width:"7ch","min-width":"7ch","max-width":"7ch"}},[t[11]||(t[11]=e("option",{value:null},"Todos",-1)),(g(!0),y(Ce,null,Te(J.value,p=>(g(),y("option",{key:p,value:p},s(p),9,xl))),128))],8,pl),[[Ue,N.value]]),t[14]||(t[14]=e("span",{class:"text-sm text-slate-600 shrink-0"},"Ver:",-1)),te(e("select",{"onUpdate:modelValue":t[2]||(t[2]=p=>R.value=p),class:"px-1 py-1 border rounded-md text-sm flex-1 min-w-0 max-w-full overflow-hidden text-ellipsis"},[(g(),y(Ce,null,Te(F,p=>e("option",{key:p.key,value:p.key},s(p.label),9,fl)),64))],512),[[Ue,R.value]])]),U.value?(g(),y("div",ml,[e("div",vl,[t[15]||(t[15]=e("span",{class:"font-semibold"},"LCL:",-1)),t[16]||(t[16]=se()),e("span",bl,s(v.value.toFixed(1)),1)]),e("div",hl,[t[17]||(t[17]=e("span",{class:"font-semibold"},"Prom.:",-1)),se(" "+s(fe.value.toFixed(1)),1)]),e("div",gl,[t[18]||(t[18]=e("span",{class:"font-semibold"},"UCL:",-1)),t[19]||(t[19]=se()),e("span",yl,s(m.value.toFixed(1)),1)]),e("div",_l,[t[20]||(t[20]=e("span",{class:"font-semibold"},"Ensayos:",-1)),se(" "+s(k.value.length),1)])])):ae("",!0),U.value?(g(),y("div",wl,[e("div",El,[ze(as,{stats:k.value,globalMean:fe.value,globalUcl:m.value,globalLcl:v.value,variableLabel:w.value,standardValue:O.value,onOpenEnsayoDetail:Pe,onOpenHusoDetail:Ve},null,8,["stats","globalMean","globalUcl","globalLcl","variableLabel","standardValue"])])])):(g(),y("div",Nl," Por favor seleccione un título nominal para ver el gráfico de control "))])):(g(),y("div",Sl,[e("div",Ml,[e("div",Cl,[e("div",Tl,[e("div",Ol,[te((g(),y("button",{onClick:t[3]||(t[3]=p=>l("oracle")),disabled:!He(pe),"aria-label":"Cambiar a Oracle",class:Oe(["inline-flex items-center justify-center w-7 h-7 rounded-full transition-all duration-200",Y.value==="oracle"?"bg-blue-600 text-white shadow-sm":"bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-600",He(pe)?"":"opacity-50 cursor-not-allowed"])},[...t[21]||(t[21]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"}),e("line",{x1:"8",y1:"21",x2:"16",y2:"21"}),e("line",{x1:"12",y1:"17",x2:"12",y2:"21"})],-1)])],10,Ll)),[[r,{content:He(pe)?"Datos desde Oracle (Localhost)":"Oracle solo disponible en localhost",placement:"bottom",theme:"custom"}]]),te((g(),y("button",{onClick:t[4]||(t[4]=p=>l("firebase")),"aria-label":"Cambiar a Firebase",class:Oe(["inline-flex items-center justify-center w-7 h-7 rounded-full transition-all duration-200",Y.value==="firebase"?"bg-orange-500 text-white shadow-sm":"bg-slate-50 text-slate-400 hover:bg-slate-100 hover:text-slate-600"])},[...t[22]||(t[22]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M3.89 15.672L6.255.461A.542.542 0 017.27.288l2.543 4.771zm16.794 3.692l-2.25-14a.54.54 0 00-.919-.295L3.316 19.365l7.856 4.427a1.621 1.621 0 001.588 0zM14.3 7.147l-1.82-3.482a.542.542 0 00-.96 0L3.53 17.984z"})],-1)])],2)),[[r,{content:"Datos desde Firebase (Producción)",placement:"bottom",theme:"custom"}]])]),e("div",Al,[e("div",Ul,[t[24]||(t[24]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider"},"Ne",-1)),te(e("select",{"onUpdate:modelValue":t[5]||(t[5]=p=>U.value=p),class:"px-2 py-1 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-slate-50/50 hover:bg-white transition-colors font-medium text-slate-700",style:{width:"10ch","min-width":"10ch","max-width":"10ch"}},[t[23]||(t[23]=e("option",{value:null},"Elija Ne",-1)),(g(!0),y(Ce,null,Te(V.value,p=>(g(),y("option",{key:p,value:p},s(p),9,Dl))),128))],512),[[Ue,U.value]])]),e("div",kl,[t[26]||(t[26]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider"},"OE",-1)),te(e("select",{"onUpdate:modelValue":t[6]||(t[6]=p=>N.value=p),disabled:!U.value,class:"px-2 py-1 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-slate-50/50 hover:bg-white transition-colors text-slate-700 min-w-[5rem] disabled:opacity-50"},[t[25]||(t[25]=e("option",{value:null},"Todos",-1)),(g(!0),y(Ce,null,Te(J.value,p=>(g(),y("option",{key:p,value:p},s(p),9,Rl))),128))],8,Il),[[Ue,N.value]])]),e("div",Pl,[t[27]||(t[27]=e("span",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-wider"},"Ver",-1)),te(e("select",{"onUpdate:modelValue":t[7]||(t[7]=p=>R.value=p),class:"px-2 py-1 text-sm border border-slate-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 bg-slate-50/50 hover:bg-white transition-colors text-slate-700"},[(g(),y(Ce,null,Te(F,p=>e("option",{key:p.key,value:p.key},s(p.label),9,Vl)),64))],512),[[Ue,R.value]])])])]),U.value?(g(),y("div",$l,[e("div",Gl,[e("div",Kl,[t[28]||(t[28]=e("span",{class:"text-slate-400 font-medium text-xs uppercase"},"LCL",-1)),e("span",Fl,s(v.value.toFixed(1)),1)]),t[32]||(t[32]=e("div",{class:"w-px h-3 bg-slate-200"},null,-1)),e("div",Bl,[t[29]||(t[29]=e("span",{class:"text-slate-400 font-medium text-xs uppercase"},"Promedio",-1)),e("span",zl,s(fe.value.toFixed(1)),1)]),t[33]||(t[33]=e("div",{class:"w-px h-3 bg-slate-200"},null,-1)),e("div",Hl,[t[30]||(t[30]=e("span",{class:"text-slate-400 font-medium text-xs uppercase"},"UCL",-1)),e("span",jl,s(m.value.toFixed(1)),1)]),t[34]||(t[34]=e("div",{class:"w-px h-3 bg-slate-200"},null,-1)),e("div",ql,[t[31]||(t[31]=e("span",{class:"text-slate-400 font-medium text-xs uppercase"},"Total",-1)),e("span",Wl,s(k.value.length),1)])]),e("div",Jl,[e("label",Zl,[te(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=p=>Fe.value=p),class:"w-4 h-4 text-blue-600 bg-white border-slate-300 rounded focus:ring-blue-500 focus:ring-2 cursor-pointer"},null,512),[[ns,Fe.value]]),t[35]||(t[35]=e("span",{class:"text-xs font-normal text-slate-700"},"Mostrar Valores",-1))])]),e("div",Yl,[t[38]||(t[38]=e("span",{class:"text-[10px] text-slate-500 font-medium mr-0.5"},"Atajos:",-1)),te((g(),y("span",Ql,[...t[36]||(t[36]=[se(" Ctrl ",-1)])])),[[r,{content:"Presione Ctrl sobre un punto del grafico para ver los valores de los ensayos de Uster y Tensorapid",placement:"bottom"}]]),te((g(),y("span",Xl,[...t[37]||(t[37]=[se(" Shift ",-1)])])),[[r,{content:"Presione Shift sobre un punto del grafico para ver un grafico con los valores de ese dia por cada huso",placement:"bottom"}]])]),e("div",ea,[te((g(),y("button",{onClick:ps,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-blue-400 hover:bg-blue-50 flex items-center justify-center text-slate-600 hover:text-blue-600 transition-all duration-200 group shadow-sm hover:shadow-md","aria-label":"Copiar como imagen"},[...t[39]||(t[39]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])),[[r,{content:"Copiar como imagen para WhatsApp",placement:"bottom",theme:"custom"}]])])])):ae("",!0)])]),U.value?(g(),y("div",sa,[ze(as,{stats:k.value,globalMean:fe.value,globalUcl:m.value,globalLcl:v.value,variableLabel:w.value,standardValue:O.value,showValues:Fe.value,onOpenEnsayoDetail:Pe,onOpenHusoDetail:Ve},null,8,["stats","globalMean","globalUcl","globalLcl","variableLabel","standardValue","showValues"])])):(g(),y("div",ta," Por favor seleccione un título nominal para ver el gráfico de control "))])),q.value?(g(),y("div",la,[e("div",{class:"fixed inset-0 bg-gradient-to-br from-slate-900/50 to-slate-800/50 backdrop-blur-sm z-40",onClick:Be,"aria-hidden":"true"}),e("div",aa,[Ze.value?te((g(),y("button",{key:0,onClick:is,class:"absolute left-0 top-1/2 -translate-y-1/2 -ml-6 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 z-50","aria-label":"Ensayo anterior"},[...t[40]||(t[40]=[se("‹",-1)])])),[[r,{content:"Anterior — Atajo: ← (ArrowLeft)",placement:"left",theme:"custom"}]]):ae("",!0),Ye.value?te((g(),y("button",{key:1,onClick:ds,class:"absolute right-0 top-1/2 -translate-y-1/2 -mr-6 w-10 h-10 rounded-full bg-white border border-slate-200 shadow-sm flex items-center justify-center text-2xl text-slate-700 hover:bg-slate-50 z-50","aria-label":"Ensayo siguiente"},[...t[41]||(t[41]=[se("›",-1)])])),[[r,{content:"Siguiente — Atajo: → (ArrowRight)",placement:"right",theme:"custom"}]]):ae("",!0),e("header",oa,[e("div",na,[e("div",ra,[t[42]||(t[42]=se("Fecha: ",-1)),e("span",ia,s(I.value.fechaStr),1)]),e("div",da,[t[43]||(t[43]=se("Ne: ",-1)),e("span",ua,s(I.value.ne),1)]),e("div",ca,[t[44]||(t[44]=se("OE Nro.: ",-1)),e("span",pa,s(I.value.oe),1)]),e("div",xa,[t[45]||(t[45]=se("Ensayo Uster ",-1)),e("span",fa,s(I.value.u),1),t[46]||(t[46]=se(" y TensoRapid ",-1)),e("span",ma,s(I.value.t),1)])]),e("div",va,[te((g(),y("button",{onClick:xs,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-blue-400 hover:bg-blue-50 flex items-center justify-center text-slate-600 hover:text-blue-600 transition-all duration-200 group shadow-sm hover:shadow-md","aria-label":"Copiar como imagen"},[...t[47]||(t[47]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])])),[[r,{content:"Copiar como imagen para WhatsApp",placement:"bottom",theme:"custom"}]]),e("button",{onClick:Be,type:"button",class:"w-9 h-9 rounded-lg bg-white border border-slate-200 hover:border-red-400 hover:bg-red-50 flex items-center justify-center text-slate-600 hover:text-red-600 transition-all duration-200 shadow-sm hover:shadow-md","aria-label":"Cerrar detalle"},[...t[48]||(t[48]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])]),I.value.obs||I.value.laborant||I.value.tensorLaborant?(g(),y("div",ba,[I.value.obs?(g(),y("div",ha,[t[49]||(t[49]=e("span",null,"Obs.:",-1)),e("span",ga,s(I.value.obs),1)])):ae("",!0),I.value.laborant?(g(),y("div",ya,[t[50]||(t[50]=e("span",null,"Op. Uster:",-1)),e("span",_a,s(I.value.laborant),1)])):ae("",!0),I.value.tensorLaborant?(g(),y("div",Na,[t[51]||(t[51]=e("span",null,"Op. TensoRapid:",-1)),e("span",wa,s(I.value.tensorLaborant),1)])):ae("",!0)])):ae("",!0),e("section",Ea,[de.value.length===0?(g(),y("div",Sa,"No hay datos para este ensayo.")):(g(),y("div",Ma,[e("table",Ca,[t[63]||(t[63]=e("thead",{class:"bg-gradient-to-r from-slate-50 to-slate-100 sticky top-0 z-30"},[e("tr",null,[e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Huso"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Titulo"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Desvío %"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," CVm %"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Delg -30%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Delg -40%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Delg -50%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Grue +35%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Grue +50%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Neps +140%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Neps +280%"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Fuerza B"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Elongación %"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Tenacidad"),e("th",{class:"px-3 py-2 text-center font-semibold text-slate-700 border-b border-slate-200"}," Trabajo")])],-1)),e("tbody",null,[(g(!0),y(Ce,null,Te(de.value,(p,fs)=>(g(),y("tr",{key:fs,class:Oe(["transition-colors duration-150",$.value?"bg-slate-50/50":"hover:bg-slate-50"])},[e("td",Ta,s(p.NO),1),e("td",Oa,s(ve(p.TITULO)),1),e("td",{class:Oe(["px-3 py-1 text-center border-b border-slate-100 font-semibold",{"text-red-600":p.DESVIO_PERCENT&&parseFloat(p.DESVIO_PERCENT)>1.5,"text-blue-600":p.DESVIO_PERCENT&&parseFloat(p.DESVIO_PERCENT)<-1.5,"text-green-600":p.DESVIO_PERCENT&&parseFloat(p.DESVIO_PERCENT)>=-1.5&&parseFloat(p.DESVIO_PERCENT)<=1.5,"text-slate-700":!p.DESVIO_PERCENT}])},s(p.DESVIO_PERCENT?p.DESVIO_PERCENT+"%":""),3),e("td",La,s(ve(p.CVM_PERCENT)),1),e("td",Aa,s(ve(p.DELG_MINUS30_KM)),1),e("td",Ua,s(ve(p.DELG_MINUS40_KM)),1),e("td",Da,s(ve(p.DELG_MINUS50_KM)),1),e("td",ka,s(ve(p.GRUE_35_KM)),1),e("td",Ia,s(ve(p.GRUE_50_KM)),1),e("td",Ra,s(ve(p.NEPS_140_KM)),1),e("td",Pa,s(ve(p.NEPS_280_KM)),1),e("td",Va,s(ve(p.FUERZA_B)),1),e("td",$a,s(ve(p.ELONGACION)),1),e("td",Ga,s(ve(p.TENACIDAD)),1),e("td",Ka,s(ve(p.TRABAJO)),1)],2))),128)),e("tr",Fa,[t[52]||(t[52]=e("td",{class:"px-3 py-1 text-slate-700"},"Promedio",-1)),e("td",Ba,s(i((b=o.value.TITULO)==null?void 0:b.avg)),1),e("td",{class:Oe(["px-3 py-1 text-center font-semibold",{"text-red-600":((H=o.value.DESVIO_PERCENT)==null?void 0:H.avg)>1.5,"text-blue-600":((X=o.value.DESVIO_PERCENT)==null?void 0:X.avg)<-1.5,"text-green-600":((h=o.value.DESVIO_PERCENT)==null?void 0:h.avg)>=-1.5&&((d=o.value.DESVIO_PERCENT)==null?void 0:d.avg)<=1.5,"text-slate-700":((L=o.value.DESVIO_PERCENT)==null?void 0:L.avg)==null}])},s(((z=o.value.DESVIO_PERCENT)==null?void 0:z.avg)!=null?(o.value.DESVIO_PERCENT.avg>0?"+":"")+i(o.value.DESVIO_PERCENT.avg)+"%":""),3),e("td",za,s(i((E=o.value.CVM_PERCENT)==null?void 0:E.avg)),1),e("td",Ha,s(i((P=o.value.DELG_MINUS30_KM)==null?void 0:P.avg)),1),e("td",ja,s(i((A=o.value.DELG_MINUS40_KM)==null?void 0:A.avg)),1),e("td",qa,s(i((_=o.value.DELG_MINUS50_KM)==null?void 0:_.avg)),1),e("td",Wa,s(i((S=o.value.GRUE_35_KM)==null?void 0:S.avg)),1),e("td",Ja,s(i((W=o.value.GRUE_50_KM)==null?void 0:W.avg)),1),e("td",Za,s(i((ce=o.value.NEPS_140_KM)==null?void 0:ce.avg)),1),e("td",Ya,s(i((ne=o.value.NEPS_280_KM)==null?void 0:ne.avg)),1),e("td",Qa,s(i((Le=o.value.FUERZA_B)==null?void 0:Le.avg)),1),e("td",Xa,s(i((c=o.value.ELONGACION)==null?void 0:c.avg)),1),e("td",eo,s(i((x=o.value.TENACIDAD)==null?void 0:x.avg)),1),e("td",to,s(i((D=o.value.TRABAJO)==null?void 0:D.avg)),1)]),e("tr",so,[t[53]||(t[53]=e("td",{class:"px-3 py-1 text-slate-700"},"CV",-1)),e("td",lo,s(i((B=o.value.TITULO)==null?void 0:B.cv)),1),t[54]||(t[54]=e("td",{class:"px-3 py-1 text-center text-slate-700"},null,-1)),e("td",ao,s(i((re=o.value.CVM_PERCENT)==null?void 0:re.cv)),1),e("td",oo,s(i((ee=o.value.DELG_MINUS30_KM)==null?void 0:ee.cv)),1),e("td",no,s(i((Ne=o.value.DELG_MINUS40_KM)==null?void 0:Ne.cv)),1),e("td",ro,s(i((we=o.value.DELG_MINUS50_KM)==null?void 0:we.cv)),1),e("td",io,s(i(($e=o.value.GRUE_35_KM)==null?void 0:$e.cv)),1),e("td",uo,s(i((Ge=o.value.GRUE_50_KM)==null?void 0:Ge.cv)),1),e("td",co,s(i((Ke=o.value.NEPS_140_KM)==null?void 0:Ke.cv)),1),e("td",po,s(i((Se=o.value.NEPS_280_KM)==null?void 0:Se.cv)),1),e("td",xo,s(i((Me=o.value.FUERZA_B)==null?void 0:Me.cv)),1),e("td",fo,s(i((lt=o.value.ELONGACION)==null?void 0:lt.cv)),1),e("td",mo,s(i((at=o.value.TENACIDAD)==null?void 0:at.cv)),1),e("td",vo,s(i((ot=o.value.TRABAJO)==null?void 0:ot.cv)),1)]),e("tr",bo,[t[55]||(t[55]=e("td",{class:"px-3 py-1 text-slate-700"},"s",-1)),e("td",ho,s(i((nt=o.value.TITULO)==null?void 0:nt.sd)),1),t[56]||(t[56]=e("td",{class:"px-3 py-1 text-center text-slate-700"},null,-1)),e("td",go,s(i((rt=o.value.CVM_PERCENT)==null?void 0:rt.sd)),1),e("td",yo,s(i((it=o.value.DELG_MINUS30_KM)==null?void 0:it.sd)),1),e("td",_o,s(i((dt=o.value.DELG_MINUS40_KM)==null?void 0:dt.sd)),1),e("td",No,s(i((ut=o.value.DELG_MINUS50_KM)==null?void 0:ut.sd)),1),e("td",wo,s(i((ct=o.value.GRUE_35_KM)==null?void 0:ct.sd)),1),e("td",Eo,s(i((pt=o.value.GRUE_50_KM)==null?void 0:pt.sd)),1),e("td",So,s(i((xt=o.value.NEPS_140_KM)==null?void 0:xt.sd)),1),e("td",Mo,s(i((ft=o.value.NEPS_280_KM)==null?void 0:ft.sd)),1),e("td",Co,s(i((mt=o.value.FUERZA_B)==null?void 0:mt.sd)),1),e("td",To,s(i((vt=o.value.ELONGACION)==null?void 0:vt.sd)),1),e("td",Oo,s(i((bt=o.value.TENACIDAD)==null?void 0:bt.sd)),1),e("td",Lo,s(i((ht=o.value.TRABAJO)==null?void 0:ht.sd)),1)]),e("tr",Ao,[t[57]||(t[57]=e("td",{class:"px-3 py-1 text-slate-700"},"Q95",-1)),e("td",Uo,s(i((gt=o.value.TITULO)==null?void 0:gt.q95)),1),t[58]||(t[58]=e("td",{class:"px-3 py-1 text-center text-slate-700"},null,-1)),e("td",Do,s(i((yt=o.value.CVM_PERCENT)==null?void 0:yt.q95)),1),e("td",ko,s(i((_t=o.value.DELG_MINUS30_KM)==null?void 0:_t.q95)),1),e("td",Io,s(i((Nt=o.value.DELG_MINUS40_KM)==null?void 0:Nt.q95)),1),e("td",Ro,s(i((wt=o.value.DELG_MINUS50_KM)==null?void 0:wt.q95)),1),e("td",Po,s(i((Et=o.value.GRUE_35_KM)==null?void 0:Et.q95)),1),e("td",Vo,s(i((St=o.value.GRUE_50_KM)==null?void 0:St.q95)),1),e("td",$o,s(i((Mt=o.value.NEPS_140_KM)==null?void 0:Mt.q95)),1),e("td",Go,s(i((Ct=o.value.NEPS_280_KM)==null?void 0:Ct.q95)),1),e("td",Ko,s(i((Tt=o.value.FUERZA_B)==null?void 0:Tt.q95)),1),e("td",Fo,s(i((Ot=o.value.ELONGACION)==null?void 0:Ot.q95)),1),e("td",Bo,s(i((Lt=o.value.TENACIDAD)==null?void 0:Lt.q95)),1),e("td",zo,s(i((At=o.value.TRABAJO)==null?void 0:At.q95)),1)]),e("tr",Ho,[t[59]||(t[59]=e("td",{class:"px-3 py-1 text-slate-700"},"Máx",-1)),e("td",jo,s(i((Ut=o.value.TITULO)==null?void 0:Ut.max)),1),t[60]||(t[60]=e("td",{class:"px-3 py-1 text-center text-slate-700"},null,-1)),e("td",qo,s(i((Dt=o.value.CVM_PERCENT)==null?void 0:Dt.max)),1),e("td",Wo,s(i((kt=o.value.DELG_MINUS30_KM)==null?void 0:kt.max)),1),e("td",Jo,s(i((It=o.value.DELG_MINUS40_KM)==null?void 0:It.max)),1),e("td",Zo,s(i((Rt=o.value.DELG_MINUS50_KM)==null?void 0:Rt.max)),1),e("td",Yo,s(i((Pt=o.value.GRUE_35_KM)==null?void 0:Pt.max)),1),e("td",Qo,s(i((Vt=o.value.GRUE_50_KM)==null?void 0:Vt.max)),1),e("td",Xo,s(i(($t=o.value.NEPS_140_KM)==null?void 0:$t.max)),1),e("td",en,s(i((Gt=o.value.NEPS_280_KM)==null?void 0:Gt.max)),1),e("td",tn,s(i((Kt=o.value.FUERZA_B)==null?void 0:Kt.max)),1),e("td",sn,s(i((Ft=o.value.ELONGACION)==null?void 0:Ft.max)),1),e("td",ln,s(i((Bt=o.value.TENACIDAD)==null?void 0:Bt.max)),1),e("td",an,s(i((zt=o.value.TRABAJO)==null?void 0:zt.max)),1)]),e("tr",on,[t[61]||(t[61]=e("td",{class:"px-3 py-1 text-slate-700"},"Mín",-1)),e("td",nn,s(i((Ht=o.value.TITULO)==null?void 0:Ht.min)),1),t[62]||(t[62]=e("td",{class:"px-3 py-1 text-center text-slate-700"},null,-1)),e("td",rn,s(i((jt=o.value.CVM_PERCENT)==null?void 0:jt.min)),1),e("td",dn,s(i((qt=o.value.DELG_MINUS30_KM)==null?void 0:qt.min)),1),e("td",un,s(i((Wt=o.value.DELG_MINUS40_KM)==null?void 0:Wt.min)),1),e("td",cn,s(i((Jt=o.value.DELG_MINUS50_KM)==null?void 0:Jt.min)),1),e("td",pn,s(i((Zt=o.value.GRUE_35_KM)==null?void 0:Zt.min)),1),e("td",xn,s(i((Yt=o.value.GRUE_50_KM)==null?void 0:Yt.min)),1),e("td",fn,s(i((Qt=o.value.NEPS_140_KM)==null?void 0:Qt.min)),1),e("td",mn,s(i((Xt=o.value.NEPS_280_KM)==null?void 0:Xt.min)),1),e("td",vn,s(i((es=o.value.FUERZA_B)==null?void 0:es.min)),1),e("td",bn,s(i((ts=o.value.ELONGACION)==null?void 0:ts.min)),1),e("td",hn,s(i((ss=o.value.TENACIDAD)==null?void 0:ss.min)),1),e("td",gn,s(i((ls=o.value.TRABAJO)==null?void 0:ls.min)),1)])])])])),$.value?(g(),y("div",yn,[...t[64]||(t[64]=[e("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-slate-300 border-t-blue-600"},null,-1),e("p",{class:"mt-3 text-base text-slate-700 font-medium"},"Cargando ensayo...",-1)])])):ae("",!0)])])])):ae("",!0),ze(sl,{visible:Re.value,values:_e.value.values,husoNumbers:_e.value.husoNumbers,testnr:_e.value.testnr,timestamp:_e.value.timestamp,oe:_e.value.oe,standardNe:_e.value.standardNe,variableLabel:w.value,canNavigatePrevious:Xe.value,canNavigateNext:et.value,onClose:Qe,onNavigatePrevious:us,onNavigateNext:cs},null,8,["visible","values","husoNumbers","testnr","timestamp","oe","standardNe","variableLabel","canNavigatePrevious","canNavigateNext"])])])}}},Cn=qe(_n,[["__scopeId","data-v-79e42faa"]]);export{Cn as default};
